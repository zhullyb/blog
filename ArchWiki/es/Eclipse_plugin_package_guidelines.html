<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Eclipse plugin package guidelines (Español) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Eclipse_plugin_package_guidelines_Español rootpage-Eclipse_plugin_package_guidelines_Español skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Eclipse plugin package guidelines (Español)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Estado de la traducción:</strong> este artículo es una traducción de <a href="../en/Eclipse_plugin_package_guidelines.html" title="Eclipse plugin package guidelines">Eclipse plugin package guidelines</a> revisada por última vez el <b>2018-10-03</b>. Si advierte que la versión inglesa <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Eclipse_plugin_package_guidelines&amp;diff=0&amp;oldid=545792">ha cambiado</a> puede actualizar la traducción <a href="../es/ArchWiki:f6ecee2fb17812f6654b3a6ff807d392.html" class="mw-redirect" title="ArchWiki:Translation Team/Contributing (Español)">usted mismo</a> o avisar al <a href="../es/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (Español)">equipo de traducción</a>.</div>
<div class="toc" style="display:block; text-align: center; margin-bottom: 1em;">
<b><a href="../en/Arch_package_guidelines.html" title="Arch package guidelines">Arch package guidelines</a></b>
<hr>
<p><a href="../en/32-bit_package_guidelines.html" title="32-bit package guidelines">32-bit</a> – <a href="../en/CLR_package_guidelines.html" title="CLR package guidelines">CLR</a> – <a href="../en/CMake_package_guidelines.html" title="CMake package guidelines">CMake</a> – <a href="../en/Cross-compiling_tools_package_guidelines.html" title="Cross-compiling tools package guidelines">Cross</a> – <a href="../en/DKMS_package_guidelines.html" title="DKMS package guidelines">DKMS</a> – <a href="../en/Eclipse_plugin_package_guidelines.html" title="Eclipse plugin package guidelines">Eclipse</a> – <a href="../en/Electron_package_guidelines.html" title="Electron package guidelines">Electron</a> – <a href="../en/Font_package_guidelines.html" class="mw-redirect" title="Font packaging guidelines">Font</a> – <a href="../en/Free_Pascal_package_guidelines.html" title="Free Pascal package guidelines">Free Pascal</a> – <a href="../en/GNOME_package_guidelines.html" title="GNOME package guidelines">GNOME</a> – <a href="../en/Go_package_guidelines.html" title="Go package guidelines">Go</a> – <a href="../en/Haskell_package_guidelines.html" title="Haskell package guidelines">Haskell</a> – <a href="../en/Java_package_guidelines.html" title="Java package guidelines">Java</a> – <a href="../en/KDE_package_guidelines.html" title="KDE package guidelines">KDE</a> – <a href="../en/Kernel_module_package_guidelines.html" title="Kernel module package guidelines">Kernel</a> – <a href="../en/Lisp_package_guidelines.html" title="Lisp package guidelines">Lisp</a> – <a href="../en/Meson_package_guidelines.html" title="Meson package guidelines">Meson</a> – <a href="../en/MinGW_package_guidelines.html" title="MinGW package guidelines">MinGW</a> – <a href="../en/Node.js_package_guidelines.html" title="Node.js package guidelines">Node.js</a> – <a href="../en/Nonfree_applications_package_guidelines.html" title="Nonfree applications package guidelines">Nonfree</a> – <a href="../en/OCaml_package_guidelines.html" title="OCaml package guidelines">OCaml</a> – <a href="../en/Perl_package_guidelines.html" title="Perl package guidelines">Perl</a> – <a href="../en/PHP_package_guidelines.html" title="PHP package guidelines">PHP</a> – <a href="../en/Python_package_guidelines.html" title="Python package guidelines">Python</a> – <a href="../en/R_package_guidelines.html" title="R package guidelines">R</a> – <a href="../en/Ruby_Gem_package_guidelines.html" title="Ruby Gem package guidelines">Ruby</a> – <a href="../en/Rust_package_guidelines.html" title="Rust package guidelines">Rust</a> – <a href="../en/VCS_package_guidelines.html" title="VCS package guidelines">VCS</a> – <a href="../en/Web_application_package_guidelines.html" title="Web application package guidelines">Web</a> – <a href="../en/Wine_package_guidelines.html" title="Wine package guidelines">Wine</a>
</p>
</div>
<p>Hay muchas formas de instalar complementos de trabajo <a href="../es/Eclipse.html" title="Eclipse (Español)">Eclipse (Español)</a>, especialmente desde la introducción del directorio <i>dropins</i> en Eclipse 3.4, pero algunos de ellos son desordenados, y tener una forma de empaquetado estandarizada y consistente es muy importante para llevar a una estructura de sistema limpia. Sin embargo, no es fácil lograr esto sin que el empaquetador sepa cada detalle sobre cómo funcionan los complementos de Eclipse. Esta página tiene como objetivo definir una estructura estándar y simple para el complemento Eclipse <a href="../es/PKGBUILD.html" title="PKGBUILD (Español)">PKGBUILDs</a>, de modo que la estructura del sistema de archivos pueda permanecer consistente entre todos los complementos sin tener que empacar nuevamente el paquete para cada nuevo paquete.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Estructura_e_instalaci%C3%B3n_de_complementos_de_eclipse"><span class="tocnumber">1</span> <span class="toctext">Estructura e instalación de complementos de eclipse</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#Empaquetado"><span class="tocnumber">2</span> <span class="toctext">Empaquetado</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Muestra_de_PKGBUILD"><span class="tocnumber">2.1</span> <span class="toctext">Muestra de PKGBUILD</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#C%C3%B3mo_personalizar_la_construcci%C3%B3n"><span class="tocnumber">2.2</span> <span class="toctext">Cómo personalizar la construcción</span></a></li>
<li class="toclevel-2 tocsection-5">
<a href="#Revisi%C3%B3n_en_profundidad_de_PKGBUILD"><span class="tocnumber">2.3</span> <span class="toctext">Revisión en profundidad de PKGBUILD</span></a>
<ul>
<li class="toclevel-3 tocsection-6"><a href="#Nombre_del_paquete"><span class="tocnumber">2.3.1</span> <span class="toctext">Nombre del paquete</span></a></li>
<li class="toclevel-3 tocsection-7">
<a href="#Archivos"><span class="tocnumber">2.3.2</span> <span class="toctext">Archivos</span></a>
<ul>
<li class="toclevel-4 tocsection-8"><a href="#Extracci%C3%B3n"><span class="tocnumber">2.3.2.1</span> <span class="toctext">Extracción</span></a></li>
<li class="toclevel-4 tocsection-9"><a href="#Ubicaciones"><span class="tocnumber">2.3.2.2</span> <span class="toctext">Ubicaciones</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-10"><a href="#La_funsi%C3%B3n_build()"><span class="tocnumber">2.3.3</span> <span class="toctext">La funsión build()</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-11"><a href="#Soluci%C3%B3n_de_problemas"><span class="tocnumber">3</span> <span class="toctext">Solución de problemas</span></a></li>
</ul>
</div>

<h2>
<span id="Estructura_e_instalaci.C3.B3n_de_complementos_de_eclipse"></span><span class="mw-headline" id="Estructura_e_instalación_de_complementos_de_eclipse">Estructura e instalación de complementos de eclipse</span>
</h2>
<p>El complemento típico de Eclipse contiene dos directorios, <code>características</code> y <code>complementos</code>, y desde Eclipse 3.3 solo se pueden colocar en <code>/usr/lib/eclipse/</code>. El contenido de estos dos directorios podría mezclarse con el de otros complementos, lo que creó un desorden y dificultó la administración de la estructura. También fue muy difícil saber de un vistazo qué paquete contenía qué archivo.
</p>
<p>Este método de instalación aún es compatible con Eclipse 3.4, pero el preferido ahora es usando el directorio<code>/usr/lib/eclipse/dropins/</code>. Dentro de este directorio pueden haber un número ilimitado de subdirectorios, cada uno con sus propias <code>características</code> y <code>complementos</code>. Esto permite mantener una estructura ordenada y limpia, y debe ser el método de empaquetado estándar.
</p>
<h2><span class="mw-headline" id="Empaquetado">Empaquetado</span></h2>
<h3><span class="mw-headline" id="Muestra_de_PKGBUILD">Muestra de PKGBUILD</span></h3>
<p>Aquí hay un ejemplo, detallaremos cómo personalizarlo a continuación.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">PKGBUILD-eclipse.proto</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">pkgname=eclipse-mylyn
pkgver=3.0.3
pkgrel=1
pkgdesc="A task-focused interface for Eclipse"
arch=('any')
url="https://eclipse.org/mylyn/"
license=('EPL')
depends=('eclipse')
optdepends=('bugzilla: ticketing support')
source=(https://download.eclipse.org/tools/mylyn/update/mylyn-${pkgver}-e3.4.zip)
sha512sums=('aa6289046df4c254567010b30706cc9cb0a1355e9634adcb2052127030d2640f399caf20fce10e8b4fab5885da29057ab9117af42472bcc1645dcf9881f84236')

prepare() {
  # remove features and plug-ins containing sources
  rm -f features/*.source_*
  rm -f plugins/*.source_*
  # remove gz files
  rm -f plugins/*.pack.gz
}

package() {
  _dest="${pkgdir}/usr/lib/eclipse/dropins/${pkgname/eclipse-}/eclipse"

  # Features
  find features -type f | while read -r _feature ; do
    if [[ "${_feature}" =~ (.*\.jar$) ]] ; then
      install -dm755 "${_dest}/${_feature%*.jar}"
      cd "${_dest}/${_feature/.jar}"
      # extract features (otherwise they are not visible in about dialog)
      jar xf "${srcdir}/${_feature}" || return 1
    else
      install -Dm644 "${_feature}" "${_dest}/${_feature}"
    fi
  done

  # Plugins
  find plugins -type f | while read -r _plugin ; do
    install -Dm644 "${_plugin}" "${_dest}/${_plugin}"
  done
}
</pre>
<h3>
<span id="C.C3.B3mo_personalizar_la_construcci.C3.B3n"></span><span class="mw-headline" id="Cómo_personalizar_la_construcción">Cómo personalizar la construcción</span>
</h3>
<p>La principal variable que necesita ser personalizada es la <code>pkgname</code>. Si está empaquetando un complemento típico, entonces esto es lo único que debe hacer: la mayoría de los complementos se distribuyen en archivos zip que solo contienen dos subdirectorios <code>features</code> y <code>plugins</code>. Entonces, si está empaquetando el complemento <code>foo</code> y el archivo de origen solo contiene <code>features</code> y <code>plugins</code>, solo necesita cambiar <code>pkgname</code> a <code>eclipse-foo</code> y ya está configurado.
</p>
<p>Siga leyendo para acceder a las partes internas de PKGBUILD, que ayudan a entender cómo configurar la compilación para todos los demás casos.
</p>
<h3>
<span id="Revisi.C3.B3n_en_profundidad_de_PKGBUILD"></span><span class="mw-headline" id="Revisión_en_profundidad_de_PKGBUILD">Revisión en profundidad de PKGBUILD</span>
</h3>
<h4><span class="mw-headline" id="Nombre_del_paquete">Nombre del paquete</span></h4>
<p>Los paquetes deben llamarse <code>eclipse-<i>pluginname</i></code>, para que sean reconocibles como paquetes relacionados con Eclipse y sea fácil extraer el nombre del complemento con una simple sustitución de intérprete de órdenes como <code>${pkgname/eclipse-}</code>, sin tener que recurrir a una variable <code>${_realname}</code> innecesaria. El nombre del complemento es necesario para ordenar todo durante la instalación y evitar conflictos.
</p>
<h4><span class="mw-headline" id="Archivos">Archivos</span></h4>
<h5>
<span id="Extracci.C3.B3n"></span><span class="mw-headline" id="Extracción">Extracción</span>
</h5>
<p>Algunos complementos necesitan las características para ser extraídos de los archivos jar. La utilidad <code>jar</code>, ya incluida en el JRE, se usa para hacer esto. Sin embargo, <code>jar</code> no puede extraer directorios que no sean el actual: esto significa que, después de cada creación de directorio, es necesario <code>cd</code> dentro de él antes de extraer. La variable <code>${_dest}</code> se utiliza en este contexto para mejorar la legibilidad y el orden de PKGBUILD.
</p>
<h5><span class="mw-headline" id="Ubicaciones">Ubicaciones</span></h5>
<p>Como dijimos, los archivos de origen proporcionan dos directorios, <code>características</code> y <code>complementos</code>, cada uno empaquetado con archivos jar. La estructura de dropins preferida debe verse así:
</p>
<pre>/usr/lib/eclipse/dropins/pluginname/eclipse/features/feature1/...
/usr/lib/eclipse/dropins/pluginname/eclipse/features/feature2/...
/usr/lib/eclipse/dropins/pluginname/eclipse/plugins/plugin1.jar
/usr/lib/eclipse/dropins/pluginname/eclipse/plugins/plugin2.jar
</pre>
<p>Esta estructura permite mezclar diferentes versiones de bibliotecas que pueden ser necesarias por diferentes complementos y tener claro qué paquete posee qué. También evitará conflictos en caso de que diferentes paquetes proporcionen la misma biblioteca. La única alternativa sería dividir cada paquete de sus bibliotecas, con todo el alboroto adicional que requiere, y ni siquiera se garantizaría que funcione debido a los paquetes que necesitan versiones anteriores de la biblioteca. Las características deben estar desactivadas ya que Eclipse no las detectará de otra manera, y la instalación completa del complemento no funcionará. Esto sucede porque Eclipse trata los sitios de actualización y las instalaciones locales de manera diferente (no pregunte por qué, simplemente lo hace).
</p>
<h4>
<span id="La_funsi.C3.B3n_build.28.29"></span><span class="mw-headline" id="La_funsión_build()">La funsión build()</span>
</h4>
<p>Lo primero que debe notarse es la orden <code>cd ${srcdir}</code>. Por lo general, los archivos de origen extraen las carpetas <code>features</code> y <code>plugins</code> directamente en <code>${srcdir}</code>, pero no siempre es así. De todos modos, para la mayoría de los complementos que no son <i>(de facto)</i>, ésta es la única línea que se debe cambiar.
Algunas características lanzadas incluyen sus fuentes, también. Para una versión de lanzamiento normal, estas fuentes no son necesarias y se pueden eliminar. Además, las mismas características incluyen archivos <code>*.pack.gz</code>, que contienen los mismos archivos en comparación con los archivos jar. Así que estos archivos pueden ser eliminados, también.
</p>
<p>La siguiente es la sección <code>features</code>. Crea los directorios necesarios, uno para cada archivo jar, y extrae el jar en el directorio correspondiente. De manera similar, la sección <code> plugins</code> instala los archivos jar en su directorio. Se utiliza un ciclo while para evitar archivos con nombres divertidos.
</p>
<h2>
<span id="Soluci.C3.B3n_de_problemas"></span><span class="mw-headline" id="Solución_de_problemas">Solución de problemas</span>
</h2>
<ul>
<li>Algunas veces la limpieza de Eclipse ayuda a reparar algunos problemas: <pre>$ eclipse -clean</pre>
</li>
<li>Si los nuevos complementos instalados no aparecen en Eclipse, intente con un directorio limpio <code>~/.eclipse</code>, por ejemplo, cambiando el nombre del existente. Tenga en cuenta que esto, por supuesto, hará que todos los complementos instalados por el usuario a través de Marketplace no estén disponibles.</li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../es/Category:Package_development.html" title="Category:Package development (Español)">Package development (Español)</a></li></ul>
</div></div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Eclipse_plugin_package_guidelines_(Espa%C3%B1ol)&amp;oldid=546126">https://wiki.archlinux.org/index.php?title=Eclipse_plugin_package_guidelines_(Español)&amp;oldid=546126</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 5 October 2018, at 01:28.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
