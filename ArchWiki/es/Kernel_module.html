<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Kernel module (Español) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Kernel_module_Español rootpage-Kernel_module_Español skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Kernel module (Español)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Artículos relacionados</p>
<ul>
<li><a href="../en/General_troubleshooting.html#Boot_problems" class="mw-redirect" title="Boot debugging">Boot debugging</a></li>
<li><a href="../en/Kernel.html" class="mw-redirect" title="Kernels">Kernels</a></li>
<li><a href="../es/Kernel_parameters.html" title="Kernel parameters (Español)">Kernel parameters (Español)</a></li>
</ul>
</div>
<p><a href="https://en.wikipedia.org/wiki/Loadable_kernel_module" class="extiw" title="wikipedia:Loadable kernel module">Los módulos del núcleo</a> (también conocido por su nombre inglés, <i>kernel</i>) son ​​fragmentos de código que pueden ser cargados y eliminados del núcleo bajo demanda. Extienden la funcionalidad del núcleo sin necesidad de reiniciar el sistema.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Descripci%C3%B3n"><span class="tocnumber">1</span> <span class="toctext">Descripción</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Obtener_informaci%C3%B3n"><span class="tocnumber">2</span> <span class="toctext">Obtener información</span></a></li>
<li class="toclevel-1 tocsection-3">
<a href="#Configuraci%C3%B3n"><span class="tocnumber">3</span> <span class="toctext">Configuración</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Cargar_m%C3%B3dulos"><span class="tocnumber">3.1</span> <span class="toctext">Cargar módulos</span></a></li>
<li class="toclevel-2 tocsection-5">
<a href="#Configurar_opciones_de_los_m%C3%B3dulos"><span class="tocnumber">3.2</span> <span class="toctext">Configurar opciones de los módulos</span></a>
<ul>
<li class="toclevel-3 tocsection-6"><a href="#Usar_archivos_en_/etc/modprobe.d/"><span class="tocnumber">3.2.1</span> <span class="toctext">Usar archivos en /etc/modprobe.d/</span></a></li>
<li class="toclevel-3 tocsection-7"><a href="#Usar_la_l%C3%ADnea_de_%C3%B3rdenes_de_arranque_del_n%C3%BAcleo"><span class="tocnumber">3.2.2</span> <span class="toctext">Usar la línea de órdenes de arranque del núcleo</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-8"><a href="#Alias"><span class="tocnumber">3.3</span> <span class="toctext">Alias</span></a></li>
<li class="toclevel-2 tocsection-9">
<a href="#Lista_negra"><span class="tocnumber">3.4</span> <span class="toctext">Lista negra</span></a>
<ul>
<li class="toclevel-3 tocsection-10"><a href="#Usar_archivos_en_/etc/modprobe.d/_2"><span class="tocnumber">3.4.1</span> <span class="toctext">Usar archivos en /etc/modprobe.d/</span></a></li>
<li class="toclevel-3 tocsection-11"><a href="#Usar_la_l%C3%ADnea_de_%C3%B3rdenes_del_n%C3%BAcleo"><span class="tocnumber">3.4.2</span> <span class="toctext">Usar la línea de órdenes del núcleo</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-12"><a href="#Manejar_m%C3%B3dulos_manualmente"><span class="tocnumber">4</span> <span class="toctext">Manejar módulos manualmente</span></a></li>
<li class="toclevel-1 tocsection-13">
<a href="#Consejos_y_trucos"><span class="tocnumber">5</span> <span class="toctext">Consejos y trucos</span></a>
<ul>
<li class="toclevel-2 tocsection-14"><a href="#Funci%C3%B3n_de_bash_para_listar_los_par%C3%A1metros_del_m%C3%B3dulo"><span class="tocnumber">5.1</span> <span class="toctext">Función de bash para listar los parámetros del módulo</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-15"><a href="#V%C3%A9ase_tambi%C3%A9n"><span class="tocnumber">6</span> <span class="toctext">Véase también</span></a></li>
</ul>
</div>

<h2>
<span id="Descripci.C3.B3n"></span><span class="mw-headline" id="Descripción">Descripción</span>
</h2>
<p>Para conocer cómo crear un módulo del núcleo, puede leer <a rel="nofollow" class="external text" href="https://tldp.org/LDP/lkmpg/2.6/html/index.html">esta guía</a>. Un módulo puede ser configurado para ser compilable (incluso en el núcleo) o cargable (se puede cargar bajo demanda). Para cargar o eliminar dinámicamente un módulo, tiene que estar configurado como un módulo cargable en la configuración del núcleo (la línea relacionada con el módulo, por lo tanto, se mostrará con la letra <code>M</code>).
</p>
<p>Los módulos se almacenan en <code>/lib/modules/<i>nombre_del_kernel</i></code>. Use la orden <code>uname -r</code> para obtener su versión actual del núcleo.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Los nombres de los módulos suelen utilizar guiones bajos (<code>_</code>) o guiones (<code>-</code>), sin embargo, esos símbolos son intercambiables, tanto cuando se utiliza la orden <code>modprobe</code> como en los archivos de configuración del directorio <code>/etc/modprobe.d/</code>.</div>
<h2>
<span id="Obtener_informaci.C3.B3n"></span><span class="mw-headline" id="Obtener_información">Obtener información</span>
</h2>
<p>Para mostrar los módulos del núcleo cargados actualmente:
</p>
<pre> $ lsmod
</pre>
<p>Para mostrar información sobre un módulo:
</p>
<pre> $ modinfo <i>nombre_del_módulo</i>
</pre>
<p>Para listar las opciones que se establecen para un módulo cargado:
</p>
<pre> $ systool -v -m <i>nombre_del_módulo</i>
</pre>
<p>Para mostrar la configuración completa de todos los módulos:
</p>
<pre> $ modprobe -c | less
</pre>
<p>Para mostrar la configuración de un módulo en particular:
</p>
<pre> $ modprobe -c | grep <i>nombre_del_módulo</i>
</pre>
<p>Listar las dependencias de un módulo (o alias), incluido el propio módulo:
</p>
<pre> $ modprobe --show-depends <i>nombre_del_módulo</i>
</pre>
<h2>
<span id="Configuraci.C3.B3n"></span><span class="mw-headline" id="Configuración">Configuración</span>
</h2>
<p>Hoy en día, todos los módulos que necesitan ser cargados, son manejados automáticamente por udev, por lo que si no quiere/necesita utilizar ningún módulo ajeno al núcleo, no hay necesidad de ponerlos en algún archivo de configuración para que se carguen en el arranque. Sin embargo, hay casos en que es posible que desee cargar un módulo específico adicional durante el proceso de arranque, o crear una lista negra de módulos (los cuales no se cargarán) para que el equipo funcione correctamente.
</p>
<h3>
<span id="Cargar_m.C3.B3dulos"></span><span class="mw-headline" id="Cargar_módulos">Cargar módulos</span>
</h3>
<p>Los módulos adicionales del <i>kernel</i> pueden ser cargados durante el arranque configurándolos como una lista estática en los archivos residentes en <code>/etc/modules-load.d/</code>. Cada archivo de configuración es nombrado siguiendo el formato:  <code>/etc/modules-load.d/&lt;programa&gt;.conf</code>. Los archivos de configuración contienen simplemente una lista de los nombres de los módulos del núcleo a cargar, separadas por saltos de líneas. Las líneas vacías y las líneas cuyo primer carácter sea <code>#</code> o <code>;</code> serán ignoradas.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modules-load.d/virtio-net.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># Carga virtio-net.ko al arranque
virtio-net</pre>
<p>Consulte <code>modules-load.d(5)</code> para obtener más información.
</p>
<h3>
<span id="Configurar_opciones_de_los_m.C3.B3dulos"></span><span class="mw-headline" id="Configurar_opciones_de_los_módulos">Configurar opciones de los módulos</span>
</h3>
<p>Para pasar un parámetro a un módulo puede usar un archivo de configuración en la carpeta modprobe o utilizar la línea de órdenes del núcleo.
</p>
<h4>
<span id="Usar_archivos_en_.2Fetc.2Fmodprobe.d.2F"></span><span class="mw-headline" id="Usar_archivos_en_/etc/modprobe.d/">Usar archivos en /etc/modprobe.d/</span>
</h4>
<p>El directorio <code>/etc/modprobe.d/</code> se puede utilizar para pasar la configuración de los módulos a <a href="../es/Udev.html" title="Udev (Español)">udev</a>, el cual utilizará <code>modprobe</code> para manejar la carga de los módulos durante el arranque del sistema. Puede crear un archivo de configuración con cualquier nombre en aquel directorio, siempre que acaben con la extensión <code>.conf</code>. La sintaxis es la siguiente:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/miarchivo.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">options nombredelmódulo nombredelparámetro=valordelparámetro</pre>
<p>Por ejemplo:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/thinkfan.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># Thinkpads on, ésto permite que el demonio thinkfan controle la velocidad del ventilador
options thinkpad_acpi fan_control=1</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Si cualquiera de los módulos afectados se cargan durante el arranque (desde el ramdisk de inicio), entonces tendrá que añadir el correspondiente archivo <code>.conf</code> a FILES en <a href="../es/Mkinitcpio.html" title="Mkinitcpio (Español)">mkinitcpio.conf</a>, o usar el <a href="../en/Mkinitcpio.html#HOOKS" class="mw-redirect" title="Mkinitcpio.conf">hook</a> <code>modconf</code>, para que se incluya en el ramdisk.</div>
<h4>
<span id="Usar_la_l.C3.ADnea_de_.C3.B3rdenes_de_arranque_del_n.C3.BAcleo"></span><span class="mw-headline" id="Usar_la_línea_de_órdenes_de_arranque_del_núcleo">Usar la línea de órdenes de arranque del núcleo</span>
</h4>
<p>Si el módulo está integrado en el núcleo también puede pasar opciones al módulo a través de la línea de órdenes. Para todos los  cargadores de arranque (<i>bootloader</i>) más comunes la sintaxis correcta es:
</p>
<pre>nombredelmódulo.nombredelparámetro=valordelparámetro
</pre>
<p>por ejemplo:
</p>
<pre>thinkpad_acpi.fan_control=1
</pre>
<p>Simplemente añada esto a la línea de órdenes del núcleo de su gestor de arranque como se describe en <a href="../es/Kernel_parameters.html" title="Kernel parameters (Español)">parámetros del núcleo</a>.
</p>
<h3><span class="mw-headline" id="Alias">Alias</span></h3>
<p>Los alias son nombres alternativos para un módulo. Por ejemplo: <code>alias mi-mod nombre_de_módulo_muy_largo</code> significa que puede utilizar <code>modprobe mi-mod</code> en lugar de <code>modprobe nombre_de_módulo_muy_largo</code>. También puede utilizar comodines del estilo shell, por lo que  <code>alias mi-mod* nombre_de_módulo_muy_largo</code> significa que  <code>modprobe mi-mod-cualquier-cosa</code>  tiene el mismo efecto. Crear un alias:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/mialias.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">alias mimod nombre_de_módulo_muy_largo</pre>
<p>Algunos módulos tienen alias que se utilizan para su carga automática cuando son solicitados por una aplicación. La desactivación de estos alias evitará que se cargue automáticamente, pero permitirá que se puedan cargar manualmente. Ejemplo:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/modprobe.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># Evita cargar automáticamente el módulo necesario para bluetooth
alias net-pf-31 off</pre>
<h3><span class="mw-headline" id="Lista_negra">Lista negra</span></h3>
<p>Incluir en la lista negra (<i>«blacklisting»</i>), en el contexto de los módulos del núcleo, es un mecanismo que evita que el núcleo cargue dicho módulo. Esto podría ser útil si, por ejemplo, el dispositivo de hardware asociado con el módulo no se utiliza y no desea que funcione, o porque la carga del módulo crea problemas: por ejemplo, puede darse la carga simultánea de dos módulos que intentan controlar el mismo dispositivo o componente del hardware, y cargándolos en conjunto se traduciría en un conflicto.
</p>
<p>Algunos módulos se cargan como parte de <a href="../en/Arch_boot_process.html#initramfs" class="mw-redirect" title="Initramfs">initramfs</a>. <code>mkinitcpio -M</code>  mostrará todos los módulos detectados automáticamente: para evitar que initramfs cargue algunos de estos módulos, se utiliza la lista negra (<i>«blacklist»</i>) en <code>/etc/modprobe.d/modprobe.conf</code>. La ejecución de <code> mkinitcpio -v</code> mostrará una lista de todos los módulos insertados en initramfs por los distintos hooks (por ejemplo, hook filesystem, hook SCSI, etc.) Recuerde reconstruir el initramfs una vez haya hecho la lista negra de los módulos y reiniciar el sistema después.
</p>
<h4>
<span id="Usar_archivos_en_.2Fetc.2Fmodprobe.d.2F_2"></span><span class="mw-headline" id="Usar_archivos_en_/etc/modprobe.d/_2">Usar archivos en /etc/modprobe.d/</span>
</h4>
<p>Crear un archivo <code>.conf</code> dentro de <code>/etc/modprobe.d/</code> y añadir una línea para cada módulo que desee a la lista negra, usando la palabra clave <code>blacklist</code>. Por ejemplo, si desea evitar que el módulo <code>pcspkr</code> se cargue:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/nobeep.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># Esto evitará la carga del módulo pcspkr que controla el altavoz de la placa base
blacklist pcspkr</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> El uso de la opción <code>blacklist</code> respecto de un módulo hará que este no se cargue de forma automática, pero el módulo se puede cargar si otro módulo que no esté en la lista negra depende de él o si se carga de forma manual, con lo que iniciado este último se cargaría el primero, a pesar de estar incluido en la lista negra.
<p>Sin embargo, hay una solución para este comportamiento, la orden <code>install</code> instruye a modprobe para ejecutar una orden personalizada, en lugar de insertar el módulo en la memoria, con lo que puede forzar que se impida la carga del módulo usando:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/blacklist.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
install MODULE_NAME /bin/false
...</pre>
Esto hace efectivo la inclusión en la «lista negra» de ese módulo y de cualquier otro que dependa de él.</div>
<h4>
<span id="Usar_la_l.C3.ADnea_de_.C3.B3rdenes_del_n.C3.BAcleo"></span><span class="mw-headline" id="Usar_la_línea_de_órdenes_del_núcleo">Usar la línea de órdenes del núcleo</span>
</h4>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Sugerencia:</strong> Esto es útil en casos de emergencia cuando un módulo falla evitando un inicio correcto del sistema.</div>
<p>También puede evitar la carga de módulos a través del gestor de arranque. 
</p>
<p>Agregue <code>modprobe.blacklist=modname1,modname2,modname3</code> en la línea de órdenes del núcleo de su gestor de arranque como se describe en <a href="../en/Kernel_parameters.html" title="Kernel parameters">parámetros del núcleo</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Cuando están en lista negra más de un módulo, tenga en cuenta que los mismos deben estar separados por comas solamente. Los espacios o cualquier otra cosa presumiblemente podría romper la sintaxis.</div>
<h2>
<span id="Manejar_m.C3.B3dulos_manualmente"></span><span class="mw-headline" id="Manejar_módulos_manualmente">Manejar módulos manualmente</span>
</h2>
<p>Los módulos del núcleo pueden ser manejados con las herramientas proporcionadas por el paquete <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=kmod">kmod</a></span>. Estas herramientas pueden ser utilizadas manualmente.
</p>
<p>Para cargar un módulo:
</p>
<pre># modprobe <i>nombre_del_módulo</i>
</pre>
<p>Para quitar/retirar un módulo:
</p>
<pre># modprobe -r <i>nombre_del_módulo</i>
</pre>
<p>O, alternativamente:
</p>
<pre># rmmod <i>nombre_del_módulo</i>
</pre>
<h2><span class="mw-headline" id="Consejos_y_trucos">Consejos y trucos</span></h2>
<h3>
<span id="Funci.C3.B3n_de_bash_para_listar_los_par.C3.A1metros_del_m.C3.B3dulo"></span><span class="mw-headline" id="Función_de_bash_para_listar_los_parámetros_del_módulo">Función de bash para listar los parámetros del módulo</span>
</h3>
<p>Esta es una función de bash que debe ser ejecutada como root, que mostrará una lista de todos los módulos actualmente cargados y todos sus parámetros, incluido el valor actual del parámetro. Utilice <code>/proc/modules</code> para obtener una lista actualizada de los módulos cargados, a continuación, acceder al archivo del módulo directamente con modinfo para tomar una descripción del módulo y las descripciones para cada parámetro (si está disponible), y finalmente acceda al sistema de archivos sysfs para tomar los nombres de los parámetros reales y los valores cargados en ese momento .
</p>
<pre>function aa_mod_parameters () 
{ 
    N=/dev/null;
    C=`tput op` O=$(echo -en "\n`tput setaf 2`&gt;&gt;&gt; `tput op`");
    for mod in $(cat /proc/modules|cut -d" " -f1);
    do
        md=/sys/module/$mod/parameters;
        [[ ! -d $md ]] &amp;&amp; continue;
        m=$mod;
        d=`modinfo -d $m 2&gt;$N | tr "\n" "\t"`;
        echo -en "$O$m$C";
        [[ ${#d} -gt 0 ]] &amp;&amp; echo -n " - $d";
        echo;
        for mc in $(cd $md; echo *);
        do
            de=`modinfo -p $mod 2&gt;$N | grep ^$mc 2&gt;$N|sed "s/^$mc=//" 2&gt;$N`;
            echo -en "\t$mc=`cat $md/$mc 2&gt;$N`";
            [[ ${#de} -gt 1 ]] &amp;&amp; echo -en " - $de";
            echo;
        done;
    done
}</pre>
<p>Aquí está un ejemplo de salida.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># aa_mod_parameters</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">&gt;&gt;&gt; ehci_hcd - USB 2.0 'Enhanced' Host Controller (EHCI) Driver
        hird=0 - hird:host initiated resume duration, +1 for each 75us (int)
        ignore_oc=N - ignore_oc:ignore bogus hardware overcurrent indications (bool)
        log2_irq_thresh=0 - log2_irq_thresh:log2 IRQ latency, 1-64 microframes (int)
        park=0 - park:park setting; 1-3 back-to-back async packets (uint)

&gt;&gt;&gt; processor - ACPI Processor Driver
        ignore_ppc=-1 - ignore_ppc:If the frequency of your machine gets wronglylimited by BIOS, this should help (int)
        ignore_tpc=0 - ignore_tpc:Disable broken BIOS _TPC throttling support (int)
        latency_factor=2 - latency_factor: (uint)

&gt;&gt;&gt; usb_storage - USB Mass Storage driver for Linux
        delay_use=1 - delay_use:seconds to delay before using a new device (uint)
        option_zero_cd=1 - option_zero_cd:ZeroCD mode (1=Force Modem (default), 2=Allow CD-Rom (uint)
        quirks= - quirks:supplemental list of device IDs and their quirks (string)
        swi_tru_install=1 - swi_tru_install:TRU-Install mode (1=Full Logic (def), 2=Force CD-Rom, 3=Force Modem) (uint)

&gt;&gt;&gt; video - ACPI Video Driver
        allow_duplicates=N - allow_duplicates: (bool)
        brightness_switch_enabled=Y - brightness_switch_enabled: (bool)
        use_bios_initial_backlight=Y - use_bios_initial_backlight: (bool)</pre>
<p>Lo que sigue es una variación de la función anterior, que incluye una descripción completa de cada parámetro. La salida tiene un formato ligeramente diferente y utiliza más colores.
</p>
<pre>function show_mod_parameter_info ()
{
  if tty -s &lt;&amp;1
  then
    green="\e[1;32m"
    yellow="\e[1;33m"
    cyan="\e[1;36m"
    reset="\e[0m"
  else
    green=
    yellow=
    cyan=
    reset=
  fi
  newline="
"

  while read mod
  do
    md=/sys/module/$mod/parameters
    [[ ! -d $md ]] &amp;&amp; continue
    d="$(modinfo -d $mod 2&gt;/dev/null | tr "\n" "\t")"
    echo -en "$green$mod$reset"
    [[ ${#d} -gt 0 ]] &amp;&amp; echo -n " - $d"
    echo
    pnames=()
    pdescs=()
    pvals=()
    pdesc=
    add_desc=false
    while IFS="$newline" read p
    do
      if [[ $p =~ ^[[:space:]] ]]
      then
        pdesc+="$newline    $p"
      else
        $add_desc &amp;&amp; pdescs+=("$pdesc")
        pname="${p%%:*}"
        pnames+=("$pname")
        pdesc=("    ${p#*:}")
        pvals+=("$(cat $md/$pname 2&gt;/dev/null)")
      fi
      add_desc=true
    done &lt; &lt;(modinfo -p $mod 2&gt;/dev/null)
    $add_desc &amp;&amp; pdescs+=("$pdesc")
    for ((i=0; i&lt;${#pnames[@]}; i++))
    do
      printf "  $cyan%s$reset = $yellow%s$reset\n%s\n" \
        ${pnames[i]} \
        "${pvals[i]}" \
        "${pdescs[i]}"
    done
    echo

  done &lt; &lt;(cut -d' ' -f1 /proc/modules | sort)
}
</pre>
<h2>
<span id="V.C3.A9ase_tambi.C3.A9n"></span><span class="mw-headline" id="Véase_también">Véase también</span>
</h2>
<ul>
<li>
<a rel="nofollow" class="external text" href="http://linuxmanpages.com/man5/modprobe.conf.5.php">modprobe man page</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">enlace roto</a> 2020-08-02]</sup>
</li>
<li><a href="../es/PC_speaker.html" class="mw-redirect" title="Disable PC speaker beep (Español)">Disable PC speaker beep (Español)</a></li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../es/Category:Kernel.html" title="Category:Kernel (Español)">Kernel (Español)</a></li>
<li><a href="../es/Category:Hardware_detection_and_troubleshooting.html" title="Category:Hardware detection and troubleshooting (Español)">Hardware detection and troubleshooting (Español)</a></li>
<li><a href="../es/Category:Boot_process.html" title="Category:Boot process (Español)">Boot process (Español)</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Kernel_module_(Espa%C3%B1ol)&amp;oldid=638462">https://wiki.archlinux.org/index.php?title=Kernel_module_(Español)&amp;oldid=638462</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 14 October 2020, at 07:13.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
