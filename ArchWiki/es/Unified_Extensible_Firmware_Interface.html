<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Unified Extensible Firmware Interface (Español) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Unified_Extensible_Firmware_Interface_Español rootpage-Unified_Extensible_Firmware_Interface_Español skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Unified Extensible Firmware Interface (Español)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Estado de la traducción:</strong> este artículo es una traducción de <a href="../en/Unified_Extensible_Firmware_Interface.html" title="Unified Extensible Firmware Interface">Unified Extensible Firmware Interface</a> revisada por última vez el <b>2018-08-31</b>. Si advierte que la versión inglesa <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Unified_Extensible_Firmware_Interface&amp;diff=0&amp;oldid=538790">ha cambiado</a> puede actualizar la traducción <a href="../es/ArchWiki:f6ecee2fb17812f6654b3a6ff807d392.html" class="mw-redirect" title="ArchWiki:Translation Team/Contributing (Español)">usted mismo</a> o avisar al <a href="../es/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (Español)">equipo de traducción</a>.</div>
<div class="archwiki-template-meta-related-articles-start">
<p>Artículos relacionados</p>
<ul>
<li><a href="../es/EFI_system_partition.html" title="EFI system partition (Español)">EFI system partition (Español)</a></li>
<li><a href="../es/Arch_boot_process.html" title="Arch boot process (Español)">Arch boot process (Español)</a></li>
<li><a href="../es/Partitioning.html#GUID_Partition_Table" class="mw-redirect" title="GUID Partition Table (Español)">GUID Partition Table (Español)</a></li>
<li><a href="../en/Unified_Extensible_Firmware_Interface/Secure_Boot.html" class="mw-redirect" title="Secure Boot">Secure Boot</a></li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Advertencia:</strong> Si bien es cieto que la instalación en modalidad UEFI es la opción a la que se tiende, no obstante, hay que advertir que las primeras implementaciones de UEFI «pueden» tener más inconvenientes que beneficios que su opositor BIOS. Por tanto, es recomendable hacer una búsqueda relacionada con su modelo de placa base particular para obtener información sobre la conveniencia de optar por la modalidad UEFI antes de continuar.</div>
<p>La <a rel="nofollow" class="external text" href="http://www.uefi.org/">Unified Extensible Firmware Interface</a> (UEFI o EFI para abreviar) es un nuevo modelo de interfaz para interactuar entre los sistemas operativos y el firmware. Proporciona un entorno estándar para iniciar un sistema operativo y ejecutar aplicaciones previas al inicio.
</p>
<p>Es un método distito del comunmente usado «<a href="../en/Partitioning.html#Master_Boot_Record_(bootstrap_code)" title="Partitioning">código de arranque MBR</a>» seguido por los sistemas <a href="https://en.wikipedia.org/wiki/BIOS" class="extiw" title="wikipedia:BIOS">BIOS</a>. Consulte <a href="../en/Arch_boot_process.html" title="Arch boot process">Arch boot process</a> para conocer sus diferencias y el proceso de arranque con UEFI. Para configurar los cargadores de arranque UEFI, vea <a href="../en/Category:Boot_loaders.html" title="Category:Boot loaders">Category:Boot loaders</a>.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Versiones_de_UEFI"><span class="tocnumber">1</span> <span class="toctext">Versiones de UEFI</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#Firmware_de_UEFI"><span class="tocnumber">2</span> <span class="toctext">Firmware de UEFI</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Sistemas_UEFI_que_no_son_Mac"><span class="tocnumber">2.1</span> <span class="toctext">Sistemas UEFI que no son Mac</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Mac_de_Apple"><span class="tocnumber">2.2</span> <span class="toctext">Mac de Apple</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#Configuraci%C3%B3n_de_las_opciones_del_kernel_de_Linux_para_UEFI"><span class="tocnumber">3</span> <span class="toctext">Configuración de las opciones del kernel de Linux para UEFI</span></a></li>
<li class="toclevel-1 tocsection-6">
<a href="#Variables_de_UEFI"><span class="tocnumber">4</span> <span class="toctext">Variables de UEFI</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#Soporte_de_las_variables_UEFI_en_el_kernel_de_Linux"><span class="tocnumber">4.1</span> <span class="toctext">Soporte de las variables UEFI en el kernel de Linux</span></a></li>
<li class="toclevel-2 tocsection-8">
<a href="#Requisitos_para_que_el_soporte_de_las_variables_UEFI_funcione_correctamente"><span class="tocnumber">4.2</span> <span class="toctext">Requisitos para que el soporte de las variables UEFI funcione correctamente</span></a>
<ul>
<li class="toclevel-3 tocsection-9"><a href="#Montar_efivarfs"><span class="tocnumber">4.2.1</span> <span class="toctext">Montar efivarfs</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-10">
<a href="#Herramientas_en_el_espacio_de_usuario"><span class="tocnumber">4.3</span> <span class="toctext">Herramientas en el espacio de usuario</span></a>
<ul>
<li class="toclevel-3 tocsection-11"><a href="#efibootmgr"><span class="tocnumber">4.3.1</span> <span class="toctext">efibootmgr</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-12">
<a href="#Int%C3%A9rprete_de_%C3%B3rdenes_UEFI"><span class="tocnumber">5</span> <span class="toctext">Intérprete de órdenes UEFI</span></a>
<ul>
<li class="toclevel-2 tocsection-13"><a href="#Obtener_el_int%C3%A9rprete_de_%C3%B3rdenes_UEFI"><span class="tocnumber">5.1</span> <span class="toctext">Obtener el intérprete de órdenes UEFI</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Lanzar_el_int%C3%A9rprete_de_%C3%B3rdenes_UEFI"><span class="tocnumber">5.2</span> <span class="toctext">Lanzar el intérprete de órdenes UEFI</span></a></li>
<li class="toclevel-2 tocsection-15">
<a href="#%C3%93rdenes_importantes_del_int%C3%A9rprete_UEFI"><span class="tocnumber">5.3</span> <span class="toctext">Órdenes importantes del intérprete UEFI</span></a>
<ul>
<li class="toclevel-3 tocsection-16"><a href="#bcfg"><span class="tocnumber">5.3.1</span> <span class="toctext">bcfg</span></a></li>
<li class="toclevel-3 tocsection-17"><a href="#map"><span class="tocnumber">5.3.2</span> <span class="toctext">map</span></a></li>
<li class="toclevel-3 tocsection-18"><a href="#edit"><span class="tocnumber">5.3.3</span> <span class="toctext">edit</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-19">
<a href="#Soporte_para_arrancar_UEFI"><span class="tocnumber">6</span> <span class="toctext">Soporte para arrancar UEFI</span></a>
<ul>
<li class="toclevel-2 tocsection-20"><a href="#Crear_un_USB_arrancable_con_UEFI_desde_la_ISO"><span class="tocnumber">6.1</span> <span class="toctext">Crear un USB arrancable con UEFI desde la ISO</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#Eliminar_el_apoyo_de_arranque_de_UEFI_de_una_unidad_%C3%B3ptica"><span class="tocnumber">6.2</span> <span class="toctext">Eliminar el apoyo de arranque de UEFI de una unidad óptica</span></a></li>
<li class="toclevel-2 tocsection-22">
<a href="#Arrancar_el_kernel_de_64-bit_en_UEFI_de_32-bit"><span class="tocnumber">6.3</span> <span class="toctext">Arrancar el kernel de 64-bit en UEFI de 32-bit</span></a>
<ul>
<li class="toclevel-3 tocsection-23"><a href="#Utilizar_GRUB"><span class="tocnumber">6.3.1</span> <span class="toctext">Utilizar GRUB</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-24">
<a href="#Probar_UEFI_en_sistemas_sin_soporte_nativo"><span class="tocnumber">7</span> <span class="toctext">Probar UEFI en sistemas sin soporte nativo</span></a>
<ul>
<li class="toclevel-2 tocsection-25"><a href="#OVMF_para_m%C3%A1quinas_virtuales"><span class="tocnumber">7.1</span> <span class="toctext">OVMF para máquinas virtuales</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="#DUET_para_sistemas_BIOS_%C3%BAnicamente"><span class="tocnumber">7.2</span> <span class="toctext">DUET para sistemas BIOS únicamente</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-27">
<a href="#Soluci%C3%B3n_de_problemas"><span class="tocnumber">8</span> <span class="toctext">Solución de problemas</span></a>
<ul>
<li class="toclevel-2 tocsection-28"><a href="#Windows_7_no_se_inicia_en_la_modalidad_UEFI"><span class="tocnumber">8.1</span> <span class="toctext">Windows 7 no se inicia en la modalidad UEFI</span></a></li>
<li class="toclevel-2 tocsection-29"><a href="#Windows_cambia_el_orden_de_arranque"><span class="tocnumber">8.2</span> <span class="toctext">Windows cambia el orden de arranque</span></a></li>
<li class="toclevel-2 tocsection-30"><a href="#El_soporte_USB_se_topa_con_una_pantalla_negra"><span class="tocnumber">8.3</span> <span class="toctext">El soporte USB se topa con una pantalla negra</span></a></li>
<li class="toclevel-2 tocsection-31"><a href="#El_cargador_de_arranque_UEFI_no_aparece_en_el_men%C3%BA_del_firmware"><span class="tocnumber">8.4</span> <span class="toctext">El cargador de arranque UEFI no aparece en el menú del firmware</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-32"><a href="#V%C3%A9ase_tambi%C3%A9n"><span class="tocnumber">9</span> <span class="toctext">Véase también</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Versiones_de_UEFI">Versiones de UEFI</span></h2>
<ul>
<li>UEFI comenzó como EFI de Intel en las versiones 1.x.</li>
<li>Luego, un grupo de empresas denominado UEFI Forum, se hizo cargo de su desarrollo, a partir del cual se llamó EFI Unificado desde de la versión 2.0.</li>
<li>Salvo que se especifique expresamente como EFI 1.x, los términos EFI y UEFI se utilizarán indistintamente para referirse al firmware 2.x de UEFI .</li>
<li>La implementación EFI de Apple no es ni la versión 1.x de EFI ni la versión 2.x, sino una combinación de ambas. Este tipo de firmware no entra dentro de ninguna versión de la especificación (U)EFI uno y, por lo tanto, no es un estándar del firmware de UEFI. A menos que se indique explícitamente, estas instrucciones son generales y algunas de ellas pueden no funcionar o pueden ser diferentes en <a href="../en/Mac.html" class="mw-redirect" title="MacBook">Apple Macs</a>.</li>
</ul>
<p>La última especificación de UEFI se puede encontrar en <a rel="nofollow" class="external free" href="http://uefi.org/specifications">http://uefi.org/specifications</a>.
</p>
<h2><span class="mw-headline" id="Firmware_de_UEFI">Firmware de UEFI</span></h2>
<p>Con UEFI, cada programa, ya sea un cargador de sistema operativo o una utilidad (por ejemplo, una aplicación de prueba de memoria o una herramienta de recuperación), debe ser una aplicación EFI correspondiente a la arquitectura/bitness del firmware de UEFI.
</p>
<p>La gran mayoría de los firmwares UEFI, incluidos los recientes Macs de Apple, usan el firmware UEFI x86_64. Los únicos dispositivos conocidos que utilizan UEFI IA32 (32 bits) son Apple Mac antiguos (anteriores a 2008), algunos ultrabooks Intel Cloverfield y algunas tarjetas del servidor Intel antiguo que se sabe que operan con firmware Intel EFI 1.10.
</p>
<p>Un firmware UEFI x86_64 no incluye soporte para el inicio de aplicaciones EFI de 32 bits (a diferencia de las versiones de Linux y Windows x86_64, que incluyen dicho soporte). Por lo tanto, la aplicación EFI debe compilarse para el firmware de esa específica arquitectura del procesador.
</p>
<h3><span class="mw-headline" id="Sistemas_UEFI_que_no_son_Mac">Sistemas UEFI que no son Mac</span></h3>
<p>Compruebe si el directorio <code>/sys/firmware/efi</code> existe; si existe, significa que el kernel ha arrancado en modalidad UEFI. En ese caso, se presumirá que la arquitectura de UEFI coincidirá con la del kernel (es decir, i686 o x86_64)
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> El chip del sistema Atom de Intel es entregado con UEFI de 32 bit (desde el 2 de noviembre de 2013). Véase <a href="#Arrancar_el_kernel_de_64-bit_en_UEFI_de_32-bit">esta página</a> para obtener más información. Vea también <a rel="nofollow" class="external text" href="https://software.intel.com/en-us/blogs/2015/07/22/why-cheap-systems-run-32-bit-uefi-on-x64-systems">esta publicación del blog de Intel</a>.</div>
<h3><span class="mw-headline" id="Mac_de_Apple">Mac de Apple</span></h3>
<p>Los <a href="../en/Mac.html" title="Mac">Mac</a> anteriores a 2008 tienen, en su mayoría, un firware IA32 EFI, mientras que los Mac &gt;=2008 tienen, en su mayoría, x86_64 EFI. Todos los Mac capaces de ejecutar el kernel de Mac OS X Snow Leopard de 64-bit tienen un firmware EFI 1.x para x86_64.
</p>
<p>Para saber la arquitectura del firmware EFI en un Mac, debe arrancar Mac OS X y escribir en un terminal la siguiente orden:
</p>
<pre>$ ioreg -l -p IODeviceTree | grep firmware-abi
</pre>
<p>Si la orden devuelve EFI32, entonces es el firmware EFI IA32 (32 bits). Si devuelve EFI64, entonces es el firmware EFI x86_64. La mayoría de los Mac no tienen firmware UEFI 2.x ya que la implementación de EFI de Apple no es totalmente compatible con la especificación UEFI 2.x.
</p>
<h2>
<span id="Configuraci.C3.B3n_de_las_opciones_del_kernel_de_Linux_para_UEFI"></span><span class="mw-headline" id="Configuración_de_las_opciones_del_kernel_de_Linux_para_UEFI">Configuración de las opciones del kernel de Linux para UEFI</span>
</h2>
<p>Las opciones requeridas para la configuración del kernel de Linux para sistemas UEFI son:
</p>
<pre>CONFIG_RELOCATABLE=y
CONFIG_EFI=y
CONFIG_EFI_STUB=y
CONFIG_FB_EFI=y
CONFIG_FRAMEBUFFER_CONSOLE=y
</pre>
<ul><li>Soporte para las <i>Variables Runtime de UEFI</i> (el sistema de archivos <b>efivarfs</b> —<code>/sys/firmware/efi/efivars</code>—). Esta opción es importante, ya que es necesaria para manipular las variables runtime de UEFI usando herramientas como <code>/usr/bin/efibootmgr</code>. La opción de configuración siguiente está añadida en el kernel 3.10 y posterior.: <pre>CONFIG_EFIVAR_FS=y</pre>
</li></ul>
<ul><li>Soporte para las <i>Variables Runtime de UEFI</i> (la interfaz antigua <b>efivars sysfs</b> —<code>/sys/firmware/efi/vars</code>—). Esta opción debe ser desactivada para evitar posibles problemas entre efivarfs con sysfs-efivars activados.: <pre>CONFIG_EFI_VARS=n</pre>
</li></ul>
<ul><li>Opción de configuración de <a href="../en/Partitioning.html#GUID_Partition_Table" class="mw-redirect" title="GUID Partition Table">GUID Partition Table</a> (GPT) —necesaria para dar soporte a UEFI—: <pre>CONFIG_EFI_PARTITION=y</pre>
</li></ul>
<p>Obtenido de <a rel="nofollow" class="external free" href="https://www.kernel.org/doc/html/latest/x86/x86_64/uefi.html">https://www.kernel.org/doc/html/latest/x86/x86_64/uefi.html</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Todas las opciones anteriores son necesarias para arrancar Linux con UEFI, y están activadas en los <a href="../en/Kernel.html" class="mw-redirect" title="Kernels">kernels</a> de ArchLinux presentes en los repositorios oficiales.</div>
<h2><span class="mw-headline" id="Variables_de_UEFI">Variables de UEFI</span></h2>
<p>UEFI define las variables como la interacción de un sistema operativo con el firmware. Las variables de arranque de UEFI (<i>«UEFI Boot Variables»</i>) son utilizadas por el cargador de arranque y por el sistema operativo únicamente durante la primera fase de arranque. Las variables «<i>runtime</i>» de UEFI permiten a un sistema operativo gestionar ciertos ajustes del firmware, como la gestión del arranque de UEFI o la gestión de las claves para el protocolo «<i>Boot Secure</i>» de UEFI, etc. Se puede obtener el listado de las variables utilizando:
</p>
<pre>$ efivar --list
</pre>
<h3><span class="mw-headline" id="Soporte_de_las_variables_UEFI_en_el_kernel_de_Linux">Soporte de las variables UEFI en el kernel de Linux</span></h3>
<p>El kernel de Linux expone los datos de las variables UEFI en el espacio de usuario a través de la interfaz <b>efivarfs</b> (<b>EFI</b> <b>VAR</b>iable <b>F</b>ile<b>S</b>ystem) (<code>CONFIG_EFIVAR_FS</code>) —montada utilizando el módulo del kernel <code>efivarfs</code> en <code>/sys/firmware/efi/efivars</code>— no tiene límite de tamaño máximo y admite las variables «<i>Secure Boot</i>» de UEFI. Introducido en kernel 3.8.
</p>
<h3><span class="mw-headline" id="Requisitos_para_que_el_soporte_de_las_variables_UEFI_funcione_correctamente">Requisitos para que el soporte de las variables UEFI funcione correctamente</span></h3>
<ol>
<li>La <a href="#Firmware_de_UEFI">arquitectura</a> del procesador del Kernel y del procesador de UEFI deben coincidir.</li>
<li>El kernel debe arrancar en modo EFI (a través de <a href="../en/EFISTUB.html" title="EFISTUB">EFISTUB</a> o de cualquier otro <a href="../en/Arch_boot_process.html#Boot_loader" class="mw-redirect" title="Boot loader">gestor de arranque EFI</a>, no a través de BIOS/CSM o «bootcamp» de Apple que también es BIOS/CSM)</li>
<li>El soporte para EFI Runtime Services debe estar presente en el kernel (<code>CONFIG_EFI=y</code>, compruebe si están presente con <code>zgrep CONFIG_EFI /proc/config.gz</code>).</li>
<li>Los EFI Runtime Services del kernel NO DEBEN ser desactivados a través de un terminal, es decir, el parámetro <code>noefi</code> del kernel NO DEBE ser usado.</li>
<li>El sistema de archivos <code>efivarfs</code> debe estar montado en <code>/sys/firmware/efi/efivars</code>, en otro caso, debe <a href="#Montar_efivarfs">montar efivarfs</a>.</li>
<li>
<code>efivar</code> debe mostar (con la opción <code>-l</code>) las variables EFI sin ningún error.</li>
</ol>
<p>Si el soporte para las variables de EFI no funciona, incluso después de cumplirse las condiciones precedentes, pruebe las siguientes soluciones:
</p>
<ol>
<li>Si cualquier herramienta del espacio de usuario no puede modificar los datos de las variables de EFI, compruebe la existencia de archivos en <code>/sys/firmware/efi/efivars/dump-*</code>. Si existen, elimínelos, reinicie y vuelva a intentarlo de nuevo.</li>
<li>Si el paso anterior no resuelve el problema, intente arrancar con el parámetro del kernel <code>efi_no_storage_paranoia</code> para desactivar la variable efi del kernel que comprueba el espacio de almacenamiento, la cual puede impedir la escritura/modificación de las variables de efi.</li>
</ol>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Advertencia:</strong> <code>efi_no_storage_paranoia</code> solo debe utilizarse cuando sea necesario y no se debe dejar como una opción de arranque normal. El efecto de este parámetro en la línea de órdenes del kernel cancela una garantía que se pone en marcha para ayudar a evitar la saturación de las máquinas cuando NVRAM se llena demasiado.</div>
<h4><span class="mw-headline" id="Montar_efivarfs">Montar efivarfs</span></h4>
<p>Si <code>efivarfs</code> no se monta automáticamente en <code>/sys/firmware/efi/efivars</code> por <a href="../es/Systemd.html" title="Systemd (Español)">systemd</a> durante el arranque, entonces necesita montarla manualmente para dejar expuesto el soporte para las variables de UEFI a las herramientas del espacio de usuario tales como <i>efibootmgr</i>:
</p>
<pre># mount -t efivarfs efivarfs /sys/firmware/efi/efivars
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> La orden anterior debe ejecutarse tanto <b>fuera (antes)</b> como <b>dentro</b> de <a href="../en/Chroot.html" title="Chroot">chroot</a>, si procede.</div>
<p>Consulte <a rel="nofollow" class="external text" href="https://www.kernel.org/doc/html/latest/filesystems/efivarfs.html">efivarfs.html</a> para documentarse más sobre el kernel.
</p>
<h3><span class="mw-headline" id="Herramientas_en_el_espacio_de_usuario">Herramientas en el espacio de usuario</span></h3>
<p>Existen algunas herramientas que permiten acceder/modificar las variables UEFI, como: 
</p>
<ul><li>
<b>efivar</b> — Herramienta y biblioteca para modificar las variables de UEFI (utilizada por efibootmgr)</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/rhboot/efivar">https://github.com/rhboot/efivar</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=efivar">efivar</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/efivar-git/">efivar-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>efibootmgr</b> — Herramienta para modificar las configuraciones del gestor de arranque del firmware de UEFI</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/rhboot/efibootmgr">https://github.com/rhboot/efibootmgr</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=efibootmgr">efibootmgr</a></span>
</dd></dl>
<ul><li>
<b>uefivars</b> — Vuelca un listado de las variables de EFI con alguna información adicional sobre la PCI (utiliza el código de efibootmgr)</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/fpmurphy/Various/tree/master/uefivars-2.0">https://github.com/fpmurphy/Various/tree/master/uefivars-2.0</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/uefivars-git/">uefivars-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>efitools</b> — Herramientas para manipular las plataformas de <i>secure boot</i> de UEFI</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://git.kernel.org/pub/scm/linux/kernel/git/jejb/efitools.git">https://git.kernel.org/pub/scm/linux/kernel/git/jejb/efitools.git</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=efitools">efitools</a></span>
</dd></dl>
<ul><li>
<b>Suite de comprobación de firmware, de Ubuntu</b> — Conjunto de herramientas de comprobación que realiza verificaciones de estado en el firmware de ordenadores con Intel/AMD</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://wiki.ubuntu.com/FirmwareTestSuite/">https://wiki.ubuntu.com/FirmwareTestSuite/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/fwts-git/">fwts-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<h4><span class="mw-headline" id="efibootmgr">efibootmgr</span></h4>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> 
<ul>
<li>Si <code>efibootmgr</code> no funciona en absoluto en su sistema, puede reiniciar en el <a href="#Int%C3%A9rprete_de_%C3%B3rdenes_UEFI">intérprete de órdenes UEFI</a> y utilizar la orden <code>bcfg</code> para crear una entrada de arranque en el gestor de arranque.</li>
<li>Si no es posible usar <code>efibootmgr</code>, algunos firmwares UEFI permiten a los usuarios gestionar directamente las entradas de inicio de UEFI desde la interfaz que aparece durante el arranque. Por ejemplo, algunas BIOS de ASUS tienen una opción llamada «Add New Boot Option» (<i>«Añadir nueva opción de arranque»</i>) que permite seleccionar una partición de sistema EFI local e introducir manualmente la ubicación del código de EFI (por ejemplo <code>\EFI\refind\refind_x64.efi</code>).</li>
<li>Las siguientes órdenes utilizan el cargador de arranque <a href="../en/REFInd.html" title="REFInd">rEFInd</a> como ejemplo.</li>
</ul>
</div>
<p>Para añadir una nueva opción de arranque usando <i>efibootmgr</i>, necesita saber tres cosas:
</p>
<ol>
<li>El disco que contiene la <a href="../es/EFI_system_partition.html" title="EFI system partition (Español)">EFI system partition (Español)</a> (ESP): <code>/dev/sd<i>X</i></code>
</li>
<li>El número de partición de la ESP en ese disco: la <code><i>Y</i></code> en <code>/dev/sdX<i>Y</i></code>
</li>
<li>La ruta a la aplicación EFI (relativa a la raíz de la ESP)</li>
</ol>
<p>Por ejemplo, si desea agregar una opción de arranque para <code>/efi/EFI/refind/refind_x64.efi</code> donde <code>/efi</code> es el punto de montaje de la partición ESP, ejecute:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ findmnt /efi</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">TARGET SOURCE    FSTYPE OPTIONS
/efi   /dev/sda1 vfat   rw,flush,tz=UTC</pre>
<p>En este ejemplo, esto indica que la partición ESP está en el disco <code>/dev/sda</code>  y el número de la partición es 1. La ruta a la aplicación EFI relativa a la raíz de la ESP es <code>/EFI/refind/refind_x64.efi</code>. Sabiendo esto, se crearía la entrada de arranque de la siguiente manera:
</p>
<pre># efibootmgr --create --disk /dev/sda --part 1 --loader /EFI/refind/refind_x64.efi --label "rEFInd Boot Manager" --verbose
</pre>
<p>Consulte <span class="plainlinks archwiki-template-man" title="$ man 8 efibootmgr"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/efibootmgr.8">efibootmgr(8)</a></span> o el archivo <a rel="nofollow" class="external text" href="https://raw.githubusercontent.com/rhinstaller/efibootmgr/master/README">README de efibootmgr</a> para obtener más información.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> UEFI utiliza una barra invertida <code>\</code> como separador de ruta, pero <i>efibootmgr</i> convierte automáticamente los separadores de ruta en barra normal <code>/</code> al estilo UNIX.</div>
<h2>
<span id="Int.C3.A9rprete_de_.C3.B3rdenes_UEFI"></span><span class="mw-headline" id="Intérprete_de_órdenes_UEFI">Intérprete de órdenes UEFI</span>
</h2>
<p>El intérprete de órdenes de UEFI es una intérprete/terminal para el firmware, que permite ejecutar aplicaciones UEFI que incluyen los cargadores de arranque UEFI. Aparte de esto, el intérprete también se puede utilizar para obtener información variada sobre el sistema o del firmware del mapa de la memoria (memmap), modificar las variables  del gestor de arranque (bcfg), ejecutar programas de gestión de particiones (diskpart), cargar los controladores UEFI, editar archivos de texto (edit), hexedit, etc. 
</p>
<h3>
<span id="Obtener_el_int.C3.A9rprete_de_.C3.B3rdenes_UEFI"></span><span class="mw-headline" id="Obtener_el_intérprete_de_órdenes_UEFI">Obtener el intérprete de órdenes UEFI</span>
</h3>
<p>Puede descargar un intérprete de órdenes UEFI con licencia BSD de Tianocore de Intel desde el proyecto UDK/EDK2.
</p>
<ul>
<li>Paquete de <a href="../en/Arch_User_Repository.html" class="mw-redirect" title="AUR">AUR</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/uefi-shell-git/">uefi-shell-git</a></span><sup><small>AUR</small></sup> (recomendado) —proporciona la shell x86_64 para x86_64 (64-bit) de UEFI y la shell IA32 para IA32 (32-bit) de UEFI— compilado directamente de la última fuente de TianoCore EDK2.</li>
<li>Hay copias de la shell v1 y v2 en el directorio EFI en la imagen de instalación de Arch.</li>
<li>
<a rel="nofollow" class="external text" href="https://github.com/tianocore/edk2/tree/master/ShellBinPkg">Binarios precompilados de la shell v2 de UEFI</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">enlace roto</a> 2020-08-06]</sup> (puede no estar actualizado).</li>
<li>
<a rel="nofollow" class="external text" href="https://github.com/tianocore/edk2/tree/master/EdkShellBinPkg">Binarios precompilados de UEFI Shell v1</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">enlace roto</a> 2020-08-06]</sup> (no actualizado por los desarrolladores).</li>
<li>
<a rel="nofollow" class="external text" href="https://ptpb.pw/~Shell2.zip">Binario precompilado de la shell v2 de UEFI con bcfg modificado para trabajar con el firmware UEFI pre-2.3</a> —del cargador de arranque Clover EFI—.</li>
</ul>
<p>La versión 2.0 de la shell únicamente funciona en sistemas UEFI 2.3 + y se recomienda su uso con preferencia a la shell 1.0 en esos sistemas. La versión 1.3 de la shell debería funcionar en todos los sistemas UEFI, independientemente de la especificación de la versión del firmware. Más información en <a rel="nofollow" class="external text" href="https://sourceforge.net/apps/mediawiki/tianocore/index.php?title=ShellPkg">ShellPkg</a> y <a rel="nofollow" class="external text" href="http://sourceforge.net/mailarchive/message.php?msg_id=28690732">este correo</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">enlace roto</a> 2020-08-06]</sup>.
</p>
<h3>
<span id="Lanzar_el_int.C3.A9rprete_de_.C3.B3rdenes_UEFI"></span><span class="mw-headline" id="Lanzar_el_intérprete_de_órdenes_UEFI">Lanzar el intérprete de órdenes UEFI</span>
</h3>
<p>Algunas placas base Asus y otras basadas en el firmware UEFI AMI Aptio x86_64 (de Sandy Bridge en adelante) ofrecen una opción llamada <code>«Launch EFI Shell from filesystem device»</code>. Para estas placas base, descargue la shell de UEFI x86_64 y cópiela a la partición del sistema UEFI renombrándola como <code>&lt;UEFI_SYSTEM_PARTITION&gt;/shellx64.efi</code> (normalmente en la carpeta <code>/boot/efi/shellx64.efi</code>).
</p>
<p>Los sistemas con un firmware UEFI Phoenix SecureCore Tiano se sabe que llevan integrada la shell de UEFI, la cual se puede iniciar presionando las teclas <code>F6</code>, <code>F11</code> o <code>F12</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Si es incapaz de lanzar la shell de UEFI directamente desde el firmware mediante cualquiera de los métodos mencionados anteriormente, cree una unidad USB formateada con FAT32 conteniendo la <code>Shell.efi</code>, copiada con la ruta <code>(USB)/efi/boot/bootx64.efi</code>. Este USB debería aparecer en el menú de arranque del firmware. La inicialización de esta opción lanzará la shell de UEFI.</div>
<h3>
<span id=".C3.93rdenes_importantes_del_int.C3.A9rprete_UEFI"></span><span class="mw-headline" id="Órdenes_importantes_del_intérprete_UEFI">Órdenes importantes del intérprete UEFI</span>
</h3>
<p>Las órdenes del intérprete UEFI generalmente dan soporte a la opción <code>-b</code> que hace una pausa después de la salida de cada página. Ejecute <code>help -b</code> para ver las órdenes disponibles.
</p>
<p>Puede obtener más información en <a rel="nofollow" class="external free" href="http://software.intel.com/en-us/articles/efi-shells-and-scripting/">http://software.intel.com/en-us/articles/efi-shells-and-scripting/</a>
</p>
<h4><span class="mw-headline" id="bcfg">bcfg</span></h4>
<p>La orden <code>bcfg</code>  se utiliza para modificar las entradas en la NVRAM de UEFI, lo que permite cambiar las entradas de arranque o las opciones del controlador. Esta orden se describe con detalle en la página 83 (sección 5.3) del documento <a rel="nofollow" class="external text" href="http://www.uefi.org/sites/default/files/resources/UEFI_Shell_Spec_2_0.pdf">UEFI Shell Specification 2.0</a>
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> 
<ul>
<li>Se recomienda probar <code>bcfg</code> únicamente si <code>efibootmgr</code> no puede crear entradas de inicio que funcionen en el propio sistema.</li>
<li>La versión 1 del binario oficial del intérprete de órdenes UEFI no proporciona soporte para la orden <code>bcfg</code>. Consulte <a href="#Obtener_el_int%C3%A9rprete_de_%C3%B3rdenes_UEFI">#Obtener el intérprete de órdenes UEFI</a> para un binario UEFI shell v2 modificado que puede funcionar en UEFI con firmwares anteriores a 2.3.</li>
</ul>
</div>
<p>Para conocer una lista de entradas de arranque actuales:
</p>
<pre>Shell&gt; bcfg boot dump -v
</pre>
<p>Para añadir una entrada para rEFInd (por ejemplo) como cuarta (la numeración empieza desde cero) en el menú de arranque:
</p>
<pre>Shell&gt; bcfg boot add 3 FS0:\EFI\refind\refind_x64.efi "rEFInd"
</pre>
<p>donde <code>FS0:</code> es la asignación correspondiente a la partición del sistema UEFI y <code>FS0:\EFI\refind\refind_x64.efi</code> es el archivo que se pondrá en marcha.
</p>
<p>Para agregar una entrada con el fin de iniciar directamente su sistema, sin un gestor de arranque, configure una opción de arranque utilizando su kernel como <a href="../en/EFISTUB.html#Using_UEFI_Shell" title="EFISTUB">EFISTUB</a>:
</p>
<pre>Shell&gt; bcfg boot add <b>N</b> fs<b>V</b>:\vmlinuz-linux "Arch Linux"
Shell&gt; bcfg boot -opt <b>N</b> "root=<b>/dev/sdX#</b> initrd=\initramfs-linux.img"
</pre>
<p>donde <code>N</code> es la prioridad, <code>V</code> es el número de volumen donde se encuetra la partición de sistema EFI, y <code>/dev/sdX#</code> es la partición raíz.
</p>
<p>Para quitar la opción de arranque cuarta:
</p>
<pre>Shell&gt; bcfg boot rm 3
</pre>
<p>Para mover la opción de arranque #3 a #0 (es decir, a la primera posición o la entrada por defecto en el menú de inicio de UEFI):
</p>
<pre>Shell&gt; bcfg boot mv 3 0
</pre>
<p>Para mostrar el texto de ayuda de bcfg:
</p>
<pre>Shell&gt; help bcfg -v -b
</pre>
<p>o
</p>
<pre>Shell&gt; bcfg -? -v -b
</pre>
<h4><span class="mw-headline" id="map">map</span></h4>
<p>La orden <code>map</code> muestra un mapeado de los dispositivos, es decir, los nombres de los sistemas de archivos disponibles (<code>FS0</code>) y los dispositivos de almacenamiento (<code>blk0</code>).
</p>
<p>Antes de ejecutar órdenes relacionadas con el sistema de archivos, como <code>cd</code> o <code>ls</code>, debe cambiar el intérprete de órdenes al sistema de archivos correspondiente, escribiendo su nombre:
</p>
<pre>Shell&gt; FS0:
FS0:\&gt; cd EFI/
</pre>
<h4><span class="mw-headline" id="edit">edit</span></h4>
<p>La orden <code>edit</code> proporciona un editor de texto básico, con una interfaz similar al editor de texto nano, pero ligeramente menos funcional. Maneja codificación UTF-8 y se hace cargo del final de la línea LF frente a <a href="https://en.wikipedia.org/wiki/es:CRLF" class="extiw" title="wikipedia:es:CRLF">CRLF</a>.
</p>
<p>Para editar, por ejemplo, <code>refind.conf</code> de rEFInd en la partición del sistema UEFI (FS0: en el firmware):
</p>
<pre>Shell&gt; edit FS0:\EFI\refind\refind.conf
</pre>
<p>Escriba <code>Ctrl-E</code> para obtener ayuda.
</p>
<h2><span class="mw-headline" id="Soporte_para_arrancar_UEFI">Soporte para arrancar UEFI</span></h2>
<h3><span class="mw-headline" id="Crear_un_USB_arrancable_con_UEFI_desde_la_ISO">Crear un USB arrancable con UEFI desde la ISO</span></h3>
<p>Siga las instrucciones del siguiente artículo <a href="../es/USB_flash_installation_medium.html#Crear_USB_para_arrancar_desde_sistemas_BIOS_y_UEFI" class="mw-redirect" title="USB Installation Media (Español)">USB Installation Media (Español)#Crear USB para arrancar desde sistemas BIOS y UEFI</a>
</p>
<h3>
<span id="Eliminar_el_apoyo_de_arranque_de_UEFI_de_una_unidad_.C3.B3ptica"></span><span class="mw-headline" id="Eliminar_el_apoyo_de_arranque_de_UEFI_de_una_unidad_óptica">Eliminar el apoyo de arranque de UEFI de una unidad óptica</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Esta sección menciona la eliminación de la ayuda de arranque UEFI desde un <b>CD/DVD únicamente</b> (soporte óptico), no desde una unidad flash USB.</div>
<p>La mayoría de los Mac EFI de 32-bit y algunos Mac EFI de 64 bits se niegan a arrancar desde un CD/DVD bootable con una combinación de UEFI(X64)+BIOS. Si se desea continuar con la instalación con soportes ópticos, puede que sea necesario, primero, eliminar el apoyo a UEFI.
</p>
<ul><li>Monte el soporte de instalación oficial y obtenga el <code>archisolabel</code> como se muestra en la sección anterior.</li></ul>
<pre># mount -o loop <i>input.iso</i> /mnt/iso
</pre>
<ul><li>Después reconstruya la ISO, excluyendo el soporte de arranque de UEFI de la imágen destinada al disco óptico, utilizando <code>xorriso</code> de <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libisoburn">libisoburn</a></span>. Asegúrese de configurar el archisolabel correcto, por ejemplo «ARCH_201411» o similar:</li></ul>
<pre>$ xorriso -as mkisofs -iso-level 3 \
    -full-iso9660-filenames\
    -volid "<i>archisolabel</i>" \
    -appid "Arch Linux CD" \
    -publisher "Arch Linux &lt;<a rel="nofollow" class="external free" href="https://archlinux.org">https://archlinux.org</a>&gt;" \
    -preparer "prepared by $USER" \
    -eltorito-boot isolinux/isolinux.bin \
    -eltorito-catalog isolinux/boot.cat \
    -no-emul-boot -boot-load-size 4 -boot-info-table \
    -isohybrid-mbr "/mnt/iso/isolinux/isohdpfx.bin" \
    -output <i>output.iso</i> /mnt/iso/</pre>
<ul><li>Grabe <code><i>output.iso</i></code> en el disco óptico y continúe con la instalación de forma normal.</li></ul>
<h3><span class="mw-headline" id="Arrancar_el_kernel_de_64-bit_en_UEFI_de_32-bit">Arrancar el kernel de 64-bit en UEFI de 32-bit</span></h3>
<p>La imagen ISO oficial (<a href="../en/Archiso.html" title="Archiso">Archiso</a>) no admite el arranque en sistemas UEFI de 32 bits (<a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/53182">FS#53182</a>) ya que utiliza EFISTUB (a través del administrador de arranque <a href="../en/Systemd-boot.html" title="Systemd-boot">systemd-boot</a> para el menú) para arancar el kernel en modo UEFI. Para arrancar un kernel de 64 bits con UEFI de 32 bits, debe usar un gestor de arranque que no se base en el código de arranque de EFI para lanzar los kernel.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Sugerencia:</strong> la imagen iso de <a href="../en/Archboot.html" title="Archboot">Archboot</a> admite el arranque en sistemas UEFI de 32 bits.</div>
<h4><span class="mw-headline" id="Utilizar_GRUB">Utilizar GRUB</span></h4>
<p>Esta sección describe cómo configurar <a href="../en/GRUB.html" title="GRUB">GRUB</a> como el cargador de arranque UEFI del USB.
</p>
<ul><li>
<a href="../en/USB_flash_installation_medium.html#Using_manual_formatting" class="mw-redirect" title="USB flash installation media">Crear una instalación en un soporte USB modificable</a>. Como vamos a usar GRUB, solo tiene que seguir los pasos hasta la parte donde empieza la explicación de <code>syslinux</code>.</li></ul>
<ul><li>
<a href="../en/GRUB/Tips_and_tricks.html#GRUB_standalone" title="GRUB/Tips and tricks">Crear una imagen independiente de GRUB</a> para sistemas UEFI de 32 bits:</li></ul>
<pre># echo 'configfile ${cmdpath}/grub.cfg' &gt; /tmp/grub.cfg
# grub-mkstandalone -d /usr/lib/grub/i386-efi -O i386-efi --modules="part_gpt part_msdos" --locales="en@quot" --themes="" -o "<i>/mnt/usb/</i>EFI/boot/bootia32.efi" "boot/grub/grub.cfg=/tmp/grub.cfg" -v
</pre>
<ul><li>Cree <code><i>/mnt/usb</i>/EFI/boot/grub.cfg</code>  con los siguientes contenidos (sustituya <code>ARCH_YYYYMM</code> con la etiqueta archiso adecuada, por ejemplo <code>ARCH_202010</code>):</li></ul>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Sugerencia:</strong> 
<ul>
<li>La etiqueta archiso se puede obtener del archivo <i>.iso </i> con la herramienta <code>isoinfo</code> del paquete <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=cdrtools">cdrtools</a></span>, o <code>iso-info</code> de <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libcdio">libcdio</a></span>.</li>
<li>Las entradas de configuración dadas también pueden ingresarse dentro de una <a href="../en/GRUB.html#Using_the_command_shell" title="GRUB">shell de GRUB</a>.</li>
</ul>
</div>
<p>Para el ISO oficial:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"><i>/mnt/usb</i>/EFI/boot/grub.cfg</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">insmod part_gpt
insmod part_msdos
insmod fat

insmod efi_gop
insmod efi_uga
insmod video_bochs
insmod video_cirrus

insmod font

if loadfont "${prefix}/fonts/unicode.pf2" ; then
    insmod gfxterm
    set gfxmode="1024x768x32;auto"
    terminal_input console
    terminal_output gfxterm
fi

menuentry "Arch Linux archiso x86_64 UEFI USB" {
    set gfxpayload=keep
    search --no-floppy --set=root --label <i>ARCH_YYYYMM</i>
    linux /arch/boot/x86_64/vmlinuz archisobasedir=arch archisolabel=<i>ARCH_YYYYMM</i> add_efi_memmap
    initrd /arch/boot/intel_ucode.img /arch/boot/x86_64/initramfs-linux.img
}</pre>
<h2><span class="mw-headline" id="Probar_UEFI_en_sistemas_sin_soporte_nativo">Probar UEFI en sistemas sin soporte nativo</span></h2>
<h3>
<span id="OVMF_para_m.C3.A1quinas_virtuales"></span><span class="mw-headline" id="OVMF_para_máquinas_virtuales">OVMF para máquinas virtuales</span>
</h3>
<p><a rel="nofollow" class="external text" href="https://tianocore.github.io/ovmf/">OVMF</a> es un proyecto de TianoCore destinado a activar la compatibilidad de UEFI para máquinas virtuales. OVMF contiene una muestra de firmware UEFI para QEMU.
</p>
<p>Se puede instalar <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ovmf">ovmf</a></span><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">enlace roto</a>: replaced by <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=edk2-ovmf">edk2-ovmf</a></span>]</sup> desde el repositorio extra.
</p>
<p>Es <a rel="nofollow" class="external text" href="https://www.linux-kvm.org/downloads/lersek/ovmf-whitepaper-c770f8c.txt">recomendable</a> hacer una copia local del conjunto de variables no volátiles para su máquina virtual:
</p>
<pre>$ cp /usr/share/ovmf/x64/OVMF_VARS.fd my_uefi_vars.bin
</pre>
<p>Para usar el firmware OVMF y el conjunto de variables, añada la siguiente orden a su QEMU:
</p>
<pre>-drive if=pflash,format=raw,readonly,file=/usr/share/ovmf/x64/OVMF_CODE.fd \
-drive if=pflash,format=raw,file=my_uefi_vars.bin
</pre>
<p>Por ejemplo:
</p>
<pre>$ qemu-system-x86_64 -enable-kvm -m 1G -drive if=pflash,format=raw,readonly,file=/usr/share/ovmf/x64/OVMF_CODE.fd -drive if=pflash,format=raw,file=my_uefi_vars.bin …
</pre>
<h3>
<span id="DUET_para_sistemas_BIOS_.C3.BAnicamente"></span><span class="mw-headline" id="DUET_para_sistemas_BIOS_únicamente">DUET para sistemas BIOS únicamente</span>
</h3>
<p>DUET es un proyecto TianoCore que permite cargar en cadena un entorno UEFI completo desde un sistema BIOS, de manera similar al arranque de los sistemas operativos en entorno BIOS. Este método se está discutiendo ampliamente en <a rel="nofollow" class="external free" href="http://www.insanelymac.com/forum/topic/186440-linux-and-windows-uefi-boot-using-tianocore-duet-firmware/">http://www.insanelymac.com/forum/topic/186440-linux-and-windows-uefi-boot-using-tianocore-duet-firmware/</a> . Imágenes DUET precompiladas se pueden descargar de uno de los repositorios de <a rel="nofollow" class="external free" href="https://gitorious.org/tianocore_uefi_duet_builds">https://gitorious.org/tianocore_uefi_duet_builds</a>. Instrucciones específicas para la creación de DUET están disponible en <a rel="nofollow" class="external free" href="https://gitorious.org/tianocore_uefi_duet_builds/tianocore_uefi_duet_installer/blobs/raw/master/Migle_BootDuet_INSTALL.txt">https://gitorious.org/tianocore_uefi_duet_builds/tianocore_uefi_duet_installer/blobs/raw/master/Migle_BootDuet_INSTALL.txt</a> . 
</p>
<p>También puede probar <a rel="nofollow" class="external free" href="https://sourceforge.net/projects/cloverefiboot/">https://sourceforge.net/projects/cloverefiboot/</a> que proporciona imágenes DUET modificadas que puedan contener algunos arreglos específicos del sistema y son más frecuentemente actualizadas en comparación con las de los repositorios gitorious.
</p>
<h2>
<span id="Soluci.C3.B3n_de_problemas"></span><span class="mw-headline" id="Solución_de_problemas">Solución de problemas</span>
</h2>
<h3><span class="mw-headline" id="Windows_7_no_se_inicia_en_la_modalidad_UEFI">Windows 7 no se inicia en la modalidad UEFI</span></h3>
<p>Si tiene instalado Windows en un disco duro con particionado GPT y sigue teniendo otro disco duro diferente con particionado MBR en su ordenador, entonces es posible que el firmware (UEFI) está dando su apoyo CSM a este último (para arrancar particiones MBR) y por ello Windows no arranca. Para resolver este problema convierta el particionado de su disco MBR a GPT, o desactive el puerto SATA del disco duro cuando esté conectado, o bien, desenchufe el puerto SATA de este disco duro.
</p>
<p>Placas base con este tipo de problema:
</p>
<ul><li>Gigabyte Z77X-UD3H rev. 1.1 (BIOS UEFI versión F19e)</li></ul>
<ul><li><ul><li>La opción <i>«UEFI Only»</i> de la BIOS UEFI no pretende hacer que la BIOS UEFI arranque desde CSM.</li></ul></li></ul>
<h3><span class="mw-headline" id="Windows_cambia_el_orden_de_arranque">Windows cambia el orden de arranque</span></h3>
<p>Si el <a href="../en/Dual_boot_with_Windows.html" title="Dual boot with Windows">arranque dual con Windows</a> y su placa base solo inicia Windows de forma inmediata en lugar mostrar la elección de su aplicación EFI, existen varias causas posibles y soluciones alternativas.
</p>
<ul>
<li>Asegúrese de que el <a href="../en/Dual_boot_with_Windows.html#Fast_Start-Up" title="Dual boot with Windows">inicio rápido</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup> esté desactivado en las opciones de energía de Windows</li>
<li>Asegúrese de que <a href="../en/Unified_Extensible_Firmware_Interface/Secure_Boot.html" class="mw-redirect" title="Secure Boot">Secure Boot</a> esté desactivado en su BIOS (si no está utilizando un gestor de arranque firmado)</li>
<li>Asegúrese de que el orden de arranque de UEFI no tiene establecido primero «<i>Windows Boot Manager</i>» utilizando, por ejemplo,  <a href="#efibootmgr">#efibootmgr</a> and what you see in the configuration tool of the UEFI. Algunas placas base anulan, por defecto, cualquier configuración establecida con efibootmgr por Windows, si la detecta. Esto se confirma en una computadora portátil Packard Bell.</li>
<li>Si su placa base está iniciando la ruta de inicio predeterminada (<code>\EFI\BOOT\BOOTX64.EFI</code>), este archivo puede haber sido sobrescrito con el cargador de arranque de Windows. Intente configurar la ruta de inicio correcta, por ejemplo utilizando <a href="#efibootmgr">#efibootmgr</a>.</li>
<li>Si los pasos anteriores no funcionan, puede decirle al gestor de arranque de Windows que ejecute una aplicación EFI diferente. Desde un prompt de órdenes de «Windows Administrator»: <pre># bcdedit /set "{bootmgr}" path "\EFI\<i>path</i>\<i>to</i>\<i>app.efi</i>"</pre>
</li>
<li>Alternativamente, puede establecer una secuencia de órdenes de inicio en Windows que garantice que el orden de inicio esté configurado correctamente cada vez que inicie Windows.
<ol>
<li>Abra un promtp de órdenes (símbolo del sistema) con privilegios de administrador. Ejecute <code>bcdedit /enum firmware</code> y encuentre la entrada de inicio deseada.</li>
<li>Copie el Identificador, incluidos los corchetes, por ejemplo <code>{31d0d5f4-22ad-11e5-b30b-806e6f6e6963}</code>
</li>
<li>Cree un archivo por lotes con la siguiente orden <code>bcdedit /set "{fwbootmgr}" DEFAULT "{<i>copied boot identifier</i>}"</code>
</li>
<li>Abra <i>gpedit.msc</i> y en  <i>Local Computer Policy &gt; Computer Configuration &gt; Windows Settings &gt; Scripts(Startup/Shutdown)</i>, seleccione <i>Startup</i>
</li>
<li>En la pestaña <i>Scripts</i>, seleccione el botón <i>Add</i>, y seleccione su archivo por lotes.</li>
</ol>
</li>
</ul>
<h3><span class="mw-headline" id="El_soporte_USB_se_topa_con_una_pantalla_negra">El soporte USB se topa con una pantalla negra</span></h3>
<p>Este problema puede ocurrir debido a un problema con <a href="../en/Kernel_mode_setting.html" class="mw-redirect" title="KMS">KMS</a>. Pruebe <a href="../en/Kernel_mode_setting.html#Disabling_modesetting" title="Kernel mode setting">desactivar KMS</a> mientras arranca el USB.
</p>
<h3>
<span id="El_cargador_de_arranque_UEFI_no_aparece_en_el_men.C3.BA_del_firmware"></span><span class="mw-headline" id="El_cargador_de_arranque_UEFI_no_aparece_en_el_menú_del_firmware">El cargador de arranque UEFI no aparece en el menú del firmware</span>
</h3>
<p>En ciertas placas base UEFI, como algunas placas con un chipset Intel Z77, agregar entradas con <code>efibootmgr</code> o <code>bcfg</code> desde la shell de UEFI no funcionará, porque no aparecerán en la lista del menú de arranque después de haber sido agregadas a NVRAM.
</p>
<p>Este problema se debe a que las placas base solo pueden cargar Microsoft Windows. Para resolver esto, debe colocar el archivo <i>.efi</i> en la ubicación que usa Windows.
</p>
<p>Copie el archivo <code>bootx64.efi</code> del soporte de instalación de Arch Linux (<code>FSO:</code>) en el directorio de Microsoft de la partición <a href="../en/EFI_system_partition.html" class="mw-redirect" title="ESP">ESP</a> de su disco duro (<code>FS1:</code>). Haga esto arrancando la shell EFI y escribiendo:
</p>
<pre>Shell&gt; mkdir FS1:\EFI\Microsoft
Shell&gt; mkdir FS1:\EFI\Microsoft\Boot
Shell&gt; cp FS0:\EFI\BOOT\bootx64.efi FS1:\EFI\Microsoft\Boot\bootmgfw.efi
</pre>
<p>Después del reinicio, las entradas agregadas a la NVRAM deben aparecer en el menú de inicio.
</p>
<h2>
<span id="V.C3.A9ase_tambi.C3.A9n"></span><span class="mw-headline" id="Véase_también">Véase también</span>
</h2>
<ul>
<li><a href="https://en.wikipedia.org/wiki/UEFI" class="extiw" title="wikipedia:UEFI">Wikipedia:UEFI</a></li>
<li>
<a rel="nofollow" class="external text" href="http://www.uefi.org/home/">UEFI Forum</a> - contains the official <a rel="nofollow" class="external text" href="http://uefi.org/specifications">UEFI Specifications</a> - GUID Partition Table is part of UEFI Specification</li>
<li><a rel="nofollow" class="external text" href="https://www.happyassassin.net/2014/01/25/uefi-boot-how-does-that-actually-work-then/">UEFI boot: how does that actually work, then? - A blog post by AdamW</a></li>
<li><a rel="nofollow" class="external text" href="https://www.kernel.org/doc/html/latest/x86/x86_64/uefi.html">Linux Kernel x86_64 UEFI Documentation</a></li>
<li><a rel="nofollow" class="external text" href="https://www.intel.com/content/www/us/en/architecture-and-technology/unified-extensible-firmware-interface/efi-homepage-general-technology.html">Intel's page on EFI</a></li>
<li><a rel="nofollow" class="external text" href="https://firmware.intel.com/">Intel Architecture Firmware Resource Center</a></li>
<li><a rel="nofollow" class="external text" href="https://firmware.intel.com/blog/linux-efi-boot-stub">Matt Fleming - The Linux EFI Boot Stub</a></li>
<li><a rel="nofollow" class="external text" href="https://firmware.intel.com/blog/accessing-uefi-variables-linux">Matt Fleming - Accessing UEFI Variables from Linux</a></li>
<li><a rel="nofollow" class="external text" href="http://www.rodsbooks.com/linux-uefi/">Rod Smith - Linux on UEFI: A Quick Installation Guide</a></li>
<li><a rel="nofollow" class="external text" href="https://lkml.org/lkml/2011/6/8/322">UEFI Boot problems on some newer machines (LKML)</a></li>
<li>
<a rel="nofollow" class="external text" href="https://linuxplumbers.ubicast.tv/videos/plumbing-uefi-into-linux/">LPC 2012 Plumbing UEFI into Linux</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">enlace roto</a> 2020-08-06]</sup>
</li>
<li>
<a rel="nofollow" class="external text" href="https://linuxplumbers.ubicast.tv/videos/uefi-tutorial-part-1/">LPC 2012 UEFI Tutorial : part 1</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">enlace roto</a> 2020-08-06]</sup>
</li>
<li>
<a rel="nofollow" class="external text" href="https://linuxplumbers.ubicast.tv/videos/uefi-tutorial-part-2/">LPC 2012 UEFI Tutorial : part 2</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">enlace roto</a> 2020-08-06]</sup>
</li>
<li>
<a rel="nofollow" class="external text" href="http://www.tianocore.org/">Intel's TianoCore Project</a> for Open-Source UEFI firmware which includes DuetPkg for direct BIOS based booting and OvmfPkg used in QEMU and Oracle VirtualBox</li>
<li><a rel="nofollow" class="external text" href="https://jdebp.eu/FGA/efi-boot-process.html">FGA: The EFI boot process</a></li>
<li><a rel="nofollow" class="external text" href="https://docs.microsoft.com/en-us/windows-hardware/manufacture/desktop/windows-and-gpt-faq">Microsoft's Windows and GPT FAQ</a></li>
<li><a rel="nofollow" class="external text" href="https://gitlab.com/tianocore_uefi_duet_builds/tianocore_uefi_duet_installer/wikis/Windows_x64_BIOS_to_UEFI">Convert Windows x64 from BIOS-MBR mode to UEFI-GPT mode without Reinstall</a></li>
<li><a rel="nofollow" class="external text" href="https://gitlab.com/tianocore_uefi_duet_builds/tianocore_uefi_duet_installer/wikis/Linux_Windows_BIOS_UEFI_boot_USB">Create a Linux BIOS+UEFI and Windows x64 BIOS+UEFI bootable USB drive</a></li>
<li><a rel="nofollow" class="external text" href="http://rodsbooks.com/bios2uefi/">Rod Smith - A BIOS to UEFI Transformation</a></li>
<li><a rel="nofollow" class="external text" href="https://software.intel.com/en-us/articles/efi-shells-and-scripting/">EFI Shells and Scripting - Intel Documentation</a></li>
<li><a rel="nofollow" class="external text" href="https://software.intel.com/en-us/articles/uefi-shell/">UEFI Shell  - Intel Documentation</a></li>
<li>
<a rel="nofollow" class="external text" href="http://www.hpuxtips.es/?q=node/293">UEFI Shell - bcfg command info</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">enlace roto</a> 2020-08-06]</sup>
</li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../es/Category:Boot_process.html" title="Category:Boot process (Español)">Boot process (Español)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li>
<li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li>
<li><a href="../en/Category:Pages_with_broken_section_links.html" title="Category:Pages with broken section links">Pages with broken section links</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Unified_Extensible_Firmware_Interface_(Espa%C3%B1ol)&amp;oldid=647075">https://wiki.archlinux.org/index.php?title=Unified_Extensible_Firmware_Interface_(Español)&amp;oldid=647075</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 26 December 2020, at 12:28.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
