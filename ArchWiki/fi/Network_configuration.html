<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Network configuration (Suomi) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Network_configuration_Suomi rootpage-Network_configuration_Suomi skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Network configuration (Suomi)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Aiheeseen liittyen</p>
<ul>
<li><a href="../en/Network_Debugging.html" title="Network Debugging">Network Debugging</a></li>
<li><a href="../en/Category:Firewalls.html" class="mw-redirect" title="Firewalls">Firewalls</a></li>
<li><a href="../en/Jumbo_frames.html" title="Jumbo frames">Jumbo frames</a></li>
<li><a href="../en/Internet_sharing.html" title="Internet sharing">Internet sharing</a></li>
<li><a href="../en/Router.html" title="Router">Router</a></li>
</ul>
</div>
<p>Tässä artikkelissa kerrotaan kuinka verkkoyhteydet pystyy konfiguroimaan <a href="https://en.wikipedia.org/wiki/OSI_layer_3" class="extiw" title="wikipedia:OSI layer 3">OSI kerroksella 3</a> ja ylöspäin. <a href="../en/Network_configuration/Ethernet.html" title="Network configuration/Ethernet">Ethernettiin</a> ja <a href="../en/Network_configuration/Wireless.html" title="Network configuration/Wireless">langattomaan</a> paneutudaan paremmin niiden alasivuilla.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Tarkista_yhteys"><span class="tocnumber">1</span> <span class="toctext">Tarkista yhteys</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Ping"><span class="tocnumber">1.1</span> <span class="toctext">Ping</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3">
<a href="#Verkon_hallinnointi"><span class="tocnumber">2</span> <span class="toctext">Verkon hallinnointi</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#net-tools"><span class="tocnumber">2.1</span> <span class="toctext">net-tools</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#iproute2"><span class="tocnumber">2.2</span> <span class="toctext">iproute2</span></a></li>
<li class="toclevel-2 tocsection-6">
<a href="#Verkon_k%C3%A4ytt%C3%B6liittym%C3%A4t"><span class="tocnumber">2.3</span> <span class="toctext">Verkon käyttöliittymät</span></a>
<ul>
<li class="toclevel-3 tocsection-7"><a href="#Verkon_k%C3%A4ytt%C3%B6liittymien_listaus"><span class="tocnumber">2.3.1</span> <span class="toctext">Verkon käyttöliittymien listaus</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="#Verkkok%C3%A4ytt%C3%B6liittymien_aktivointi_ja_k%C3%A4yt%C3%B6st%C3%A4_poistaminen"><span class="tocnumber">2.3.2</span> <span class="toctext">Verkkokäyttöliittymien aktivointi ja käytöstä poistaminen</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-9"><a href="#Staattinen_IP_osoite"><span class="tocnumber">2.4</span> <span class="toctext">Staattinen IP osoite</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#IP_osoitteet"><span class="tocnumber">2.5</span> <span class="toctext">IP osoitteet</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Reititystaulu"><span class="tocnumber">2.6</span> <span class="toctext">Reititystaulu</span></a></li>
<li class="toclevel-2 tocsection-12">
<a href="#DHCP"><span class="tocnumber">2.7</span> <span class="toctext">DHCP</span></a>
<ul>
<li class="toclevel-3 tocsection-13"><a href="#Palvelimet"><span class="tocnumber">2.7.1</span> <span class="toctext">Palvelimet</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-14"><a href="#Verkonhallintaj%C3%A4rjestelm%C3%A4t"><span class="tocnumber">2.8</span> <span class="toctext">Verkonhallintajärjestelmät</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-15">
<a href="#Aseta_is%C3%A4nt%C3%A4nimi"><span class="tocnumber">3</span> <span class="toctext">Aseta isäntänimi</span></a>
<ul>
<li class="toclevel-2 tocsection-16"><a href="#Paikallinen_is%C3%A4nt%C3%A4nimen_resoluutio"><span class="tocnumber">3.1</span> <span class="toctext">Paikallinen isäntänimen resoluutio</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#Paikallisen_verkon_is%C3%A4nt%C3%A4nimen_resoluutio"><span class="tocnumber">3.2</span> <span class="toctext">Paikallisen verkon isäntänimen resoluutio</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-18">
<a href="#Vinkkej%C3%A4_ja_konsteja"><span class="tocnumber">4</span> <span class="toctext">Vinkkejä ja konsteja</span></a>
<ul>
<li class="toclevel-2 tocsection-19"><a href="#Vaihda_k%C3%A4ytt%C3%B6liittym%C3%A4n_nime%C3%A4"><span class="tocnumber">4.1</span> <span class="toctext">Vaihda käyttöliittymän nimeä</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#Palauta_perinteisiin_k%C3%A4ytt%C3%B6liittym%C3%A4n_nimiin"><span class="tocnumber">4.2</span> <span class="toctext">Palauta perinteisiin käyttöliittymän nimiin</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#Kannan_tutkiminen"><span class="tocnumber">4.3</span> <span class="toctext">Kannan tutkiminen</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-22"><a href="#Vianm%C3%A4%C3%A4ritys"><span class="tocnumber">5</span> <span class="toctext">Vianmääritys</span></a></li>
<li class="toclevel-1 tocsection-23"><a href="#Katso_my%C3%B6s"><span class="tocnumber">6</span> <span class="toctext">Katso myös</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Tarkista_yhteys">Tarkista yhteys</span></h2>
<p>Määrittääksesi vian yhteydessä, käy seuraava lista läpi ja varmista että kaikki tapaukset täyttyvät:
</p>
<ol>
<li>
<a href="#Verkon_k%C3%A4ytt%C3%B6liittym%C3%A4t">Verkon käyttöliittymä</a> on listattu ja otettu käyttöön. Muussa tapauksessa tarkista laitteen ajuri – katso <a href="../en/Network_configuration/Ethernet.html#Device_driver" title="Network configuration/Ethernet">ethernet ajuri</a> tai <a href="../en/Network_configuration/Wireless.html#Device_driver" title="Network configuration/Wireless">langaton ajuri</a>.</li>
<li>Olet yhdistettynä verkkoon: kaapeli on kytketty kiinni tai olet <a href="../en/Network_configuration/Wireless.html" title="Network configuration/Wireless">yhdistettynä langattomasti LAN verkkoon</a>.</li>
<li>Sinun verkon käyttöliittymään on asetettu <a href="#IP_osoitteet">IP osoite</a>.</li>
<li>
<a href="#Reititystaulu">Reititystaulu</a> on asetettu oikein.</li>
<li>Voit <a href="#Ping">pingata</a> verkon sisäisen IP osoitteen (kuten sinun yhdyskäytävä).</li>
<li>Voit <a href="#Ping">pingata</a> julkisen IP osoitteen (kuten <code>8.8.8.8</code>, joka on Googlen DNS palvelin ja on kätevä osoite testailulle).</li>
<li>
<a href="../en/Domain_name_resolution.html#Check_if_you_can_resolve_domain_names" class="mw-redirect" title="Check if you can resolve domain names">Tarkista jotta voit selvittää verkkotunnuksia</a> (kuten <code>archlinux.org</code>).</li>
</ol>
<h3><span class="mw-headline" id="Ping">Ping</span></h3>
<p><a href="https://en.wikipedia.org/wiki/fi:Ping" class="extiw" title="wikipedia:fi:Ping">Pingausta</a> käytetään yhteyden selvittämiseen palvelimelle.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ ping www.example.com</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">PING www.example.com (93.184.216.34): 56(84) data bytes

64 bytes from 93.184.216.34: icmp_seq=0 ttl=56 time=11.632 ms

64 bytes from 93.184.216.34: icmp_seq=1 ttl=56 time=11.726 ms

64 bytes from 93.184.216.34: icmp_seq=2 ttl=56 time=10.683 ms

...</pre>
<p>Jokaisesta vastauksesta pingaus apuväline printtaa samanlaisen rivin kuin ylhäällä esimerkissä on. Lisätietoa löytyy <span class="plainlinks archwiki-template-man" title="$ man 8 ping"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/ping.8">ping(8)</a></span> manuaalista. Huomaa että tietokoneet voivat olla konfiguroituja olemaan vastaamatta ICMP echo pyyntöihin. <a rel="nofollow" class="external autonumber" href="https://unix.stackexchange.com/questions/412446/how-to-disable-ping-response-icmp-echo-in-linux-all-the-time">[1]</a>
</p>
<p>Jos et saa vastausta, oletus yhdyskäytävä tai ISP eli palveluntarjoaja saattaa olla ongelmana. Voit suorittaa <a href="../en/Network_tools.html#Traceroute" class="mw-redirect" title="Traceroute">traceroute</a> työkalun diagnosoidaksesi polku palvelimelle.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Huomautus:</strong> Jos saat virhe ilmoituksen kuten <code>ping: icmp open socket: Operation not permitted</code> kun suoritat <i>ping</i> työkalua, yritä asentaa uudelleen <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iputils">iputils</a></span> paketti.</div>
<h2><span class="mw-headline" id="Verkon_hallinnointi">Verkon hallinnointi</span></h2>
<p>Saavuttaaksesi verkkoyhteyden käy seuraavat askeleet läpi:
</p>
<ol><li>Varmistu siitä, että <a href="#Verkon_k%C3%A4ytt%C3%B6liittym%C3%A4t">verkon käyttöliittymä</a> on listattuna ja otettuna käyttöön.</li></ol>
<ol><li>Yhdistä verkkoon.  Kiinnistä Ethernet kaapeli tai <a href="../en/Network_configuration/Wireless.html" title="Network configuration/Wireless">yhdistä langattomaan LAN verkkoon</a>.</li></ol>
<ol><li>Konfiguroi verkkoyhteys:</li></ol>
<ol><li><ul><li><a href="#Staattinen_IP_osoite">staattinen IP osoite</a></li></ul></li></ol>
<ol><li><ul><li>dynaaminen IP osoite: käytä <a href="#DHCP">DHCP:tä</a>
</li></ul></li></ol>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Huomautus:</strong> Asennus kuva käyttää <a href="../en/Systemd-resolved.html" title="Systemd-resolved">systemd-resolved</a> sekä <a href="../en/Systemd-networkd.html" title="Systemd-networkd">systemd-networkd</a> taustaprosessia, joka on konfiguroitu DHCP ohjelmaa <a rel="nofollow" class="external text" href="https://gitlab.archlinux.org/archlinux/archiso/-/blob/master/configs/releng/airootfs/etc/systemd/network/20-ethernet.network">langallisille</a> ja <a rel="nofollow" class="external text" href="https://gitlab.archlinux.org/archlinux/archiso/-/blob/master/configs/releng/airootfs/etc/systemd/network/20-wireless.network">langattomille</a> verkko käyttöliittymille.</div>
<h3><span class="mw-headline" id="net-tools">net-tools</span></h3>
<p>Arch Linux on merkinnyt vanhentuneeksi <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=net-tools">net-tools</a></span> paketin korvatakseen sen <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iproute2">iproute2</a></span> paketilla.<a rel="nofollow" class="external autonumber" href="https://archlinux.org/news/deprecation-of-net-tools/">[2]</a>
</p>
<table class="wikitable">

<tbody>
<tr>
<th>Vanhentunut komento</th>
<th>Korvaava komento
</th>
</tr>
<tr>
<td>arp</td>
<td>ip neighbor
</td>
</tr>
<tr>
<td><a href="https://en.wikipedia.org/wiki/ifconfig" class="extiw" title="wikipedia:ifconfig">ifconfig</a></td>
<td>ip address, ip link
</td>
</tr>
<tr>
<td>netstat</td>
<td>
<a href="#Kannan_tutkiminen">ss</a>
</td>
</tr>
<tr>
<td>route</td>
<td>ip route
</td>
</tr>
</tbody>
</table>
<p>Laajemmalle selvitykselle asiasta, katso <a rel="nofollow" class="external text" href="https://dougvitale.wordpress.com/2011/12/21/deprecated-linux-networking-commands-and-their-replacements/">tämä blogi päivitys</a>.
</p>
<h3><span class="mw-headline" id="iproute2">iproute2</span></h3>
<p><a href="https://en.wikipedia.org/wiki/iproute2" class="extiw" title="wikipedia:iproute2">iproute2</a> on riippuvuutena <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=base">base</a></span> <a href="../en/Meta_package_and_package_group.html#Difference_between_meta_package_and_package_group" class="mw-redirect" title="Meta package">meta paketissa</a> ja antaa <span class="plainlinks archwiki-template-man" title="$ man 8 ip"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/ip.8">ip(8)</a></span> komentorivi käyttöliittymän, jolla hallitaan <a href="#Verkon_k%C3%A4ytt%C3%B6liittym%C3%A4t">verkon käyttöliittymiä</a>, <a href="#IP_osoitteet">IP osotteita</a> ja <a href="#Reititystaulu">polku taulun</a>. Ole tietoinen kumminkin siitä, ettei <code>ip</code> säilytä asetuksia uudelleen käynnistyksessä. Konfiguroimiseen voidaan käyttää <a href="../en/Network_configuration.html#Network_managers" class="mw-redirect" title="Network manager">verkon hallintajärjestelmää</a> tai voidaan automatisoida <i>ip</i> komentoja käyttämällä skriptejä ja <a href="../fi/Systemd.html#Yksikk%C3%B6tiedostojen_kirjoittaminen" title="Systemd (Suomi)">systemd yksiköillä</a>. Huomioi myös, että <code>ip</code> komennot voidaan yleensä lyhentää. Selkeyden vuoksi ne kumminkin tässä artikkelissa ovat pidemmässä muodossa. 
</p>
<h3>
<span id="Verkon_k.C3.A4ytt.C3.B6liittym.C3.A4t"></span><span class="mw-headline" id="Verkon_käyttöliittymät">Verkon käyttöliittymät</span>
</h3>
<p>Oletukselta <a href="../en/Udev.html" title="Udev">udev</a> antaa nimiä verkon käyttöliittymille käyttäen <a rel="nofollow" class="external text" href="https://www.freedesktop.org/wiki/Software/systemd/PredictableNetworkInterfaceNames">Ennalta arvattavia verkko käyttölliittymien nimiä</a>, joka antaa käyttöliittymien nimille etuliitteen <code>en</code> (wired/<a href="https://en.wikipedia.org/wiki/Ethernet" class="extiw" title="wikipedia:Ethernet">Ethernet</a>), <code>wl</code> (wireless/WLAN), tai <code>ww</code> (<a href="https://en.wikipedia.org/wiki/Wireless_WAN" class="extiw" title="wikipedia:Wireless WAN">WWAN</a>).
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Vinkki:</strong> Jos haluat vaihtaa itse käyttöliittymän nimen, katso <a href="#Vaihda_k%C3%A4ytt%C3%B6liittym%C3%A4n_nime%C3%A4">#Vaihda käyttöliittymän nimeä</a> ja <a href="#Palauta_perinteisiin_k%C3%A4ytt%C3%B6liittym%C3%A4n_nimiin">#Palauta perinteisiin käyttöliittymän nimiin</a>.</div>
<h4>
<span id="Verkon_k.C3.A4ytt.C3.B6liittymien_listaus"></span><span class="mw-headline" id="Verkon_käyttöliittymien_listaus">Verkon käyttöliittymien listaus</span>
</h4>
<p>Langalliset ja langattomat käyttöliittymänimet saa listattua komennolla <code>ls /sys/class/net</code> tai komennolla <code>ip link</code>. Huomioi että <code>lo</code> on <a href="https://en.wikipedia.org/wiki/loop_device" class="extiw" title="wikipedia:loop device">rengas laite</a> ja sitä ei todellisuudessa käytetä yhteyksien muodostamiseen.
</p>
<p>Langattomat laitenimet voidaan myös hakea käyttämällä <code>iw dev</code>. Katso myös <a href="../en/Network_configuration/Wireless.html#Get_the_name_of_the_interface" title="Network configuration/Wireless">Network configuration/Wireless#Get the name of the interface</a>.
</p>
<p>Jos sinun verkonkäyttöliittymää ei ole listalla varmista, että laitteen ajuri latautui onnistuneesti. Katso <a href="../en/Network_configuration/Ethernet.html#Device_driver" title="Network configuration/Ethernet">Network configuration/Ethernet#Device driver</a> tai <a href="../en/Network_configuration/Wireless.html#Device_driver" title="Network configuration/Wireless">Network configuration/Wireless#Device driver</a>.
</p>
<h4>
<span id="Verkkok.C3.A4ytt.C3.B6liittymien_aktivointi_ja_k.C3.A4yt.C3.B6st.C3.A4_poistaminen"></span><span class="mw-headline" id="Verkkokäyttöliittymien_aktivointi_ja_käytöstä_poistaminen">Verkkokäyttöliittymien aktivointi ja käytöstä poistaminen</span>
</h4>
<p>Verkkokäyttöliittymät voidaan ottaa pois käytöstä tai laittaa takaisin käyttöön komennolla <code>ip link set <i>käyttöliittymä</i> up|down</code>, katso <span class="plainlinks archwiki-template-man" title="$ man 8 ip-link"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/ip-link.8">ip-link(8)</a></span>.
</p>
<p>Tarkistaaksesi käyttöliittymän status <code>eth0</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ ip link show dev eth0</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast master br0 state DOWN mode DEFAULT qlen 1000
...
</pre>
<p><code>UP</code> kohdassa <code>&lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt;</code> indikoi käyttöliittymän toiminnasta, ei tuo myöhempi ilmenevistä <code>state DOWN</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Huomautus:</strong> Jos oletus reitti on käyttöliittymän <code>eth0</code> kautta, sen alasottaminen poistaa myös reitin ja sen tuominen takaisin ylös ei automaattisesti luo uudelleen oletus reittiä. Katso <a href="#Reititystaulu">#Reititystaulu</a> sen uudelleen luonnille.</div>
<h3><span class="mw-headline" id="Staattinen_IP_osoite">Staattinen IP osoite</span></h3>
<p>Staattinen IP osoite voidaan konfiguroida kaikkein tavallisimmilla <a href="#Verkonhallintaj%C3%A4rjestelm%C3%A4t">verkonhallintajärjestelmillä</a> ja myös <a href="../en/Dhcpcd.html" title="Dhcpcd">dhcpcd</a>:n avulla.
</p>
<p>Staattisen IP osoitteen konfiguroimiseen manuaalisesti, lisää IP osoite kuten kuvattu <a href="#IP_osoitteet">#IP osoitteet</a> kohdassa, pohjusta <a href="#Reititystaulu">reititystaulu</a> ja <a href="../en/Domain_name_resolution.html" title="Domain name resolution">konfiguroi DNS palvelimet</a>.
</p>
<h3><span class="mw-headline" id="IP_osoitteet">IP osoitteet</span></h3>
<p><a href="https://en.wikipedia.org/wiki/IP_address" class="extiw" title="wikipedia:IP address">IP osoitteita</a> hallitaan käyttämällä komentoa <span class="plainlinks archwiki-template-man" title="$ man 8 ip-address"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/ip-address.8">ip-address(8)</a></span>.
</p>
<p>Listaa IP osoitteet:
</p>
<pre>$ ip address show
</pre>
<p>Lisää IP osoite käyttöliittymään:
</p>
<pre># ip address add <i>osoite/prefix_len</i> broadcast + dev <i>käyttöliittymä</i>
</pre>
<dl><dd>Huomioi että:</dd></dl>
<dl><dd><ul>
<li>osoite annetaan <a href="https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing#CIDR_notation" class="extiw" title="wikipedia:Classless Inter-Domain Routing">CIDR notaationa</a> täydentämään <a href="https://en.wikipedia.org/wiki/Subnetwork" class="extiw" title="wikipedia:Subnetwork">aliverkonpeitettä</a>
</li>
<li>
<code>+</code> on erikoismerkki joka pakottaa <code>ip</code>:n päättelemään aliverkonpeitteen <a href="https://en.wikipedia.org/wiki/Broadcast_address" class="extiw" title="wikipedia:Broadcast address">lähettävän osoitteen</a> IP osoitteesta.</li>
</ul></dd></dl>
<dl><dd><div class="archwiki-template-box archwiki-template-box-note">
<strong>Huomautus:</strong> Varmista että manuaalisesti annetut IP osoitteet eivät ole ristiriidassa DHCP:llä annetujen osoitteiden kanssa.</div></dd></dl>
<p>Poista IP osoite käyttöliittymästä:
</p>
<pre># ip address del <i>osoite/prefix_len</i> dev <i>käyttöliittymä</i>
</pre>
<p>Poista kaikki osoitteet jotka vastaavat kriteerejä, eli jostain erityisestä käyttöliittymästä:
</p>
<pre># ip address flush dev <i>käyttöliittymä</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Vinkki:</strong> IP osoitteet voidaan laskea <a rel="nofollow" class="external text" href="http://jodies.de/ipcalc">ipcalc:in avulla</a> (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ipcalc">ipcalc</a></span>).</div>
<h3><span class="mw-headline" id="Reititystaulu">Reititystaulu</span></h3>
<p><a href="https://en.wikipedia.org/wiki/Routing_table" class="extiw" title="wikipedia:Routing table">reititystaulua</a> käytetään määrittämään jos yhteys IP osoitteeseen suoraan on saatavissa tai mitä yhdyskäytävää (reititin) tulisi käyttää. Jos mikään muu reitti ei täsmää IP osoitetta, <a href="https://en.wikipedia.org/wiki/Default_gateway" class="extiw" title="wikipedia:Default gateway">oletus yhdyskäytävää</a> käytetään.
</p>
<p>Reititystaulua hallitaan komennolla <span class="plainlinks archwiki-template-man" title="$ man 8 ip-route"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/ip-route.8">ip-route(8)</a></span>.
</p>
<p><i>PREFIX</i> on joko CIDR notaatio tai <code>default</code> oletus yhdyskäytävälle.
</p>
<p>Listaa IPv4 reitit:
</p>
<pre>$ ip route show
</pre>
<p>Listaa IPv6 reitit:
</p>
<pre>$ ip -6 route
</pre>
<p>Lisää reitti:
</p>
<pre># ip route add <i>PREFIX</i> via <i>osoite</i> dev <i>käyttöliittymä</i>
</pre>
<p>Poista reitti:
</p>
<pre># ip route del <i>PREFIX</i> via <i>osoite</i> dev <i>käyttöliittymä</i>
</pre>
<h3><span class="mw-headline" id="DHCP">DHCP</span></h3>
<p><a href="https://en.wikipedia.org/wiki/Dynamic_Host_Configuration_Protocol" class="extiw" title="wikipedia:Dynamic Host Configuration Protocol">DHCP</a> (lyhenne sanoista Dynamic Host Configuration Protocol) palvelin antaa asiakasohjelmalle dynaamisen IP osoitteen, aliverkkopeitteen, oletus yhdyskäytävän IP osoitteen ja mahdollisesti myös DNS nimi palvelimen.
</p>
<p>DHCP käyttöä varten tarvitaan DHCP palvelin sisäisestä verkosta ja DHCP asiakasohjelma:
</p>
<table class="wikitable">
<tbody>
<tr>
<th>Asiakasohjelma</th>
<th>Paketti</th>
<th><a href="../en/Archiso.html" title="Archiso">Archiso</a></th>
<th>Huomioitavaa</th>
<th>Systemd yksiköt
</th>
</tr>
<tr>
<td><a href="../en/Dhcpcd.html" title="Dhcpcd">dhcpcd</a></td>
<td><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dhcpcd">dhcpcd</a></span></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Kyllä</td>
<td>DHCP, DHCPv6, ZeroConf, static IP</td>
<td>
<code>dhcpcd.service</code>, <code>dhcpcd@<i>käyttäjäliittymä</i>.service</code>
</td>
</tr>
<tr>
<td><a rel="nofollow" class="external text" href="https://www.isc.org/downloads/dhcp/">ISC dhclient</a></td>
<td><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dhclient">dhclient</a></span></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Kyllä</td>
<td>DHCP, DHCPv6, BOOTP, static IP</td>
<td>
<code>dhclient@<i>käyttäjäliittymä</i>.service</code>
</td>
</tr>
</tbody>
</table>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Huomautus:</strong> 
<ul>
<li>Kahta DHCP asiakasohjelmaa ei pitäisi käyttää samanaikaisesti.</li>
<li>Erillisen DHCP asiakasohjelman sijasta voi myös käyttää <a href="#Verkonhallintaj%C3%A4rjestelm%C3%A4t">verkonhallintajärjestelmää</a>, joista osalla on sisäänrakennettu DHCP asiakasohjelma.</li>
<li>Vaihtoehtoisesti, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iwd">iwd</a></span> sisältää sisäänrakennetun DHCP asiakasohjelman, jota voidaan käyttää joissakin konfiguraatioissa: <a href="../en/Iwd.html#Enable_built-in_network_configuration" title="Iwd">iwd#Enable built-in network configuration</a>.</li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Vinkki:</strong> 
<ul>
<li>Voit tarkistaa mikäli DHCP palvelin on käynnissä paketilla <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dhcping">dhcping</a></span>.</li>
<li>Kun IP:n muodostaminen on vielä prosessissa, jotain samanlaista voi suorittaa <code>watch -n 1 ping -c 1 archlinux.org</code>.</li>
</ul>
</div>
<h4><span class="mw-headline" id="Palvelimet">Palvelimet</span></h4>
<table class="wikitable">
<tbody>
<tr>
<th>Palvelin</th>
<th>Paketti</th>
<th>IPv4</th>
<th>IPv6</th>
<th>GUI</th>
<th>Käyttäjäliittymät</th>
<th>Varaston takapää(t)</th>
<th>Huomioitavaa
</th>
</tr>
<tr>
<td><a href="../fi/Dhcpd.html" title="Dhcpd (Suomi)">dhcpd</a></td>
<td><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dhcp">dhcp</a></span></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Kyllä</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Kyllä</td>
<td><a rel="nofollow" class="external text" href="https://github.com/Akkadius/glass-isc-dhcp">Glass-ISC-DHCP</a></td>
<td>?</td>
<td>Tiedosto</td>
<td>
</td>
</tr>
<tr>
<td><a href="../en/Dnsmasq.html" title="Dnsmasq">dnsmasq</a></td>
<td><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dnsmasq">dnsmasq</a></span></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Kyllä</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Kyllä</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Ei</td>
<td>?</td>
<td>Tiedosto</td>
<td>Myös DNS, PXE ja TFTP
</td>
</tr>
<tr>
<td><a href="../en/Kea.html" title="Kea">Kea</a></td>
<td><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=kea">kea</a></span></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Kyllä</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Kyllä</td>
<td><a rel="nofollow" class="external text" href="https://github.com/isc-projects/kea-anterius">Kea-Anterius (Kokeellinen)</a></td>
<td>REST, RADIUS ja NETCONF</td>
<td>Tiedosto, MySQL, PostgreSQL ja Cassandra</td>
<td>Myös DNS
</td>
</tr>
</tbody>
</table>
<h3>
<span id="Verkonhallintaj.C3.A4rjestelm.C3.A4t"></span><span class="mw-headline" id="Verkonhallintajärjestelmät">Verkonhallintajärjestelmät</span>
</h3>
<p>Verkonhallintajärjestelmä mahdollistaa verkkoyhteyksien asetusten hallinnan niin sanotuissa verkkoprofiileissa helpottaakseen verkkojen vaihtelua.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Huomautus:</strong> Vaihtoehtoja on monia, mutta muista että jokainen on molemmin puoli pois sulkeva; kahta taustaprosessia ei saa suorittaa samaan aikaan.</div>
<table class="wikitable">
<tbody>
<tr>
<th>Verkonhallintajärjestelmä</th>
<th>GUI</th>
<th>
<a href="../en/Archiso.html" title="Archiso">Archiso</a> <a rel="nofollow" class="external autonumber" href="https://gitlab.archlinux.org/archlinux/archiso/-/blob/master/configs/releng/packages.x86_64">[3]</a>
</th>
<th>CLI työkalut</th>
<th>
<a href="https://en.wikipedia.org/wiki/Point-to-Point_Protocol" class="extiw" title="wikipedia:Point-to-Point Protocol">PPP</a> tuki <br>(esim 3G modeemi)</th>
<th><a href="#DHCP">DHCP asiakasohjelma</a></th>
<th>Systemd yksiköt
</th>
</tr>
<tr>
<th>
<a href="../en/ConnMan.html" title="ConnMan">ConnMan</a>
</th>
<td data-sort-value="3" style="background: #ffa; color: inherit; vertical-align: middle; text-align: center;">8 epävirallinen</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Ei</td>
<td><span class="plainlinks archwiki-template-man" title="$ man 1 connmanctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/connmanctl.1">connmanctl(1)</a></span></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Kyllä (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ofono/">ofono</a></span><sup><small>AUR</small></sup> kanssa)</td>
<td>sisäinen</td>
<td>
<code>connman.service</code>
</td>
</tr>
<tr>
<th>
<a href="../en/Netctl.html" title="Netctl">netctl</a>
</th>
<td data-sort-value="3" style="background: #ffa; color: inherit; vertical-align: middle; text-align: center;">2 epävirallinen</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Ei</td>
<td>
<span class="plainlinks archwiki-template-man" title="$ man 1 netctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/netctl.1">netctl(1)</a></span>, wifi-menu</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Kyllä</td>
<td>
<a href="../en/Dhcpcd.html" title="Dhcpcd">dhcpcd</a> tai <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dhclient">dhclient</a></span>
</td>
<td>
<code>netctl-ifplugd@<i>interface</i>.service</code>, <code>netctl-auto@<i>interface</i>.service</code>
</td>
</tr>
<tr>
<th>
<a href="../en/NetworkManager.html" title="NetworkManager">NetworkManager</a>
</th>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Kyllä</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Ei</td>
<td>
<span class="plainlinks archwiki-template-man" title="$ man 1 nmcli"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/nmcli.1">nmcli(1)</a></span>, <span class="plainlinks archwiki-template-man" title="$ man 1 nmtui"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/nmtui.1">nmtui(1)</a></span>
</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Kyllä</td>
<td>sisäinen tai <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dhclient">dhclient</a></span>
</td>
<td>
<code>NetworkManager.service</code>
</td>
</tr>
<tr>
<th>
<a href="../en/Systemd-networkd.html" title="Systemd-networkd">systemd-networkd</a>
</th>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Ei</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Kyllä (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=base">base</a></span>)</td>
<td><span class="plainlinks archwiki-template-man" title="$ man 1 networkctl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/networkctl.1">networkctl(1)</a></span></td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;"><a rel="nofollow" class="external text" href="https://github.com/systemd/systemd/issues/481">Ei</a></td>
<td>sisäinen</td>
<td>
<code>systemd-networkd.service</code>, <code>systemd-resolved.service</code>
</td>
</tr>
<tr>
<th>
<a href="../en/Wicd.html" title="Wicd">Wicd</a>
</th>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Kyllä</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Ei</td>
<td>
<span class="plainlinks archwiki-template-man" title="$ man 8 wicd-cli"><a rel="nofollow" class="external text" href="https://manned.org/wicd-cli.8">wicd-cli(8)</a></span>, <span class="plainlinks archwiki-template-man" title="$ man 8 wicd-curses"><a rel="nofollow" class="external text" href="https://manned.org/wicd-curses.8">wicd-curses(8)</a></span>
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">Ei</td>
<td>
<a href="../en/Dhcpcd.html" title="Dhcpcd">dhcpcd</a> tai <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dhclient">dhclient</a></span>
</td>
<td>
<code>wicd.service</code>
</td>
</tr>
</tbody>
</table>
<h2>
<span id="Aseta_is.C3.A4nt.C3.A4nimi"></span><span class="mw-headline" id="Aseta_isäntänimi">Aseta isäntänimi</span>
</h2>
<p><a href="https://en.wikipedia.org/wiki/Hostname" class="extiw" title="wikipedia:Hostname">Isäntänimi</a> on yksilöllinen nimi luotu tunnistamaan laite verkossa, joka on konfiguroitu tiedostossa <code>/etc/hostname</code>. katso <span class="plainlinks archwiki-template-man" title="$ man 5 hostname"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/hostname.5">hostname(5)</a></span> ja <span class="plainlinks archwiki-template-man" title="$ man 7 hostname"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/hostname.7">hostname(7)</a></span> yksityiskohdille. Tiedosto voi sisältää järjestelmän verkkotunnuksen, jos yhtään. Isäntänimen asettamiseksi, <a href="../en/Help:Reading.html#Append,_add,_create,_edit" class="mw-redirect" title="Textedit">muokkaa</a> <code>/etc/hostname</code> sisältääksesi yhden rivin <code><i>isäntänimeni</i></code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/hostname</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"><i>isäntänimeni</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Vinkki:</strong> Isäntänimen valitsemiselle, katso <a rel="nofollow" class="external text" href="https://tools.ietf.org/html/rfc1178">RFC 1178</a>.</div>
<p>Vaihtoehtoisesti käyttäen <span class="plainlinks archwiki-template-man" title="$ man 1 hostnamectl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/hostnamectl.1">hostnamectl(1)</a></span>:
</p>
<pre># hostnamectl set-hostname <i>isäntänimeni</i>
</pre>
<p>Väliaikaisesti asettaaksesi isäntänimen (uudelleen käynnistykseen saakka), käytä <span class="plainlinks archwiki-template-man" title="$ man 1 hostname"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/hostname.1">hostname(1)</a></span> paketista <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=inetutils">inetutils</a></span>:
</p>
<pre># hostname <i>isäntänimeni</i>
</pre>
<p>Laittaaksesi "sievän" isäntänimen ja muuta koneen metadataa, katso <span class="plainlinks archwiki-template-man" title="$ man 5 machine-info"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/machine-info.5">machine-info(5)</a></span>.
</p>
<h3>
<span id="Paikallinen_is.C3.A4nt.C3.A4nimen_resoluutio"></span><span class="mw-headline" id="Paikallinen_isäntänimen_resoluutio">Paikallinen isäntänimen resoluutio</span>
</h3>
<p><code>myhostname</code> <a href="../en/Domain_name_resolution.html#Name_Service_Switch" class="mw-redirect" title="Name Service Switch">Name Service Switch</a> (NSS) <a href="../fi/Systemd.html" title="Systemd (Suomi)">systemd</a> moduuli tarjoaa paikallisen isäntänimen resoluution ilman muokkausta tiedostossa <code>/etc/hosts</code> (<span class="plainlinks archwiki-template-man" title="$ man 5 hosts"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/hosts.5">hosts(5)</a></span>). Se on aktivoituna oletukselta.
</p>
<p>Jotkin asiakasohjelmat voivat kumminkin silti luottaa <code>/etc/hosts</code>, katso <a rel="nofollow" class="external autonumber" href="https://lists.debian.org/debian-devel/2013/07/msg00809.html">[4]</a> <a rel="nofollow" class="external autonumber" href="https://bugzilla.mozilla.org/show_bug.cgi?id=87717#c55">[5]</a> esimerkeille.
</p>
<p>Konfiguroidaksesi <i>hosts</i> tiedostoa, lisää seuraavat rivit <code>/etc/hosts</code>:
</p>
<pre>127.0.0.1        localhost
::1              localhost
127.0.1.1        <i>isäntänimeni</i>.localdomain        <i>isäntänimeni</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Huomautus:</strong> Isäntänimien/peitenimien järjestys joka seuraa IP osoitetta <code>/etc/hosts</code> on merkityksellinen. Ensimmäistä merkkijonoa pidetään canonical isäntänimenä ja listään isäntä domainilla, missä domaini komponentit erotellaan toisistaan pisteellä (eli <code>.localdomain</code> yllä). Kaikkia muita peitenimiä samalla rivillä pidetään peiteniminä (engl. alias). Katso <span class="plainlinks archwiki-template-man" title="$ man 5 hosts"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/hosts.5">hosts(5)</a></span> lisätiedolle.</div>
<p>Tämän seurauksena järjestelmä selvittää molempiin kirjauksiin: 
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ getent hosts</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">127.0.0.1       localhost
127.0.0.1       localhost
127.0.1.1       <i>isäntänimeni</i>.localdomain <i>isäntänimeni</i>
</pre>
<p>Pysyvällä IP osoitteella olevassa järjestelmässä tulisi käyttää tätä pysyvää IP osoitetta <code>127.0.1.1</code> sijasta.
</p>
<h3>
<span id="Paikallisen_verkon_is.C3.A4nt.C3.A4nimen_resoluutio"></span><span class="mw-headline" id="Paikallisen_verkon_isäntänimen_resoluutio">Paikallisen verkon isäntänimen resoluutio</span>
</h3>
<p>Liittääkseen kone LAN verkkoon isäntänimen kautta voidaan:
</p>
<ul>
<li>muokata <code>/etc/hosts</code> tiedostoa jokaiselle koneelle LAN verkossa, katso <span class="plainlinks archwiki-template-man" title="$ man 5 hosts"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/hosts.5">hosts(5)</a></span>
</li>
<li>asettaa <a href="../en/Category:Domain_Name_System.html" class="mw-redirect" title="DNS server">DNS palvelin</a> selvittämään isäntänimen ja pistämällä LAN laitteet käyttämään sitä (esimerkiksi <a href="#DHCP">#DHCP</a>:n kautta)</li>
<li>tai helpolla tavalla: käyttää <a href="https://en.wikipedia.org/wiki/Zero-configuration_networking" class="extiw" title="wikipedia:Zero-configuration networking">Zeroconf</a> palvelua:
<ul>
<li>Isäntänimen resoluutio Microsoftin <a href="https://en.wikipedia.org/wiki/NetBIOS#Name_service" class="extiw" title="wikipedia:NetBIOS">NetBIOS:sin</a> kautta. <a href="../en/Samba.html" title="Samba">Samba</a> Linuxissa hoitaa saman. Tämä tarvitsee vain <code>nmb.service</code>. Tietokoneet, joissa on Windows, macOS, tai Linux ja <code>nmb</code> pyörimässä, löytävät tämän koneen.</li>
<li>Isäntänimen resoluutio <a href="https://en.wikipedia.org/wiki/Multicast_DNS" class="extiw" title="wikipedia:Multicast DNS">mDNS:sän</a> kautta. Tulee joko <code>nss_mdns</code> <a href="../en/Avahi.html" title="Avahi">Avahi</a>:n kautta (katso <a href="../en/Avahi.html#Hostname_resolution" title="Avahi">Avahi#Hostname resolution</a> asetuksen varalta) tai <a href="../en/Systemd-resolved.html" title="Systemd-resolved">systemd-resolved</a>:in kautta. Tietokoneet, joissa on macOS tai Linux Avahi tai systemd-resolved pyörimässä, pystyvät löytämään tämän koneen. Vanhempi Win32 API ei tue mDNSää, joka voi estää pääsyn joiltain vanhoilta Windows ohjelmilta.</li>
</ul>
</li>
</ul>
<h2>
<span id="Vinkkej.C3.A4_ja_konsteja"></span><span class="mw-headline" id="Vinkkejä_ja_konsteja">Vinkkejä ja konsteja</span>
</h2>
<h3>
<span id="Vaihda_k.C3.A4ytt.C3.B6liittym.C3.A4n_nime.C3.A4"></span><span class="mw-headline" id="Vaihda_käyttöliittymän_nimeä">Vaihda käyttöliittymän nimeä</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Huomautus:</strong> Kun nimikaavaa muutetaan, pitää myös päivittää kaikki verkkoon liittyvät konfiguraatio tiedostot ja itsetehdyt systemd yksikkötiedostot vastaamaan muutosta.</div>
<p>Laitteen nimi voidaan vaihtaa määrittämällä sen nimi manuaalisesti udev-rule:n avulla. Esimerkiksi:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/10-network.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">SUBSYSTEM=="net", ACTION=="add", ATTR{address}=="aa:bb:cc:dd:ee:ff", NAME="net1"
SUBSYSTEM=="net", ACTION=="add", ATTR{address}=="ff:ee:dd:cc:bb:aa", NAME="net0"</pre>
<p>Nämä säännöt tulevat käyttöön automaattisesti bootatessa.
</p>
<p>Muutama huomioitava asia:
</p>
<ul>
<li>Jos halutaan esittää MAC osoite jokaisesta kortista, käytä tätä komentoa: <code>cat /sys/class/net/<i>laitteen_nimi</i>/address</code>
</li>
<li>Muista käyttää pieniä kirjaimia heksaluvussa udev säännöissä. Se ei pidä isoista kirjaimista.</li>
</ul>
<p>Jos verkkokortilla on dynaaminen MAC osoite, voidaan käyttää <code>DEVPATH</code> muuttujaa, esimerkiksi:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/10-network.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">SUBSYSTEM=="net", DEVPATH=="/devices/platform/wemac.*", NAME="int"
SUBSYSTEM=="net", DEVPATH=="/devices/pci*/*1c.0/*/net/*", NAME="en"</pre>
<pre><code>DEVPATH</code> kaikista sillä hetkellä liitetyistä korteista, katso mihin symlinks polussa <code>/sys/class/net/</code> johtaa. Esimerkiksi:
</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">file /sys/class/net/*</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/sys/class/net/enp0s20f0u4u1: symbolic link to ../../devices/pci0000:00/0000:00:14.0/usb2/2-4/2-4.1/2-4.1:1.0/net/enp0s20f0u4u1
/sys/class/net/enp0s31f6:     symbolic link to ../../devices/pci0000:00/0000:00:1f.6/net/enp0s31f6
/sys/class/net/lo:            symbolic link to ../../devices/virtual/net/lo
/sys/class/net/wlp4s0:        symbolic link to ../../devices/pci0000:00/0000:00:1c.6/0000:04:00.0/net/wlp4s0
</pre>
<p>Laitteen polun pitäisi vastata sekä uutta että vanhaa laitteen nimeä, sillä se sääntö voidaan suorittaa useammin kuin vain kerran bootatessa. Esimerkiksi, toisessa säännössä, <code>"/devices/pci*/*1c.0/*/net/enp*"</code> olisi väärin, koska se lopettaa hakemisen kun nimi on vaihdettu <code>en</code>. Vain järjestelmän oletus-sääntö pyörähtää toisen kerran, aiheuttaen nimen muutoksen takaisin kuten esimerkiksi <code>enp1s0</code>.
</p>
<p>Jos käytetään USB verkkolaitetta ( kuten Android puhelimen tethering), jolla on dynaaminen MAC osoite ja halutaan myös käyttää muita USB portteja, voitaisiin ennemmin käyttää sääntöä, joka vastaa riippuen tavarantoimittajasta tai tuotteen ID:stä:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/10-network.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">SUBSYSTEM=="net", ACTION=="add", ATTRS{idVendor}=="12ab", ATTRS{idProduct}=="3cd4", NAME="net2"</pre>
<p><a href="../en/Udev.html#Testing_rules_before_loading" title="Udev">Testatakseen</a> sääntöjä, ne voidaan käynnistää suoraan käyttäjätilasta, esimerkiksi  <code>udevadm --debug test /sys/class/net/*</code> avulla. Ensin pitää muistaa ottaa alas käyttöliittymä, jota ollaan nimeämässä (esim. <code>ip link set enp1s0 down</code>).
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Huomautus:</strong> Kun valitaan staattisia nimiä, <b>nimiä jotka vastaavat tyyliä "eth<i>X</i>" ja "wlan<i>X</i>" pitäisi välttää</b>, sillä tämä saattaa johtaa kilpailulliseen tilaan kernelin ja udevin välillä boottauksen aikana. Sen sijaan, on parempi käyttää käyttöliittymän nimiä, joita kerneli ei käytä oletukselta, esim.: <code>net0</code>, <code>net1</code>, <code>wifi0</code>, <code>wifi1</code>. Enemmän tietoa löytyy  <a rel="nofollow" class="external text" href="https://www.freedesktop.org/wiki/Software/systemd/PredictableNetworkInterfaceNames">systemd:n</a> dokumentaatiosta.</div>
<h3>
<span id="Palauta_perinteisiin_k.C3.A4ytt.C3.B6liittym.C3.A4n_nimiin"></span><span class="mw-headline" id="Palauta_perinteisiin_käyttöliittymän_nimiin">Palauta perinteisiin käyttöliittymän nimiin</span>
</h3>
<p>Jos perinteisemmät käyttöliittymänimet kuten eth0 ovat parempia omaan käyttöön, <a rel="nofollow" class="external text" href="https://www.freedesktop.org/wiki/Software/systemd/PredictableNetworkInterfaceNames">ennalta arvattavat nimet</a> voidaan poistaa käytöstä peittämällä udev sääntö:
</p>
<pre># ln -s /dev/null /etc/udev/rules.d/80-net-setup-link.rules
</pre>
<p>Vaihtoehtoisesti, lisää <code>net.ifnames=0</code> <a href="../en/Kernel_parameters.html" title="Kernel parameters">kernelin parametreihin</a>.
</p>
<h3><span class="mw-headline" id="Kannan_tutkiminen">Kannan tutkiminen</span></h3>
<p><i>ss</i> on työkalu verkkoporttien tutkimiseen ja on osana <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iproute2">iproute2</a></span> pakettia. Sillä on samallainen toiminnallisuus verraten <a rel="nofollow" class="external text" href="https://archlinux.org/news/deprecation-of-net-tools/">vanhentuneeseen</a> netstat työkaluun. 
</p>
<p>Yleisiä käyttökohteita ovat:
</p>
<p>Näytä kaikki TCP Kannat palvelunimillä:
</p>
<pre>$ ss -at
</pre>
<p>Näytä kaikki TCP Kannat porttien numeroilla:
</p>
<pre>$ ss -atn
</pre>
<p>Näytä kaikki UDP Kannat:
</p>
<pre>$ ss -au
</pre>
<p>Lisätietoa löytyy <span class="plainlinks archwiki-template-man" title="$ man 8 ss"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/ss.8">ss(8)</a></span> manuaalisivulta.
</p>
<h2>
<span id="Vianm.C3.A4.C3.A4ritys"></span><span class="mw-headline" id="Vianmääritys">Vianmääritys</span>
</h2>
<h2>
<span id="Katso_my.C3.B6s"></span><span class="mw-headline" id="Katso_myös">Katso myös</span>
</h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://www.tldp.org/LDP/nag2/index.html">Linuxin verkon ylläpitäjän käsikirja</a></li>
<li><a rel="nofollow" class="external text" href="https://www.debian.org/doc/manuals/debian-reference/ch05.en.html">Debian referenssi: Verkon pohjustus</a></li>
<li><a rel="nofollow" class="external text" href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Networking_Guide/">RHEL7: Verkkotyöskentelyn käsikirja</a></li>
<li><a rel="nofollow" class="external text" href="http://www.linuxhomenetworking.com/wiki/">Linux kodin verkkotyöskentely</a></li>
<li><a rel="nofollow" class="external text" href="https://blog.packagecloud.io/eng/2016/06/22/monitoring-tuning-linux-networking-stack-receiving-data/">Linux verkkotyöskentely pinon valvominen ja säätö: Datan vastaanottaminen</a></li>
<li><a rel="nofollow" class="external text" href="https://blog.packagecloud.io/eng/2017/02/06/monitoring-tuning-linux-networking-stack-sending-data/">Linux verkkotyöskentely pinon valvominen ja säätö: Datan lähettäminen</a></li>
<li><a rel="nofollow" class="external text" href="http://blog.yadutaf.fr/2017/07/28/tracing-a-packet-journey-using-linux-tracepoints-perf-ebpf/">Paketin matkan jäljittäminen käyttäen tracepointteja, perf ja eBPF</a></li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../fi/Category:Network_configuration.html" title="Category:Network configuration (Suomi)">Network configuration (Suomi)</a></li></ul>
</div></div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Network_configuration_(Suomi)&amp;oldid=646951">https://wiki.archlinux.org/index.php?title=Network_configuration_(Suomi)&amp;oldid=646951</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 26 December 2020, at 12:18.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
