<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>pacman (Suomi) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Pacman_Suomi rootpage-Pacman_Suomi skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">pacman (Suomi)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<p><span></span>
</p>
<div class="archwiki-template-meta-related-articles-start">
<p>Aiheeseen liittyen</p>
<ul>
<li><a href="../en/Creating_packages.html" title="Creating packages">Creating packages</a></li>
<li><a href="../en/Downgrading_packages.html" title="Downgrading packages">Downgrading packages</a></li>
<li><a href="../en/Pacman/Package_signing.html" title="Pacman/Package signing">pacman/Package signing</a></li>
<li><a href="../en/Pacman/Pacnew_and_Pacsave.html" title="Pacman/Pacnew and Pacsave">pacman/Pacnew and Pacsave</a></li>
<li><a href="../en/Pacman/Restore_local_database.html" title="Pacman/Restore local database">pacman/Restore local database</a></li>
<li><a href="../fi/Pacman_(Suomi)/Rosetta.html" title="Pacman (Suomi)/Rosetta (Suomi)">pacman (Suomi)/Rosetta (Suomi)</a></li>
<li><a href="../en/Pacman/Tips_and_tricks.html" title="Pacman/Tips and tricks">pacman/Tips and tricks</a></li>
<li><a href="../fi/Frequently_asked_questions.html#Paketinhallinta" class="mw-redirect" title="FAQ (Suomi)">FAQ (Suomi)#Paketinhallinta</a></li>
<li><a href="../en/System_maintenance.html" title="System maintenance">System maintenance</a></li>
<li><a href="../en/Arch_Build_System.html" title="Arch Build System">Arch Build System</a></li>
<li><a href="../en/Official_repositories.html" title="Official repositories">Official repositories</a></li>
<li><a href="../en/Arch_User_Repository.html" title="Arch User Repository">Arch User Repository</a></li>
</ul>
</div>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a><b>Tämä artikkeli tai osa vaatii <a href="../en/ArchWiki:Contributing.html#Translating" title="ArchWiki:Contributing">Suomennosta</a>.</b><a href="../File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Huomioita:</b> Osa alaotsikoista on vielä tyhjinä - vaatii täydennystä. (Keskustele asiasta <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Pacman_(Suomi)">Talk:Pacman (Suomi)#</a>)</div>
</div>
<p><a rel="nofollow" class="external text" href="https://archlinux.org/pacman/">Pacman</a>-<a href="https://en.wikipedia.org/wiki/Package_manager" class="extiw" title="wikipedia:Package manager">paketinhallintajärjestelmä</a> on yksi tunnusosaisimmista ominaisuuksista Arch Linuxissa. Se yhdistää yksinkertaisen binääripakettiformaatin ja helppokäyttöisen <a href="../en/Arch_Build_System.html" title="Arch Build System">koontijärjestelmän</a>. Tavoitteena <i>pacman</i> paketinhallintajärjestelmällä on tehdä mahdolliseksi pakettien helppo hallinta, olivat ne sitten <a href="../en/Official_repositories.html" title="Official repositories">virallisista pakettivarastoista</a> tai käyttäjän omista koonneista.
</p>
<p><i>Pacman</i> pitää järjestelmän ajan tasalla synkronisoimalla pakettilistoja isäntä palvelimen kanssa. Tämä palvelin/asiakasohjelma malli antaa myös mahdollisuuden käyttäjälle ladata/asentaa paketteja yksinkertaisella komennolla, jotka tulevat sitten kaikkien tarvittavien riippuvuuksien kanssa kokonaisuutena.
</p>
<p><i>Pacman</i> on kirjoitettu <a href="../en/C.html" title="C">C</a>-ohjelmointikielellä ja käyttää <span class="plainlinks archwiki-template-man" title="$ man 1 bsdtar"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/bsdtar.1">bsdtar(1)</a></span> <a href="https://en.wikipedia.org/wiki/fi:tar_(Unix)" class="extiw" title="wikipedia:fi:tar (Unix)">tar</a> formaattia paketeissa.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Vinkki:</strong> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pacman">pacman</a></span> paketti sisältää työkalut kuten <a href="../en/Makepkg.html" title="Makepkg">makepkg</a> ja <span class="plainlinks archwiki-template-man" title="$ man 8 vercmp"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/vercmp.8">vercmp(8)</a></span>. Muut käytännölliset työkalut kuten <a href="#Pactree">pactree</a> ja <a href="../en/System_maintenance.html#Partial_upgrades_are_unsupported" class="mw-redirect" title="Checkupdates">checkupdates</a> löytyy <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pacman-contrib">pacman-contrib</a></span> paketista (<a rel="nofollow" class="external text" href="https://git.archlinux.org/pacman.git/commit/?id=0c99eabd50752310f42ec808c8734a338122ec86">ennen</a> osana pacmania). Suorita <code>pacman -Ql pacman pacman-contrib | grep -E 'bin/.+'</code> täydelle listalle.</div>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#K%C3%A4ytt%C3%B6"><span class="tocnumber">1</span> <span class="toctext">Käyttö</span></a>
<ul>
<li class="toclevel-2 tocsection-2">
<a href="#Pakettien_asennus"><span class="tocnumber">1.1</span> <span class="toctext">Pakettien asennus</span></a>
<ul>
<li class="toclevel-3 tocsection-3">
<a href="#Tiettyjen_pakettien_asentaminen"><span class="tocnumber">1.1.1</span> <span class="toctext">Tiettyjen pakettien asentaminen</span></a>
<ul>
<li class="toclevel-4 tocsection-4"><a href="#Virtuaaliset_paketit"><span class="tocnumber">1.1.1.1</span> <span class="toctext">Virtuaaliset paketit</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-5"><a href="#Pakettiryhmien_asentaminen"><span class="tocnumber">1.1.2</span> <span class="toctext">Pakettiryhmien asentaminen</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-6"><a href="#Pakettien_poistaminen"><span class="tocnumber">1.2</span> <span class="toctext">Pakettien poistaminen</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Pakettien_p%C3%A4ivitys"><span class="tocnumber">1.3</span> <span class="toctext">Pakettien päivitys</span></a></li>
<li class="toclevel-2 tocsection-8">
<a href="#Kysely_pakettitietokannassa"><span class="tocnumber">1.4</span> <span class="toctext">Kysely pakettitietokannassa</span></a>
<ul>
<li class="toclevel-3 tocsection-9"><a href="#Pactree"><span class="tocnumber">1.4.1</span> <span class="toctext">Pactree</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="#Tietokannan_rakenne"><span class="tocnumber">1.4.2</span> <span class="toctext">Tietokannan rakenne</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-11"><a href="#Pakettien_k%C3%A4tk%C3%B6muistin_putsaaminen"><span class="tocnumber">1.5</span> <span class="toctext">Pakettien kätkömuistin putsaaminen</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Muita_komentoja"><span class="tocnumber">1.6</span> <span class="toctext">Muita komentoja</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Asennuksen_syy"><span class="tocnumber">1.7</span> <span class="toctext">Asennuksen syy</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Etsi_pakettia_joka_sis%C3%A4lt%C3%A4%C3%A4_tietyn_tiedoston"><span class="tocnumber">1.8</span> <span class="toctext">Etsi pakettia joka sisältää tietyn tiedoston</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-15">
<a href="#Konfiguraatio"><span class="tocnumber">2</span> <span class="toctext">Konfiguraatio</span></a>
<ul>
<li class="toclevel-2 tocsection-16">
<a href="#Yleiset_asetukset"><span class="tocnumber">2.1</span> <span class="toctext">Yleiset asetukset</span></a>
<ul>
<li class="toclevel-3 tocsection-17"><a href="#Versioiden_vertaaminen_ennen_p%C3%A4ivityst%C3%A4"><span class="tocnumber">2.1.1</span> <span class="toctext">Versioiden vertaaminen ennen päivitystä</span></a></li>
<li class="toclevel-3 tocsection-18"><a href="#Ohita_paketin_p%C3%A4ivitt%C3%A4minen"><span class="tocnumber">2.1.2</span> <span class="toctext">Ohita paketin päivittäminen</span></a></li>
<li class="toclevel-3 tocsection-19"><a href="#Ohita_pakettiryhm%C3%A4_p%C3%A4ivityksess%C3%A4"><span class="tocnumber">2.1.3</span> <span class="toctext">Ohita pakettiryhmä päivityksessä</span></a></li>
<li class="toclevel-3 tocsection-20"><a href="#Ohita_tiedostojen_p%C3%A4ivitt%C3%A4minen"><span class="tocnumber">2.1.4</span> <span class="toctext">Ohita tiedostojen päivittäminen</span></a></li>
<li class="toclevel-3 tocsection-21"><a href="#Ohita_tiedostoja_asennuksessa"><span class="tocnumber">2.1.5</span> <span class="toctext">Ohita tiedostoja asennuksessa</span></a></li>
<li class="toclevel-3 tocsection-22"><a href="#Yll%C3%A4pid%C3%A4_useita_konfiguraatio_tiedostoja"><span class="tocnumber">2.1.6</span> <span class="toctext">Ylläpidä useita konfiguraatio tiedostoja</span></a></li>
<li class="toclevel-3 tocsection-23"><a href="#Hookit"><span class="tocnumber">2.1.7</span> <span class="toctext">Hookit</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-24">
<a href="#Pakettivarastot_ja_peilit"><span class="tocnumber">2.2</span> <span class="toctext">Pakettivarastot ja peilit</span></a>
<ul>
<li class="toclevel-3 tocsection-25"><a href="#Paketin_turvallisuus"><span class="tocnumber">2.2.1</span> <span class="toctext">Paketin turvallisuus</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-26">
<a href="#Vianm%C3%A4%C3%A4ritys"><span class="tocnumber">3</span> <span class="toctext">Vianmääritys</span></a>
<ul>
<li class="toclevel-2 tocsection-27"><a href="#%22Failed_to_commit_transaction_(invalid_or_corrupted_package)%22_virheilmoitus"><span class="tocnumber">3.1</span> <span class="toctext">"Failed to commit transaction (invalid or corrupted package)" virheilmoitus</span></a></li>
<li class="toclevel-2 tocsection-28"><a href="#Paketteja_ei_voida_hakea_asennuksessa"><span class="tocnumber">3.2</span> <span class="toctext">Paketteja ei voida hakea asennuksessa</span></a></li>
<li class="toclevel-2 tocsection-29"><a href="#Signature_from_%22K%C3%A4ytt%C3%A4j%C3%A4_&lt;email@esimerkki.org&gt;%22_is_unknown_trust,_installation_failed"><span class="tocnumber">3.3</span> <span class="toctext">Signature from "Käyttäjä &lt;email@esimerkki.org&gt;" is unknown trust, installation failed</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-30"><a href="#Katso_my%C3%B6s"><span class="tocnumber">4</span> <span class="toctext">Katso myös</span></a></li>
</ul>
</div>

<h2>
<span id="K.C3.A4ytt.C3.B6"></span><span class="mw-headline" id="Käyttö">Käyttö</span>
</h2>
<p>Seuraavat mallit ovat vain osa asioista, mitä <i>pacman</i> voi tehdä ja suorittaa. Enemmän esimerkkejä löytyy <span class="plainlinks archwiki-template-man" title="$ man 8 pacman"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/pacman.8">pacman(8)</a></span> manuaalista.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Vinkki:</strong> Niille joilla on aiempaa kokemusta muista Linux distribuutioista, on olemassa hyödyllinen <a href="../fi/Pacman_(Suomi)/Rosetta.html" title="Pacman (Suomi)/Rosetta (Suomi)">Pacman Rosetta</a> artikkeli.</div>
<h3><span class="mw-headline" id="Pakettien_asennus">Pakettien asennus</span></h3>
<p>Paketti on arkisto sisältäen:
</p>
<ul>
<li>kaikki (käännetyt) tiedostot sovelluksesta</li>
<li>metadataa liittyen sovellukseen, kuten sovelluksen nimi, versio, riippuvuudet, ...</li>
<li>asennus tiedostot ja toimintaohjeet pacmanille</li>
<li>(vaihtoehtoisesti) lisätiedostoja elämän helpottamiseksi, kuten käynnistys/pysäytys skripti</li>
</ul>
<p>Archin paketinhallintajärjestelmä pacman voi asentaa, päivittää, ja poistaa niitä paketteja. Pakettien käyttö ohjelmien kääntämisen ja asentamisen sijaan tuo paljon etuja:
</p>
<ul>
<li>helposti päivitettävä: pacman päivittää olemassa olevat paketit niin pian kuin päivityksiä ona vain saatavilla</li>
<li>riippuvuuksien tarkistelu: pacman käsittelee riippuvuudet käyttäjän puolesta, täytyy vain tarkentaa ohjelma ja pacman asentaa sen kaikkien muiden tarvittavien ohjelmien kanssa</li>
<li>puhdas poistaminen: pacmanilla on lista jokaisesta tiedostosta paketissa; tällä tapaa, yhtäkään tiedostoa ei jätetä vahingossakaan järjestelmään kun päätetään poistaa jokin ohjelma.</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Huomautus:</strong> 
<ul>
<li>Paketeilla on usein <a href="../en/PKGBUILD.html#optdepends" title="PKGBUILD">vaihtoehtoisia riippuvuuksia</a>, jotka ovat paketteja tuomassa lisätoiminnallisuutta sovellukseen, mutta näitä ei varsinaisesti tarvita ohjelman toimimiseen. Kun pakettia asennetaan, <i>pacman</i> listaa paketin vaihtoehtoiset riippuvuudet, mutta ne eivät löydyt <code>pacman.log</code> tiedostosta. Käytä <a href="#Kysely_pakettitietokannassa">#Kysely pakettitietokannassa</a> komentoja näyttääksesi vaihtoehtoisia riippuvuuksia paketista.</li>
<li>Kun asennetaan paketti, joka tarvitaan vain vaihtoehtoisena riippuvuutena johonkin muuhun pakettiin (eli toisin sanoen ei tarvita muutoin erityisesti), kehotetaan käyttämään <code>--asdeps</code> merkintää. Lisätiedolle, katso <a href="#Asennuksen_syy">#Asennuksen syy</a> kohta.</li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Varoitus:</strong> Kun paketteja asennetaan Archissa, vältä listan päivittämistä ilman <a href="#Pakettien_p%C3%A4ivitys">järjestelmän päivittämistä</a> (esimerkiksi, kun <a href="#Paketteja_ei_voida_hakea_asennuksessa">pakettia ei enää löydy</a> virallisissa pakettivarastoissa). Käytännössä, <b>älä</b> suorita <code>pacman -Sy <i>paketin_nimi</i></code> <code>pacman -Sy<b>u</b> <i>paketin_nimi</i></code> sijasta, koska tämä voi johtaa riippuvuus ongelmiin. Katso <a href="../en/System_maintenance.html#Partial_upgrades_are_unsupported" title="System maintenance">System maintenance#Partial upgrades are unsupported</a> ja <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=89328">BBS#89328</a>.</div>
<h4><span class="mw-headline" id="Tiettyjen_pakettien_asentaminen">Tiettyjen pakettien asentaminen</span></h4>
<p>Yhden paketin tai listan paketteja, mukaanlukien riippuvuudet, käytä seuraavaa komentoa:
</p>
<pre># pacman -S <i>paketin_nimi1</i> <i>paketin_nimi2</i> ...
</pre>
<p>Listan paketteja asentamiseen regexin avulla (katso <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=7179">tämä foorumi keskustelu</a>):
</p>
<pre># pacman -S $(pacman -Ssq <i>paketti_regex</i>)
</pre>
<p>Joskus on olemassa useita versioita eri pakettivarastoissa (esim. <i>extra</i> ja <i>testing</i>). Paketin asentamiseen <i>extra</i> pakettivarastosta tässä esimerkissä, pakettivarasto pitää pitää määrittää paketin nimen edessä:
</p>
<pre># pacman -S extra/<i>paketin_nimi</i>
</pre>
<p>Useiden pakettien asentamiseksi käyttäen samantapaisia nimiä voidaan käyttää aaltosulkeita. Esimerkiksi:
</p>
<pre># pacman -S plasma-{desktop,mediacenter,nm}
</pre>
<p>Tämä voidaan laajentaa hyvinkin moneen tasoon:
</p>
<pre># pacman -S plasma-{workspace{,-wallpapers},pa}
</pre>
<h5><span class="mw-headline" id="Virtuaaliset_paketit">Virtuaaliset paketit</span></h5>
<p>Virtuaali paketti erityinen paketti, joka ei ole olemassa yksisteen, vaan sen <a href="../en/PKGBUILD.html#provides" title="PKGBUILD">antaa</a> yksi tai useampi toinen paketti. Virtuaali paketti ei salli paketteja nimeämään erityistä pakettia riippuvuutena, siinä tapauksessa kun ehdokkaita on useita. Virtuaali pakettia ei pystytä asentamaan sen nimellä, sen sijaan ne asennetaan järjestelmään, kun asennetaan paketti joka sitten <i>antaa</i> tämän virtuaalisen paketin.
</p>
<h4><span class="mw-headline" id="Pakettiryhmien_asentaminen">Pakettiryhmien asentaminen</span></h4>
<p>Jotkin paketit kuuluvat <a href="../en/Meta_package_and_package_group.html" class="mw-redirect" title="Package group">pakettiryhmään</a>, jotka voidaan asentaa kaikki samanaikaisesti. Esimerkiksi, tällä komennolla:
</p>
<pre># pacman -S gnome
</pre>
<p>ohjataan valitsemaan paketteja <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/groups/x86_64/gnome/">gnome</a></span> ryhmästä, joita haluat asentaa.
</p>
<p>Joskus pakettiryhmä sisältää paljon paketteja ja saattaa olla että vain muutama niistä halutaan asentaa. Numeroiden erikseen kirjoittamisen sijaan voi joskus olla kätevämpää valita tai erotella  paketit tai valikoima paketteja seuraavalla syntaksilla:
</p>
<pre>Enter a selection (default=all): 1-10 15
</pre>
<p>joka valitsee paketit 1 - 10 ja 15 asennusta varten, tai:
</p>
<pre>Enter a selection (default=all): ^5-8 ^2
</pre>
<p>joka valitsee kaikki paketit paitsi 5 - 8 ja 2 asennusta varten.
</p>
<p>Nähdäksesi mitä kuuluu gnome pakettiryhmään, suorita:
</p>
<pre># pacman -Sg gnome
</pre>
<p>Vieraile myös sivulla <a rel="nofollow" class="external free" href="https://archlinux.org/groups/">https://archlinux.org/groups/</a> nähdäksesi mitä pakettiryhmiä on saatavilla.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Huomautus:</strong> Jos paketti listassa on jo asennetu järjestelmääsi, se tullaan uudelleen asentamaan vaikka se olisi päivitetty ajan tasalle. Tämä voidaan ohittaa <code>--needed</code> merkinnällä.</div>
<h3><span class="mw-headline" id="Pakettien_poistaminen">Pakettien poistaminen</span></h3>
<p>Yhden paketin poistamista varten, jättäen kaikki riippuvuudet asennettuna:
</p>
<pre># pacman -R <i>paketin_nimi</i>
</pre>
<p>Paketin ja sen riippuvuuksien poistaminen, joita mikään muu paketti ei tarvitse:
</p>
<pre># pacman -Rs <i>paketin_nimi</i>
</pre>
<p>Yläpuolella oleva ei välttämättä aina toimi kun paketti kuuluu johonkin pakettiryhmään. Siinä tapauksessa koita:
</p>
<pre># pacman -Rsu <i>paketin_nimi</i>
</pre>
<p>Paketin, sen riippuvuuksien ja kaikkien pakettien, jotka riippuvat tästä poistettavasta paketista, poistamiseen:
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Varoitus:</strong> Tämä operaatio on itseään toistava, ja sitä täytyy käyttää huolella ja varmuudella, sillä se saattaa poistaa monia potentiaalisesti tarvittavia paketteja.</div>
<pre># pacman -Rsc <i>paketin_nimi</i>
</pre>
<p>Pelkä paketin poistamiseen, eikä pakettien poistamiseen joiden toiminta riippuu kyseisestä paketista:
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Varoitus:</strong> Seuraava operaatio voi rikkoa järjestelmän ja sitä tulisi siis välttää. Katso <a href="../en/System_maintenance.html#Avoid_certain_pacman_commands" title="System maintenance">System maintenance#Avoid certain pacman commands</a>.</div>
<pre># pacman -Rdd <i>paketin_nimi</i>
</pre>
<p><i>Pacman</i> tallentaa tärkeät konfiguraatio tiedostot, kun poistetaan tiettyjä sovelluksia ja nimeää ne liitteellä: <i>.pacsave</i>. Näiden tiedostojen muodostamisen välttämiseksi voidaan käyttää <code>-n</code> merkkiä:
</p>
<pre># pacman -Rn <i>paketin_nimi</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Huomautus:</strong> <i>Pacman</i> ei poista konfiguraatioita, joita sovellus itse luo (esimerkiksi "pistetiedostot" koti polussa).</div>
<h3>
<span id="Pakettien_p.C3.A4ivitys"></span><span class="mw-headline" id="Pakettien_päivitys">Pakettien päivitys</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Varoitus:</strong> 
<ul>
<li>Käyttäjien oletetaan seuraavan ohjeistusta <a href="../en/System_maintenance.html#Upgrading_the_system" title="System maintenance">System maintenance#Upgrading the system</a> osassa järjestelmän päivitykseen säännöllisesti eikä vain sokeasti suorittamaan seuraavaa komentoa.</li>
<li>Arch tukee vain täysiä järjestelmäpäivityksiä. Katso <a href="../en/System_maintenance.html#Partial_upgrades_are_unsupported" title="System maintenance">System maintenance#Partial upgrades are unsupported</a> ja <a href="#Pakettien_asennus">#Pakettien asennus</a> lisätiedolle.</li>
</ul>
</div>
<p><i>Pacman</i> voi päivittää kaikki paketit järjestelmässä yhdellä komennolla. Tämän suorittaminen voi kumminkin viedä aikaa, riippuen siitä onko järjestelmä kuinka ajan tasalla. Seuraava komento synkronoi pakketivarastojen tietokannat <i>ja</i> päivittää järjestelmän paketit, poislukien "paikalliset" paketit jotka eivät ole konfiguroiduissa pakettivarastoissa:
</p>
<pre># pacman -Syu
</pre>
<h3><span class="mw-headline" id="Kysely_pakettitietokannassa">Kysely pakettitietokannassa</span></h3>
<p><i>Pacman</i> kyselee paikallista pakettitietokantaa <code>-Q</code> merkillä, synkronoi tietokanna <code>-S</code> merkillä ja tiedosto tietokannan <code>-F</code> merkillä. Katso <code>pacman -Q --help</code>, <code>pacman -S --help</code> ja <code>pacman -F --help</code> jokaisen komennon omille vaihtoehdoille.
</p>
<p><i>Pacman</i> voi etsiä paketteja tietokannasta, etsien niin myös pakettien nimiä kuin kuvauksia:
</p>
<pre>$ pacman -Ss <i>merkkijono1</i> <i>merkkijono2</i> ...
</pre>
<p>Joskus, <code>-s</code>n sisään rakennettu ERE (Extended Regular Expressions) voi aiheuttaa ei-toivottuja tuloksia, joten se pitää rajata vastaamaan paketin nimeä; ei paketin kuvausta tai mitään muuta kenttää:
</p>
<pre>$ pacman -Ss '^vim-'
</pre>
<p>Jo asennetujen pakettien hakeminen:
</p>
<pre>$ pacman -Qs <i>merkkijono1</i> <i>merkkijono2</i> ...
</pre>
<p>Paketti tiedostojen nimien hakeminen etäpaketeista:
</p>
<pre>$ pacman -F <i>merkkijono1</i> <i>merkkijono2</i> ...
</pre>
<p>Laajamittaisen lisätiedon näyttäminen annetusta paketista:
</p>
<pre>$ pacman -Si <i>paketin_nimi</i>
</pre>
<p>Paikallisten pakettien hakeminen:
</p>
<pre>$ pacman -Qi <i>paketin_nimi</i>
</pre>
<p>Kaksi <code>-i</code> merkkiä näyttää listan varmuuskopioista ja näiden muokkaustilasta:
</p>
<pre>$ pacman -Qii <i>paketin_nimi</i>
</pre>
<p>Hae lista paketin asentamista tiedostoista:
</p>
<pre>$ pacman -Ql <i>paketin_nimi</i>
</pre>
<p>Hae lista etäpaketin asentamista tiedostoista:
</p>
<pre>$ pacman -Fl <i>paketin_nimi</i>
</pre>
<p>Todenna paketin asentamien tiedostojen olemassa olo:
</p>
<pre>$ pacman -Qk <i>paketin_nimi</i>
</pre>
<p>Kaksi <code>k</code> merkkiä tekee läpikotaisen todennuksen.
</p>
<p>Kyselemällä tietokantaa, jotta saadaan selville mille paketille tiedosto kuuluu:
</p>
<pre>$ pacman -Qo <i>/polku/kyseiselle/tiedostolle</i>
</pre>
<p>Kyselemällä tietokantaa, jotta saadaan selville mille etäpaketille tiedosto kuuluu:
</p>
<pre>$ pacman -F <i>/polku/kyseiselle/tiedostolle</i>
</pre>
<p>Listaa kaikki paketit joita ei enää tarvita riippuvuuksina (orvot):
</p>
<pre>$ pacman -Qdt
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Vinkki:</strong> Lisää ylläoleva komento pacman jälkitoimille <a href="#Hookit">hookeihin</a>, jotta saat ilmoituksia mikäli jokin toimi on tehnyt riippuvuudesta orvon. Tämä voi olla myös hyödyllinen, kun paketti pudotetaan pakettivarastosta, sillä kaikki pudotetut paketit orpoutuvat paikallisessa asennuksessa (ellei tätä pakettia ole erikseen asennettu). Välttääksesi "failed to execute command" virheilmoitukset, kun orpoja ei löydy, käytä seuraavaa komentoa <code>Exec</code>:ille omassa hook:issa: <code>/usr/bin/bash -c "/usr/bin/pacman -Qtd || /usr/bin/echo '=&gt; None found.'"</code>
</div>
<p>Listaa kaikki erityisesti erikseen asennetut paketit, joita ei tarvita riippuvuuksina:
</p>
<pre>$ pacman -Qet
</pre>
<p>Katso <a href="../en/Pacman/Tips_and_tricks.html" title="Pacman/Tips and tricks">Pacman/Tips and tricks</a> lisä esimerkeillä.
</p>
<h4><span class="mw-headline" id="Pactree">Pactree</span></h4>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Huomautus:</strong> <span class="plainlinks archwiki-template-man" title="$ man 8 pactree"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/pactree.8">pactree(8)</a></span> ei ole enää osana <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pacman">pacman</a></span> pakettia. Sen sijaan se löytyy <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pacman-contrib">pacman-contrib</a></span> paketista.</div>
<p>Nähdäksesi riippuvuuden puumallin halutusta paketista:
</p>
<pre>$ pactree <i>paketin_nimi</i>
</pre>
<p>Nähdäksesi riippuu-puumallin halutusta paketista, anna <i>reverse</i> merkki <code>-r</code> <i>pactree</i> komennolle, tai käytä <i>whoneeds</i> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/pkgtools/">pkgtools</a></span><sup><small>AUR</small></sup> paketista.
</p>
<h4><span class="mw-headline" id="Tietokannan_rakenne">Tietokannan rakenne</span></h4>
<p><i>Pacman</i> tietokannat löytyvät normaalisti polusta <code>/var/lib/pacman/sync</code>. Jokaista määriteltyä pakettivarastoa kohden, tiedostossa <code>/etc/pacman.conf</code>, on olemassa vastaava tietokanta tiedosto samassa sijainnissa. Tietokanta tiedostot on gzipattu tar-arkistoiksi sisältäen polun jokaiselle paketille, kuten esimerkiksi <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=which">which</a></span> paketille:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ tree which-2.21-5</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">which-2.21-5
|-- desc
</pre>
<p><code>desc</code> tiedosto sisältää metadataa kuten paketin kuvauksen, riippuvuudet, tiedoston koon ja MD5 tarkisteen.
</p>
<h3>
<span id="Pakettien_k.C3.A4tk.C3.B6muistin_putsaaminen"></span><span class="mw-headline" id="Pakettien_kätkömuistin_putsaaminen">Pakettien kätkömuistin putsaaminen</span>
</h3>
<p><i>Pacman</i> säilyttää ladattuja paketteja polussa <code>/var/cache/pacman/pkg/</code> ja ei poista vanhoja tai poistettuja paketteja automaattisesti. Tässä käytännössä on joitain etuja:
</p>
<ol>
<li>Tälläin pystytään <a href="../en/Downgrading_packages.html" class="mw-redirect" title="Downgrade">palauttamaan</a> paketti ilman paketin hakemista erikseen ja asentamista muilla tavoilla, kuten esimerkiksi <a href="../en/Arch_Linux_Archive.html" title="Arch Linux Archive">Arch Linux Archiven</a> kautta.</li>
<li>Paketti, jonka asennus on poistettu, voidaan suoraan uudelleen asentaa kätkömuistikansiosta, ilman uutta latausta pakettitietokannasta.</li>
</ol>
<p>On kumminkin tarpeellista putsata kjätkömuistia ajoittain näin välttämällä tämän loputtoman kasvun.
</p>
<p><span class="plainlinks archwiki-template-man" title="$ man 8 paccache"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/paccache.8">paccache(8)</a></span> skripti, joka tulee paketin <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pacman-contrib">pacman-contrib</a></span> mukana, poistaa kaikki kätketyt versiot asennetuista ja poistetuista paketeista, paitsi 3 kaikkein tuoreinta, oletukselta:
</p>
<pre># paccache -r
</pre>
<p>Aktivoi ja <a href="../fi/Systemd.html#Yksik%C3%B6iden_k%C3%A4ytt%C3%B6" class="mw-redirect" title="Käynnistä">käynnistä</a> <code>paccache.timer</code> poistaaksesi käyttämättömiä paketteja viikoittain.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Vinkki:</strong> Voit luoda <a href="#Hookit">hookin</a> suorittamaan tämä automaattisesti jokaisen pacman siirron yhteydessä, katso <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=1694743#p1694743">esimerkkejä</a> ja <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/pacman-cleanup-hook/">pacman-cleanup-hook</a></span><sup><small>AUR</small></sup>.</div>
<p>Voidaan myös määrittää kuinka monta versiota halutaan pitää. Vain yhden menneen version pitämistä varten voidaan suorittaa:
</p>
<pre># paccache -rk1
</pre>
<p>Lisää <code>-u</code>/<code>--uninstalled</code> merkki rajaamaan <i>paccache</i> toimintaa poistetuille paketeille. Esimerkiksi jos halutaan poistaa kaikki poistetut versiot, käytä seuraavaa:
</p>
<pre># paccache -ruk0
</pre>
<p>Tai voit yhdistää sen molemmille asennetuille poistetuille paketeille. Esimerkiksi pitääksesi viimeisimmät kaksi asennettua pakettia, mutta poistaaksesi kaikki poistetut paketit kätkömuistista, käytä seuraavaa:
</p>
<pre># paccache -rk2 -ruk0
</pre>
<p>Katso <code>paccache -h</code> lisäasetuksille.
</p>
<p><i>Pacman</i> sisältää myös sisään rakennetun asetuksen kätkömuistin ja tietokanta tiedostojen jäämien putsaamiseen pakettivarastoista, joita ei enää ole listattuna konfiguraatiossa <code>/etc/pacman.conf</code>. <i>Pacman</i> ei kumminkaan onnistu tarjoamaan mahdollisuutta pitää tiettyä määrää edellisiä versioita ja on siksi aggressiivisempi kuin <i>paccachen</i> oletusasetukset.
</p>
<p>Poistaaksesi kaikki kätketyt paketit, jotka eivät ole asennettuna, ja käyttämättömät synkronointi tietokannat, suorita:
</p>
<pre># pacman -Sc
</pre>
<p>Kaikkien tiedostojen poistamiseen kätkömuistista, käytä "clean" merkintää kahdesti, tämä on kaikkein agresiivisin lähestymistapa ja ei jätä mitään jälkeensä koko kansioon:
</p>
<pre># pacman -Scc
</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Varoitus:</strong> Kaikkien vanhojen asennettujen pakettiversioiden ja poistettujen pakettien tyhjentämistä kätkömuistista tulisi välttää ellei levytilaa ole ihan välttämätöntä vapauttaa. Tämä estää versioiden palauttamisen tai pakettien uudelleen asennuksen ilman erillistä latailua.</div>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/pkgcacheclean/">pkgcacheclean</a></span><sup><small>AUR</small></sup> ja <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/pacleaner/">pacleaner</a></span><sup><small>AUR</small></sup> ovat kaksi muuta vaihtoehtoista ohjelmaa putsaamiseen.
</p>
<h3><span class="mw-headline" id="Muita_komentoja">Muita komentoja</span></h3>
<p>Lataa paketti ilman asennusta:
</p>
<pre># pacman -Sw <i>paketin_nimi</i>
</pre>
<p>Asenna 'paikallinen' paketti, joka ei tuke etänä pakettivarastosta (esim. paketti on <a href="../en/Arch_User_Repository.html" class="mw-redirect" title="AUR">AUR</a>:sta):
</p>
<pre># pacman -U <i>/polku/halutulle/paketille/paketin_nimi-versio.pkg.tar.zst</i>
</pre>
<p>Pitääksesi kopion asennetusta paketista <i>pacmanin</i> kätkömuistissa, käytä:
</p>
<pre># pacman -U file:///<i>polku/halutulle/paketille/paketin_nimi-versio.pkg.tar.zst</i>
</pre>
<p>Asenna 'etä' paketti (ei pakettivarastosta, joka on määriteltynä <i>pacmanin</i> konfiguraatio tiedostossa):
</p>
<pre># pacman -U <i>http://www.esimerkki.com/repo/esimerkki.pkg.tar.zst</i>
</pre>
<p>Hillitäksesi <code>-S</code>, <code>-U</code> ja <code>-R</code> tapahtumien käyttöä, voidaan myös käyttää <code>-p</code>.
</p>
<p><i>Pacman</i> listaa asennettavat tai poistettavat paketit <b>aina</b> ja kysyy käyttäjältä lupaa ennenkuin mitään muutoksia tehdään.
</p>
<h3><span class="mw-headline" id="Asennuksen_syy">Asennuksen syy</span></h3>
<p><i>Pacman</i> tietokanta jakaa asennetut paketit kahteen ryhmään syyn mukaan, miksi ne on asennettu:
</p>
<ul>
<li>
<b>selvästi asennetut</b>: paketit, jotka kirjaimellisesti annettiin yleisinä <i>pacman</i> <code>-S</code> tai <code>-U</code> komentoina;</li>
<li>
<b>riippuvuudet</b>: paketit ,joita ei erikseen ole asennettu (yleisesti) antamalla erillistä argumenttia <i>pacman</i> asennus komennolle. Nämä on asennettu epäsuorasti toisen paketin <a href="../en/PKGBUILD.html#Dependencies" class="mw-redirect" title="Dependency">tarvitsemana</a> joka on selvästi asennettu.</li>
</ul>
<p>Kun pakettia asennetaan, on mahdollista pakottaa sen asennus syy <i>riippuvuudeksi</i> komennolla:
</p>
<pre># pacman -S --asdeps <i>paketin_nimi</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Vinkki:</strong> Vaihtoehtoisien riippuvuuksien asentelu merkinnällä <code>--asdeps</code> tekee tästä sellaisen, että jos <a href="../en/Pacman/Tips_and_tricks.html#Removing_unused_packages_.28orphans.29" title="Pacman/Tips and tricks">poistetaan orpoja</a>, <i>pacman</i> myös poistaa jääneet vaihtoiset riippuvuudet.</div>
<p>Kun <b>uudelleen</b> asennetaan pakettia, kuitenkin, sen hetkinen asennus syy pidetään oletukselta.
</p>
<p>Lista selvästi asennetuista paketeista voidaan näyttää komennolla <code>pacman -Qe</code> ja täydentävä lista riippuvuuksista voidaan näyttää komennolla <code>pacman -Qd</code>.
</p>
<p>Vaihtaaksesi aiemmin asennetun paketin asennus syytä, suorita:
</p>
<pre># pacman -D --asdeps <i>paketin_nimi</i>
</pre>
<p>Käytä <code>--asexplicit</code> tehdäksesi vastakkaisen operaation.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Huomautus:</strong> <code>--asdeps</code> ja <code>--asexplicit</code> asetusten käyttö päivitettäessä, kuten komennolla <code>pacman -Syu <i>paketin_nimi</i> --asdeps</code>, on hyvin epäsuosiollista. Tämä vaihtaisi asennus syyn toki myös paketille jota asennetaan, mutta myös paketeille joita ollaan päivittämässä.</div>
<h3>
<span id="Etsi_pakettia_joka_sis.C3.A4lt.C3.A4.C3.A4_tietyn_tiedoston"></span><span class="mw-headline" id="Etsi_pakettia_joka_sisältää_tietyn_tiedoston">Etsi pakettia joka sisältää tietyn tiedoston</span>
</h3>
<h2><span class="mw-headline" id="Konfiguraatio">Konfiguraatio</span></h2>
<p><i>Pacman</i>in asetukset löytyvät <code>/etc/pacman.conf</code> tiedostosta: tämä on se paikka minne käyttäjä konfiguroi ohjelman toimimaan halutulla tavalla. Syvällisemmin tietoa tästä löytyy <span class="plainlinks archwiki-template-man" title="$ man 5 pacman.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/pacman.conf.5">pacman.conf(5)</a></span> manuaalisivulta.
</p>
<h3><span class="mw-headline" id="Yleiset_asetukset">Yleiset asetukset</span></h3>
<p>Yleiset asetukset löytyvät <code>[options]</code> osassa. Lue <span class="plainlinks archwiki-template-man" title="$ man 5 pacman.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/pacman.conf.5">pacman.conf(5)</a></span> tai katso oletus <code>pacman.conf</code> tiedostoon lisätiedolle mitä on mahdollista tehdä.
</p>
<h4>
<span id="Versioiden_vertaaminen_ennen_p.C3.A4ivityst.C3.A4"></span><span class="mw-headline" id="Versioiden_vertaaminen_ennen_päivitystä">Versioiden vertaaminen ennen päivitystä</span>
</h4>
<p>Vanhojen ja uusien versioiden näkeminen saatavilla olevista paketeista, poista kommentointi "VerbosePkgLists" riviltä tiedostossa <code>/etc/pacman.conf</code>. Ulostulo komennolla <code>pacman -Syu</code> on seuraavanlainen:
</p>
<pre>Package (6)             Old Version  New Version  Net Change  Download Size

extra/libmariadbclient  10.1.9-4     10.1.10-1      0.03 MiB       4.35 MiB
extra/libpng            1.6.19-1     1.6.20-1       0.00 MiB       0.23 MiB
extra/mariadb           10.1.9-4     10.1.10-1      0.26 MiB      13.80 MiB
</pre>
<h4>
<span id="Ohita_paketin_p.C3.A4ivitt.C3.A4minen"></span><span class="mw-headline" id="Ohita_paketin_päivittäminen">Ohita paketin päivittäminen</span>
</h4>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Varoitus:</strong> Ole varovainen pakettien ohittamisessa, sillä  <a href="../en/System_maintenance.html#Partial_upgrades_are_unsupported" class="mw-redirect" title="Partial upgrades">osittaiset päivitykset</a> eivät ole tuettuna.</div>
<p>Tietyn paketin ohittamista varten järjestelmän <a href="#Pakettien_p%C3%A4ivitys">päivityksessä</a>, määritä tämä seuraavasti:
</p>
<pre>IgnorePkg=linux
</pre>
<p>Useampia paketteja varten käytä välilyönnillä eroteltu lista, tai käytä useampia <code>IgnorePkg</code> rivejä. Myös <a href="https://en.wikipedia.org/wiki/glob_(programming)" class="extiw" title="wikipedia:glob (programming)">glob</a> mallia voidaan käyttää. Jos halutaan ohittaa paketteja vain kerran, voidaan myös käyttää <code>--ignore</code> merkintää komentorivillä - mutta tämän listan paketit pitää erotella pilkulla.
</p>
<p>On silti mahdollista päivittää sivuutettu paketti käyttämällä <code>pacman -S</code>: tässä tapauksessa <i>pacman</i> muistuttaa siitä, että paketti on sisälletty <code>IgnorePkg</code> lauseessa.
</p>
<h4>
<span id="Ohita_pakettiryhm.C3.A4_p.C3.A4ivityksess.C3.A4"></span><span class="mw-headline" id="Ohita_pakettiryhmä_päivityksessä">Ohita pakettiryhmä päivityksessä</span>
</h4>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Varoitus:</strong> Ole varovainen pakettiryhmien ohittamisessa, sillä  <a href="../en/System_maintenance.html#Partial_upgrades_are_unsupported" class="mw-redirect" title="Partial upgrades">osittaiset päivitykset</a> eivät ole tuettuna.</div>
<p>Kuten yksitäisten pakettienkin kanssa, on pakettien ryhmien ohittaminen myös mahdollista:
</p>
<pre>IgnoreGroup=gnome
</pre>
<h4>
<span id="Ohita_tiedostojen_p.C3.A4ivitt.C3.A4minen"></span><span class="mw-headline" id="Ohita_tiedostojen_päivittäminen">Ohita tiedostojen päivittäminen</span>
</h4>
<h4><span class="mw-headline" id="Ohita_tiedostoja_asennuksessa">Ohita tiedostoja asennuksessa</span></h4>
<h4>
<span id="Yll.C3.A4pid.C3.A4_useita_konfiguraatio_tiedostoja"></span><span class="mw-headline" id="Ylläpidä_useita_konfiguraatio_tiedostoja">Ylläpidä useita konfiguraatio tiedostoja</span>
</h4>
<p>Jos on olemassa useita konfiguraatio tiedostoja (esim. pääkonfiguraatio ja konfiguraatio, jossa <a href="../en/Official_repositories.html#Testing_repositories" class="mw-redirect" title="Testing">testing</a> pakettivarasto on aktivoituna) ja asetuksia halutaan jakaa konfiguraatioiden välillä, voidaan käyttää <code>Include</code> asetusta, joka aina määritetään itse konfigurointi tiedostoissa, esim.:
</p>
<pre>Include = <i>/polku/yleisiin/asetuksiin</i>
</pre>
<p>missä <code><i>/polku/yleisiin/asetuksiin</i></code> tiedosto sisältää samat asetukset molemmille konfiguraatioille.
</p>
<h4><span class="mw-headline" id="Hookit">Hookit</span></h4>
<p><i>Pacman</i> voi suorittaa esi- ja jälki toimia hookien avulla <code>/usr/share/libalpm/hooks/</code> polusta; useampia polkuja voidaan määrittää <code>HookDir</code> asetuksella <code>pacman.conf</code> tiedostossa, joka oletukselta on <code>/etc/pacman.d/hooks</code>. Hook tiedostojen nimet pitää olla nimettynä <i>.hook</i> päätteellä. Pacman hookit eivät ole interaktiivisia.
</p>
<p><i>Pacman</i> hookeja käytetään, esimerkiksi, yhdessä <code>systemd-sysusers</code> ja <code>systemd-tmpfiles</code> kanssa automaattisesti luomaan järjestelmän käyttäjiä ja tiedostoja pakettien asennuksen aikana. Esimerkiksi, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=tomcat8">tomcat8</a></span> määrittää, että tämä haluaa järjestelmän käyttäjän nimellä <code>tomcat8</code> ja joitain tämän käyttäjän omistamia polkuja, omistukseensa.  <i>Pacman</i> hookit <code>systemd-sysusers.hook</code> ja <code>systemd-tmpfiles.hook</code> herättävät <code>systemd-sysusers</code> ja <code>systemd-tmpfiles</code>, kun <i>pacman</i> päättää, että <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=tomcat8">tomcat8</a></span> sisältää tiedostoja, jotka määrittävät käyttäjiä ja tmp tiedostoja.
</p>
<p>Lisätiedolle alpm hookeille, katso <span class="plainlinks archwiki-template-man" title="$ man 5 alpm-hooks"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/alpm-hooks.5">alpm-hooks(5)</a></span>.
</p>
<h3><span class="mw-headline" id="Pakettivarastot_ja_peilit">Pakettivarastot ja peilit</span></h3>
<p>Erityisen <a href="#Yleiset_asetukset">[options]</a> osan lisäksi, jokainen <code>[section]</code> tiedostossa <code>pacman.conf</code> määrittää pakettiriippuvuuden käytettäväksi. <i>Pakettivarasto</i> on <i>looginen</i> kokoelma paketteja, jotka ovat <i>fyysisesti</i> varastoituna yhdellä tai useammalla palvelimella: tästä syystä jokainen palvelin on <i>peilinä</i> pakettivarastolle.
</p>
<p>Pakettivarastot jaetaan <a href="../en/Official_repositories.html" title="Official repositories">virallisiin</a> ja <a href="../en/Unofficial_user_repositories.html" title="Unofficial user repositories">epävirallisiin</a> pakettivarastoihin. Pakettivarastojen järjestyksellä konfiguraatio tiedostossa on merkitystä; pakettivarastot listattuna ensimmäisenä ovat arvojärjestyksen päällimäiset ja joita käytetään ennen myöhemmin listattuja pakettivarastoja, kun paketeilla on identtinen nimi näissä varastoissa. Versionumeroa ei huomioida tässä tapauksessa. Pakettivaraston käyttöä varten, sen jälkeen kun se on lisätty, pitää ensin <a href="#Pakettien_p%C3%A4ivitys">päivittää</a> koko järjestelmä.
</p>
<p>Jokainen pakettivarasto osa sallii peililistan määrittämisen, joko suoraan tiedostoon tai erillisessä tähän tarkoitukseen tarkoitetussa tiedostossa <code>Include</code> toimintaohjeella: esimerkiksi, peilit virallisille pakettivarastoille ovat sisälletynä <code>/etc/pacman.d/mirrorlist</code> tiedostosta. Katso <a href="../en/Mirrors.html" title="Mirrors">Mirrors</a> artikkeli peilien konfiguroinille.
</p>
<h4><span class="mw-headline" id="Paketin_turvallisuus">Paketin turvallisuus</span></h4>
<p><i>Pacman</i> tukee pakettien allekirjoituksia, mikä luo lisäturvakerroksen paketeille. Oletus konfiguraatiossa, <code>SigLevel = Required DatabaseOptional</code>, aktivoidaan allekirjoitus varmenne kaikille paketeille globaalilla tasolla: tämä voidaan ohittaa pakettivarastoa kohden <code>SigLevel</code> riveillä. Lisätietoa pakettien allekirjoituksista ja näiden varmentamisesta löytyy artikkelista <a href="../en/Pacman/Package_signing.html" class="mw-redirect" title="Pacman-key">pacman-key</a>.
</p>
<h2>
<span id="Vianm.C3.A4.C3.A4ritys"></span><span class="mw-headline" id="Vianmääritys">Vianmääritys</span>
</h2>
<h3>
<span id=".22Failed_to_commit_transaction_.28invalid_or_corrupted_package.29.22_virheilmoitus"></span><span class="mw-headline" id='"Failed_to_commit_transaction_(invalid_or_corrupted_package)"_virheilmoitus'>"Failed to commit transaction (invalid or corrupted package)" virheilmoitus</span>
</h3>
<p>Katso <i>.part</i> tiedostoja (osittain ladattu tiedosto) polusta <code>/var/cache/pacman/pkg/</code> ja poista ne (johtuu usein oman komennon <code>XferCommand</code> käytöstä tiedostossa <code>pacman.conf</code>).
</p>
<pre># find /var/cache/pacman/pkg/ -iname "*.part" -delete
</pre>
<h3><span class="mw-headline" id="Paketteja_ei_voida_hakea_asennuksessa">Paketteja ei voida hakea asennuksessa</span></h3>
<p>Tämä virhe ilmenee ilmoituksena <code>Not found in sync db</code>, <code>Target not found</code> tai <code>Failed retrieving file</code>.
</p>
<p>Ensin, varmistu siitä että paketti on oikeasti olemassa. Jos olet varma sen olemassa olosta, pakettilistasi saattaa olla päivittämättä. Yritä suorittaa komento <code>pacman -Syu</code> päivityksen pakottamiseksi kaikille pakettilistoille ja lopulta päivittääksesi järjestelmä. Varmistu myös siitä, että valitut <a href="../en/Mirrors.html" title="Mirrors">peilit</a> ovat ajan tasalla ja <a href="#Pakettivarastot_ja_peilit">pakettivarastot</a> ovat oikein konfiguroitu.
</p>
<p>Voi olla mahdollista myös ettei pakettivarastoa, joka sisältää tämän paketin, ole aktivoituna järjestelmässäsi, esimerkiksi kyseinen paketti voisi olla <a href="../en/Official_repositories.html#multilib" class="mw-redirect" title="Multilib">multilib</a> pakettivarastossa, mutta <i>multilib</i> ei ole aktivoituna <code>pacman.conf</code> tiedostossa.
</p>
<p>Katso myös <a href="../fi/Frequently_asked_questions.html#Miksi_virallisissa_varastoissa_on_vain_yksi_versio_jokaista_jaettua_kirjastoa?" title="Frequently asked questions (Suomi)">Frequently asked questions (Suomi)#Miksi virallisissa varastoissa on vain yksi versio jokaista jaettua kirjastoa?</a>.
</p>
<h3>
<span id="Signature_from_.22K.C3.A4ytt.C3.A4j.C3.A4_.3Cemail.40esimerkki.org.3E.22_is_unknown_trust.2C_installation_failed"></span><span class="mw-headline" id='Signature_from_"Käyttäjä_&lt;email@esimerkki.org&gt;"_is_unknown_trust,_installation_failed'>Signature from "Käyttäjä &lt;email@esimerkki.org&gt;" is unknown trust, installation failed</span>
</h3>
<p>Mahdollisia ratkaisutapoja:
</p>
<ul>
<li>Päivitä avaimet, toisinsanoen suorita <code>pacman-key --refresh-keys</code>
</li>
<li>Manuaalisesti päivitä <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=archlinux-keyring">archlinux-keyring</a></span> paketti ensin, toisinsanoen suorita <code>pacman -Sy archlinux-keyring &amp;&amp; pacman -Su</code>
</li>
<li>Seuraa ohjeita <a href="../en/Pacman/Package_signing.html#Resetting_all_the_keys" class="mw-redirect" title="Pacman-key">täältä</a>.</li>
</ul>
<h2>
<span id="Katso_my.C3.B6s"></span><span class="mw-headline" id="Katso_myös">Katso myös</span>
</h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://archlinux.org/pacman/">Pacman Kotisivu</a></li>
<li><span class="plainlinks archwiki-template-man" title="$ man 3 libalpm"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/libalpm.3">libalpm(3)</a></span></li>
<li><span class="plainlinks archwiki-template-man" title="$ man 8 pacman"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/pacman.8">pacman(8)</a></span></li>
<li><span class="plainlinks archwiki-template-man" title="$ man 5 pacman.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/pacman.conf.5">pacman.conf(5)</a></span></li>
<li><span class="plainlinks archwiki-template-man" title="$ man 8 repo-add"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/repo-add.8">repo-add(8)</a></span></li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../fi/Category:Package_manager.html" title="Category:Package manager (Suomi)">Package manager (Suomi)</a></li>
<li><a href="../fi/Category:Arch_projects.html" title="Category:Arch projects (Suomi)">Arch projects (Suomi)</a></li>
<li><a href="../fi/Category:Commands.html" title="Category:Commands (Suomi)">Commands (Suomi)</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../fi/Category:Pages_or_sections_flagged_with_Template:Translateme.html" title="Category:Pages or sections flagged with Template:Translateme (Suomi)">Pages or sections flagged with Template:Translateme (Suomi)</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Pacman_(Suomi)&amp;oldid=648613">https://wiki.archlinux.org/index.php?title=Pacman_(Suomi)&amp;oldid=648613</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 10 January 2021, at 00:18.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
