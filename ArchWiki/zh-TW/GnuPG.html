<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>GnuPG (正體中文) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-GnuPG_正體中文 rootpage-GnuPG_正體中文 skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">GnuPG (正體中文)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="../en/Pacman/Package_signing.html" title="Pacman/Package signing">pacman/Package signing</a></li>
<li><a href="../en/Data-at-rest_encryption.html" class="mw-redirect" title="Disk encryption">Disk encryption</a></li>
<li><a href="../en/List_of_applications/Security.html#Encryption,_signing,_steganography" title="List of applications/Security">List of applications/Security#Encryption, signing, steganography</a></li>
</ul>
</div>
<p>根據 <a rel="nofollow" class="external text" href="https://www.gnupg.org/">official website</a>:
</p>
<dl><dd>GnuPG 是根據<a rel="nofollow" class="external text" href="http://openpgp.org/about/">OpenPGP</a>（亦稱作PGP的）所制定之<a rel="nofollow" class="external text" href="https://tools.ietf.org/html/rfc4880">RFC4880</a>標準的一個完整且自由的軟體。</dd></dl>
<p>GnuPG讓你可以可以加密及簽署你的檔案及通認資料，其特色在於豐富的金鑰管理系統及多種公鑰連接模組。作為一個命令列工具可輕易的與其他硬用程式整合，因此有豐富的應用程式與函式庫。此外GnuPG第二版更支援S/MIME及Secure Shell（ssh）。
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#%E5%AE%89%E8%A3%9D"><span class="tocnumber">1</span> <span class="toctext">安裝</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#%E9%85%8D%E7%BD%AE"><span class="tocnumber">2</span> <span class="toctext">配置</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#%E8%B3%87%E6%96%99%E5%A4%BE%E4%BD%8D%E7%BD%AE"><span class="tocnumber">2.1</span> <span class="toctext">資料夾位置</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#%E8%A8%AD%E5%AE%9A%E6%AA%94"><span class="tocnumber">2.2</span> <span class="toctext">設定檔</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#%E6%96%B0%E4%BD%BF%E7%94%A8%E8%80%85%E7%9A%84%E9%A0%90%E8%A8%AD%E5%8F%83%E6%95%B8"><span class="tocnumber">2.3</span> <span class="toctext">新使用者的預設參數</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6">
<a href="#%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95"><span class="tocnumber">3</span> <span class="toctext">使用方法</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#%E5%BB%BA%E7%AB%8B%E9%91%B0%E5%8C%99"><span class="tocnumber">3.1</span> <span class="toctext">建立鑰匙</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#List_keys"><span class="tocnumber">3.2</span> <span class="toctext">List keys</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Export_your_public_key"><span class="tocnumber">3.3</span> <span class="toctext">Export your public key</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Import_a_public_key"><span class="tocnumber">3.4</span> <span class="toctext">Import a public key</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Use_a_keyserver"><span class="tocnumber">3.5</span> <span class="toctext">Use a keyserver</span></a></li>
<li class="toclevel-2 tocsection-12">
<a href="#Encrypt_and_decrypt"><span class="tocnumber">3.6</span> <span class="toctext">Encrypt and decrypt</span></a>
<ul>
<li class="toclevel-3 tocsection-13"><a href="#Asymmetric"><span class="tocnumber">3.6.1</span> <span class="toctext">Asymmetric</span></a></li>
<li class="toclevel-3 tocsection-14"><a href="#Symmetric"><span class="tocnumber">3.6.2</span> <span class="toctext">Symmetric</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-15">
<a href="#Key_maintenance"><span class="tocnumber">4</span> <span class="toctext">Key maintenance</span></a>
<ul>
<li class="toclevel-2 tocsection-16"><a href="#Backup_your_private_key"><span class="tocnumber">4.1</span> <span class="toctext">Backup your private key</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#Edit_your_key"><span class="tocnumber">4.2</span> <span class="toctext">Edit your key</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Exporting_subkey"><span class="tocnumber">4.3</span> <span class="toctext">Exporting subkey</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#Rotating_subkeys"><span class="tocnumber">4.4</span> <span class="toctext">Rotating subkeys</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-20">
<a href="#Signatures"><span class="tocnumber">5</span> <span class="toctext">Signatures</span></a>
<ul>
<li class="toclevel-2 tocsection-21">
<a href="#Create_a_signature"><span class="tocnumber">5.1</span> <span class="toctext">Create a signature</span></a>
<ul>
<li class="toclevel-3 tocsection-22"><a href="#Sign_a_file"><span class="tocnumber">5.1.1</span> <span class="toctext">Sign a file</span></a></li>
<li class="toclevel-3 tocsection-23"><a href="#Clearsign_a_file_or_message"><span class="tocnumber">5.1.2</span> <span class="toctext">Clearsign a file or message</span></a></li>
<li class="toclevel-3 tocsection-24"><a href="#Make_a_detached_signature"><span class="tocnumber">5.1.3</span> <span class="toctext">Make a detached signature</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-25"><a href="#Verify_a_signature"><span class="tocnumber">5.2</span> <span class="toctext">Verify a signature</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-26">
<a href="#gpg-agent"><span class="tocnumber">6</span> <span class="toctext">gpg-agent</span></a>
<ul>
<li class="toclevel-2 tocsection-27"><a href="#Configuration"><span class="tocnumber">6.1</span> <span class="toctext">Configuration</span></a></li>
<li class="toclevel-2 tocsection-28"><a href="#Reload_the_agent"><span class="tocnumber">6.2</span> <span class="toctext">Reload the agent</span></a></li>
<li class="toclevel-2 tocsection-29"><a href="#pinentry"><span class="tocnumber">6.3</span> <span class="toctext">pinentry</span></a></li>
<li class="toclevel-2 tocsection-30"><a href="#Unattended_passphrase"><span class="tocnumber">6.4</span> <span class="toctext">Unattended passphrase</span></a></li>
<li class="toclevel-2 tocsection-31"><a href="#SSH_agent"><span class="tocnumber">6.5</span> <span class="toctext">SSH agent</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-32">
<a href="#Smartcards"><span class="tocnumber">7</span> <span class="toctext">Smartcards</span></a>
<ul>
<li class="toclevel-2 tocsection-33"><a href="#GnuPG_only_setups"><span class="tocnumber">7.1</span> <span class="toctext">GnuPG only setups</span></a></li>
<li class="toclevel-2 tocsection-34">
<a href="#GnuPG_with_pcscd_(PCSC_Lite)"><span class="tocnumber">7.2</span> <span class="toctext">GnuPG with pcscd (PCSC Lite)</span></a>
<ul>
<li class="toclevel-3 tocsection-35"><a href="#Always_use_pcscd"><span class="tocnumber">7.2.1</span> <span class="toctext">Always use pcscd</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-36">
<a href="#Tips_and_tricks"><span class="tocnumber">8</span> <span class="toctext">Tips and tricks</span></a>
<ul>
<li class="toclevel-2 tocsection-37"><a href="#Different_algorithm"><span class="tocnumber">8.1</span> <span class="toctext">Different algorithm</span></a></li>
<li class="toclevel-2 tocsection-38"><a href="#Encrypt_a_password"><span class="tocnumber">8.2</span> <span class="toctext">Encrypt a password</span></a></li>
<li class="toclevel-2 tocsection-39"><a href="#Revoking_a_key"><span class="tocnumber">8.3</span> <span class="toctext">Revoking a key</span></a></li>
<li class="toclevel-2 tocsection-40"><a href="#Change_trust_model"><span class="tocnumber">8.4</span> <span class="toctext">Change trust model</span></a></li>
<li class="toclevel-2 tocsection-41"><a href="#Hide_all_recipient_id's"><span class="tocnumber">8.5</span> <span class="toctext">Hide all recipient id's</span></a></li>
<li class="toclevel-2 tocsection-42"><a href="#Using_caff_for_keysigning_parties"><span class="tocnumber">8.6</span> <span class="toctext">Using caff for keysigning parties</span></a></li>
<li class="toclevel-2 tocsection-43"><a href="#Always_show_long_ID's_and_fingerprints"><span class="tocnumber">8.7</span> <span class="toctext">Always show long ID's and fingerprints</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-44">
<a href="#Troubleshooting"><span class="tocnumber">9</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-45"><a href="#Not_enough_random_bytes_available"><span class="tocnumber">9.1</span> <span class="toctext">Not enough random bytes available</span></a></li>
<li class="toclevel-2 tocsection-46"><a href="#su"><span class="tocnumber">9.2</span> <span class="toctext">su</span></a></li>
<li class="toclevel-2 tocsection-47"><a href="#Agent_complains_end_of_file"><span class="tocnumber">9.3</span> <span class="toctext">Agent complains end of file</span></a></li>
<li class="toclevel-2 tocsection-48"><a href="#KGpg_configuration_permissions"><span class="tocnumber">9.4</span> <span class="toctext">KGpg configuration permissions</span></a></li>
<li class="toclevel-2 tocsection-49"><a href="#GNOME_on_Wayland_overrides_SSH_agent_socket"><span class="tocnumber">9.5</span> <span class="toctext">GNOME on Wayland overrides SSH agent socket</span></a></li>
<li class="toclevel-2 tocsection-50"><a href="#mutt_and_gpg"><span class="tocnumber">9.6</span> <span class="toctext">mutt and gpg</span></a></li>
<li class="toclevel-2 tocsection-51"><a href="#%22Lost%22_keys,_upgrading_to_gnupg_version_2.1"><span class="tocnumber">9.7</span> <span class="toctext">"Lost" keys, upgrading to gnupg version 2.1</span></a></li>
<li class="toclevel-2 tocsection-52"><a href="#gpg_hanged_for_all_keyservers_(when_trying_to_receive_keys)"><span class="tocnumber">9.8</span> <span class="toctext">gpg hanged for all keyservers (when trying to receive keys)</span></a></li>
<li class="toclevel-2 tocsection-53"><a href="#Smartcard_not_detected"><span class="tocnumber">9.9</span> <span class="toctext">Smartcard not detected</span></a></li>
<li class="toclevel-2 tocsection-54"><a href="#gpg:_WARNING:_server_'gpg-agent'_is_older_than_us_(x_&lt;_y)"><span class="tocnumber">9.10</span> <span class="toctext">gpg: WARNING: server 'gpg-agent' is older than us (x &lt; y)</span></a></li>
<li class="toclevel-2 tocsection-55"><a href="#gpg:_...,_IPC_connect_call_failed"><span class="tocnumber">9.11</span> <span class="toctext">gpg: ..., IPC connect call failed</span></a></li>
<li class="toclevel-2 tocsection-56"><a href="#Error:_%5Bkey%5D_could_not_be_locally_signed_or_gpg:_No_default_secret_key:_No_public_key"><span class="tocnumber">9.12</span> <span class="toctext">Error: [key] could not be locally signed or gpg: No default secret key: No public key</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-57"><a href="#%E5%8F%83%E8%80%83%E6%96%87%E4%BB%B6"><span class="tocnumber">10</span> <span class="toctext">參考文件</span></a></li>
</ul>
</div>

<h2>
<span id=".E5.AE.89.E8.A3.9D"></span><span class="mw-headline" id="安裝">安裝</span>
</h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the  package.
安裝<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gnupg">gnupg</a></span>同時，<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pinentry">pinentry</a></span>也會被一併安裝，pinentry是使用GPG時要求輸入密碼的對話視窗程式，連結為<code>/usr/bin/pinentry</code>而預設是<code>/usr/bin/pinentry-gtk-2</code>。若你想採用整合GnuPG其他圖形化介面的程式可參考此列表<a href="../en/List_of_applications/Security.html#Encryption,_signing,_steganography" title="List of applications/Security">List of applications/Security#Encryption, signing, steganography</a>。
</p>
<h2>
<span id=".E9.85.8D.E7.BD.AE"></span><span class="mw-headline" id="配置">配置</span>
</h2>
<h3>
<span id=".E8.B3.87.E6.96.99.E5.A4.BE.E4.BD.8D.E7.BD.AE"></span><span class="mw-headline" id="資料夾位置">資料夾位置</span>
</h3>
<p>GnuPG的設定檔存於<code>$GNUPGHOME</code>，<code>$GNUPGHOME</code>並沒有預設路徑，在此情形下則會使用<code>$HOME</code>。因此，你在安裝後將會發現<code>~/.gnupg</code>這個資料夾。
</p>
<p>如果需要修改預設路徑，可以執行<code>$ gpg --homedir <i>path/to/file</i></code>，或在<a href="../en/Autostarting.html" class="mw-redirect" title="Startup files">startup files</a>設定<code>GNUPGHOME</code>。
</p>
<h3>
<span id=".E8.A8.AD.E5.AE.9A.E6.AA.94"></span><span class="mw-headline" id="設定檔">設定檔</span>
</h3>
<p><code>~/.gnupg/gpg.conf</code>及<code>~/.gnupg/dirmngr.conf</code>為預設設定檔。
</p>
<p>gnupg資料來預設為<code>700</code>權限，而裡面的檔案則為<code>600</code>權限。只有該資料夾的擁有者有權讀取、修改、及存取該等檔案。這些權限設定基於安全考量不應輕易修改。如果這些檔案不符合這個安全規範時，gnppg會產生關於檔案或gnupg家目錄不安全權限的警告。
</p>
<p>加入的文件雖然可以為任意長度，但不要有兩個破折號（-），建議為選項名稱和使用的參數。你可以在<code>/usr/share/gnupg</code>找到一些範例檔案。在gpg第一次執行且沒有檔案時，其亦會將這些範例檔案複製至<code>~/.gnupg</code> 。你也可以在<a href="#%E5%8F%83%E8%80%83%E6%96%87%E4%BB%B6">#參考文件</a>中找到一些範例。
</p>
<p>此外，<a href="../en/Pacman.html" title="Pacman">pacman</a>採用不同組的設定檔，其用於軟體簽章的驗証。更細節部份可參考<a href="../en/Pacman/Package_signing.html" title="Pacman/Package signing">Pacman/Package signing</a>。
</p>
<h3>
<span id=".E6.96.B0.E4.BD.BF.E7.94.A8.E8.80.85.E7.9A.84.E9.A0.90.E8.A8.AD.E5.8F.83.E6.95.B8"></span><span class="mw-headline" id="新使用者的預設參數">新使用者的預設參數</span>
</h3>
<p>如果你想為新使用者設定預設參數，可將設定檔放置於<code>/etc/skel/.gnupg/</code>。一旦新使用者加入系統時，該等檔案將會自動地複製到使用者的GnuPG家目錄。此外，<i>addgnupghome</i> 這個指令可以協助你為已存在的使用者新增GnuPG家目錄。
</p>
<pre># addgnupghome user1 user2
</pre>
<p>此指令將會各別生成<code>/home/user1/.gnupg</code>和<code>/home/user2/.gnupg</code>，並且從樣版資料夾中複製檔案，但若使用者已先產生GnuPG家目錄，則不會有改動。
</p>
<h2>
<span id=".E4.BD.BF.E7.94.A8.E6.96.B9.E6.B3.95"></span><span class="mw-headline" id="使用方法">使用方法</span>
</h2>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 無論指令執行時是否可以獲取<i><code>user-id</code></i>，請在指令執行時給予key ID、指紋、你的名字或email，而GnuPG會自動判斷你給的資訊。</div>
<p><br>
</p>
<h3>
<span id=".E5.BB.BA.E7.AB.8B.E9.91.B0.E5.8C.99"></span><span class="mw-headline" id="建立鑰匙">建立鑰匙</span>
</h3>
<p>藉由以下指令產生一對鑰匙：
</p>
<pre>$ gpg --full-gen-key
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> 可加入<code>--expert</code> 選擇不同的加密方式，例如：<a href="https://en.wikipedia.org/wiki/Elliptic_curve_cryptography" class="extiw" title="wikipedia:Elliptic curve cryptography">ECC</a>.</div>
<p>這個指令會有一些問題跟提示，大部分的使用者可參考如下設定：
</p>
<ul>
<li>RSA (sign only) 或 RSA (encrypt only) key.</li>
<li>keysize建議值為2048，4096並不會有額外的好處但卻更耗損資源，請參<a rel="nofollow" class="external autonumber" href="https://www.gnupg.org/faq/gnupg-faq.html#no_default_of_rsa4096">[1]</a>。</li>
<li>設定過期時間，建議一年，在屆滿時可以再行延展而不用重新產生鑰匙。</li>
<li>你的名字跟email設定，你也可以將多個email綁在同一對鑰匙上。</li>
<li>如果需要設定額外註釋請參考<a rel="nofollow" class="external text" href="https://lists.gnupg.org/pipermail/gnupg-devel/2015-July/030150.html">TOFU Design</a>，但並不建議填寫。</li>
<li>密碼可參考<a href="../en/Security.html#Choosing_secure_passwords" title="Security">a secure passphrase</a>.</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 名字與email將會被人往後匯入你的公鑰的人看到。</div>
<h3><span class="mw-headline" id="List_keys">List keys</span></h3>
<p>To list keys in your public key ring:
</p>
<pre>$ gpg --list-keys
</pre>
<p>To list keys in your secret key ring:
</p>
<pre>$ gpg --list-secret-keys
</pre>
<h3><span class="mw-headline" id="Export_your_public_key">Export your public key</span></h3>
<p>gpg's main usage is to ensure confidentiality of exchanged messages via public-key cryptography. With it each user distributes the public key of their keyring, which can be be used by others to encrypt messages to the user. The private key must <i>always</i> be kept private, otherwise confidentiality is broken. See <a href="https://en.wikipedia.org/wiki/Public-key_cryptography" class="extiw" title="w:Public-key cryptography">w:Public-key cryptography</a> for examples about the message exchange. 
</p>
<p>So, in order for others to send encrypted messages to you, they need your public key. 
</p>
<p>To generate an ASCII version of a user's public key to file <code><i>public.key</i></code> (e.g. to distribute it by e-mail):
</p>
<pre>$ gpg --output <i>public.key</i> --armor --export <i>user-id</i>
</pre>
<p>Alternatively, or in addition, you can <a href="#Use_a_keyserver">#Use a keyserver</a> to share your key. 
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Add <code>--no-emit-version</code> to avoid printing the version number, or add the corresponding setting to your configuration file.</div>
<h3><span class="mw-headline" id="Import_a_public_key">Import a public key</span></h3>
<p>In order to encrypt messages to others, as well as verify their signatures, you need their public key. To import a public key with file name <code><i>public.key</i></code> to your public key ring:
</p>
<pre>$ gpg --import <i>public.key</i>
</pre>
<p>Alternatively, <a href="#Use_a_keyserver">#Use a keyserver</a> to find a public key.
</p>
<h3><span class="mw-headline" id="Use_a_keyserver">Use a keyserver</span></h3>
<p>You can register your key with a public PGP key server, so that others can retrieve your key without having to contact you directly:
</p>
<pre>$ gpg --send-keys <i>user-id</i>
</pre>
<p>To find out details of a key on the keyserver, without importing it, do:
</p>
<pre>$ gpg --search-keys <i>user-id</i>
</pre>
<p>To import a key from a key server:
</p>
<pre>$ gpg --recv-keys <i>key-id</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> 
<ul>
<li>You should verify the authenticity of the retrieved public key by comparing its fingerprint with one that the owner published on an independent source(s) (i.e., contacting the person directly). See <a href="https://en.wikipedia.org/wiki/Public_key_fingerprint" class="extiw" title="wikipedia:Public key fingerprint">Wikipedia:Public key fingerprint</a> for more information.</li>
<li>Using a short ID may encounter collisions. All keys will be imported that have the short ID. To avoid this, use the full fingerprint or long key ID when receiving a key.<a rel="nofollow" class="external autonumber" href="https://lkml.org/lkml/2016/8/15/445">[2]</a>
</li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> 
<ul>
<li>Adding <code>keyserver-options auto-key-retrieve</code> to <code>gpg.conf</code> will automatically fetch keys from the key server as needed.</li>
<li>An alternative key server is <code>pool.sks-keyservers.net</code> and can be specified with <code>keyserver</code> in <code>dirmngr.conf</code>; see also <a href="https://en.wikipedia.org/wiki/Key_server_(cryptographic)#Keyserver_examples" class="extiw" title="wikipedia:Key server (cryptographic)">wikipedia:Key server (cryptographic)#Keyserver examples</a>.</li>
<li>If your network blocks ports used for hkp/hkps, you may need to specify port 80, i.e. <code>pool.sks-keyservers.net:80</code>
</li>
<li>You can connect to the keyserver over <a href="../en/Tor.html" title="Tor">Tor</a> using <code>--use-tor</code>. See this <a rel="nofollow" class="external text" href="https://gnupg.org/blog/20151224-gnupg-in-november-and-december.html">GnuPG blog post</a> for more information.</li>
<li>You can connect to a keyserver using a proxy by setting the <code>http_proxy</code> environment variable and setting <code>honor-http-proxy</code> in <code>dirmngr.conf</code>. Alternatively, set <code>http-proxy <i>host[:port]</i></code> in <code>dirmngr.conf</code>, overriding the <code>http_proxy</code> environment variable.</li>
<li>If you wish to import a key ID to install a specific Arch Linux package, see <a href="../en/Pacman/Package_signing.html#Managing_the_keyring" title="Pacman/Package signing">pacman/Package signing#Managing the keyring</a> and <a href="../en/Makepkg.html#Signature_checking" title="Makepkg">Makepkg#Signature checking</a>.</li>
</ul>
</div>
<h3><span class="mw-headline" id="Encrypt_and_decrypt">Encrypt and decrypt</span></h3>
<h4><span class="mw-headline" id="Asymmetric">Asymmetric</span></h4>
<p>You need to <a href="#Import_a_public_key">#Import a public key</a> of a user before encrypting (options <code>--encrypt</code> or <code>-e</code>) a file or message to that recipient (options <code>--recipient</code> or <code>-r</code>). Additionally you need to <a href="#Create_key_pair">#Create key pair</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup> if you have not already done so.
</p>
<p>To encrypt a file with the name <i>doc</i>, use:
</p>
<pre>$ gpg --recipient <i>user-id</i> --encrypt <i>doc</i>
</pre>
<p>To decrypt (option <code>--decrypt</code> or <code>-d</code>) a file with the name <i>doc</i>.gpg encrypted with your public key, use:
</p>
<pre>$ gpg --output <i>doc</i> --decrypt <i>doc</i>.gpg
</pre>
<p><i>gpg</i> will prompt you for your passphrase and then decrypt and write the data from <i>doc</i>.gpg to <i>doc</i>. If you omit the <code>-o</code> (<code>--output</code>) option, <i>gpg</i> will write the decrypted data to stdout.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> 
<ul>
<li>Add <code>--armor</code> to encrypt a file using ASCII armor (suitable for copying and pasting a message in text format)</li>
<li>Use <code>-R <i>user-id</i></code> or <code>--hidden-recipient <i>user-id</i></code> instead of <code>-r</code> to not put the recipient key IDs in the encrypted message. This helps to hide the receivers of the message and is a limited countermeasure against traffic analysis.</li>
<li>Add <code>--no-emit-version</code> to avoid printing the version number, or add the corresponding setting to your configuration file.</li>
<li>You can use gnupg to encrypt your sensitive documents by using your own user-id as recipient or by using the <code>--default-recipient-self</code> flag instead; however, you can only do this one file at a time, although you can always tarball various files and then encrypt the tarball. See also <a href="../en/Data-at-rest_encryption.html#Available_methods" class="mw-redirect" title="Disk encryption">Disk encryption#Available methods</a> if you want to encrypt directories or a whole file-system.</li>
</ul>
</div>
<h4><span class="mw-headline" id="Symmetric">Symmetric</span></h4>
<p>Symmetric encryption does not require the generation of a key pair and can be used to simply encrypt data with a passphrase. Simply use <code>--symmetric</code> or <code>-c</code> to perform symmetic encryption:
</p>
<pre>$ gpg -c <i>doc</i>
</pre>
<p>The following example:
</p>
<ul>
<li>Encrypts <code><i>doc</i></code> with a symmetric cipher using a passphrase</li>
<li>Uses the AES-256 cipher algorithm to encrypt the passphrase</li>
<li>Uses the SHA-512 digest algorithm to mangle the passphrase</li>
<li>Mangles the passphrase for 65536 iterations</li>
</ul>
<pre>$ gpg -c --s2k-cipher-algo AES256 --s2k-digest-algo SHA512 --s2k-count 65536 <i>doc</i>
</pre>
<p>To decrypt a symmetrically encrypted <code><i>doc</i>.gpg</code> using a passphrase and output decrypted contents into the same directory as <code><i>doc</i></code> do:
</p>
<pre>$ gpg --output <i>doc</i> --decrypt <i>doc</i>.gpg
</pre>
<h2><span class="mw-headline" id="Key_maintenance">Key maintenance</span></h2>
<h3><span class="mw-headline" id="Backup_your_private_key">Backup your private key</span></h3>
<p>To backup your private key do the following:
</p>
<pre>$ gpg --export-secret-keys --armor <i>&lt;user-id&gt;</i> &gt; <i>privkey.asc</i>
</pre>
<p>Note that <i>gpg</i> release 2.1 changed default behaviour so that the above command enforces a passphrase protection, even if you deliberately chose not to use one on key creation. This is because otherwise anyone who gains access to the above exported file would be able to encrypt and sign documents as if they were you <i>without</i> needing to know your passphrase. 
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> The passphrase is usually the weakest link in protecting your secret key. Place the private key in a safe place on a different system/device, such as a locked container or encrypted drive. It is the only safety you have to regain control to your keyring in case of, for example, a drive failure, theft or worse.</div>
<p>To import the backup of your private key:
</p>
<pre>$ gpg --import <i>privkey.asc</i>
</pre>
<h3><span class="mw-headline" id="Edit_your_key">Edit your key</span></h3>
<p>Running the <code>gpg --edit-key <i>&lt;user-id&gt;</i></code> command will present a menu which enables you to do most of your key management related tasks.
</p>
<p>Some useful commands in the edit key sub menu:
</p>
<pre>&gt; passwd       # change the passphrase
&gt; clean        # compact any user ID that is no longer usable (e.g revoked or expired)
&gt; revkey       # revoke a key
&gt; addkey       # add a subkey to this key
&gt; expire       # change the key expiration time
</pre>
<p>Type <code>help</code> in the edit key sub menu for more commands.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> If you have multiple email accounts you can add each one of them as an identity, using <code>adduid</code> command. You can then set your favourite one as <code>primary</code>.</div>
<h3><span class="mw-headline" id="Exporting_subkey">Exporting subkey</span></h3>
<p>If you plan to use the same key across multiple devices, you may want to strip out your master key and only keep the bare minimum encryption subkey on less secure systems.
</p>
<p>First, find out which subkey you want to export.
</p>
<pre>$ gpg -K
</pre>
<p>Select only that subkey to export.
</p>
<pre>$ gpg -a --export-secret-subkeys [subkey id]! &gt; /tmp/subkey.gpg
</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> If you forget to add the !, all of your subkeys will be exported.</div>
<p>At this point you could stop, but it is most likely a good idea to change the passphrase as well. Import the key into a temporary folder. 
</p>
<pre>$ gpg --homedir /tmp/gpg --import /tmp/subkey.gpg
$ gpg --homedir /tmp/gpg --edit-key <i>&lt;user-id&gt;</i>
&gt; passwd
&gt; save
$ gpg --homedir /tmp/gpg -a --export-secret-subkeys [subkey id]! &gt; /tmp/subkey.altpass.gpg
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> You will get a warning that the master key was not available and the password was not changed, but that can safely be ignored as the subkey password was.</div>
<p>At this point, you can now use <code>/tmp/subkey.altpass.gpg</code> on your other devices.
</p>
<h3><span class="mw-headline" id="Rotating_subkeys">Rotating subkeys</span></h3>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> <b>Never</b> delete your expired or revoked subkeys unless you have a good reason. Doing so will cause you to lose the ability to decrypt files encrypted with the old subkey. Please <b>only</b> delete expired or revoked keys from other users to clean your keyring.</div>
<p>If you have set your subkeys to expire after a set time, you can create new ones. Do this a few weeks in advance to allow others to update their keyring.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> You do not need to create a new key simply because it is expired. You can extend the expiration date.</div>
<p>Create new subkey (repeat for both signing and encrypting key)
</p>
<pre>$ gpg --edit-key <i>&lt;user-id&gt;</i>
&gt; addkey
</pre>
<p>And answer the following questions it asks (see <a href="#Create_key_pair">#Create key pair</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup> for suggested settings).
</p>
<p>Save changes
</p>
<pre>&gt; save
</pre>
<p>Update it to a keyserver.
</p>
<pre>$ gpg --keyserver pgp.mit.edu --send-keys <i>&lt;user-id&gt;</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Revoking expired subkeys is unnecessary and arguably bad form. If you are constantly revoking keys, it may cause others to lack confidence in you.</div>
<h2><span class="mw-headline" id="Signatures">Signatures</span></h2>
<p>Signatures certify and timestamp documents. If the document is modified, verification of the signature will fail. Unlike encryption which uses public keys to encrypt a document, signatures are created with the user's private key. The recipient of a signed document then verifies the signature using the sender's public key.
</p>
<h3><span class="mw-headline" id="Create_a_signature">Create a signature</span></h3>
<h4><span class="mw-headline" id="Sign_a_file">Sign a file</span></h4>
<p>To sign a file use the <code>--sign</code> or <code>-s</code> flag:
</p>
<pre> $ gpg --output <i>doc</i>.sig --sign <i>doc</i>
</pre>
<p><code><i>doc</i>.sig</code> contains both the compressed content of the original file <code><i>doc</i></code> and the signature in a binary format, but the file is not encrypted. However, you can combine signing with <a href="#Encrypt_and_decrypt">encrypting</a>.
</p>
<h4><span class="mw-headline" id="Clearsign_a_file_or_message">Clearsign a file or message</span></h4>
<p>To sign a file without compressing it into binary format use:
</p>
<pre> $ gpg --output <i>doc</i>.sig --clearsign <i>doc</i>
</pre>
<p>Here both the content of the original file <code><i>doc</i></code> and the signature are stored in human-readable form in <code><i>doc</i>.sig</code>.
</p>
<h4><span class="mw-headline" id="Make_a_detached_signature">Make a detached signature</span></h4>
<p>To create a separate signature file to be distributed separately from the document or file itself, use the <code>--detach-sig</code> flag:
</p>
<pre> $ gpg --output <i>doc</i>.sig --detach-sig <i>doc</i>
</pre>
<p>Here the signature is stored in <code><i>doc</i>.sig</code>, but the contents of <code><i>doc</i></code> are not stored in it. This method is often used in distributing software projects to allow users to verify that the program has not been modified by a third party.
</p>
<h3><span class="mw-headline" id="Verify_a_signature">Verify a signature</span></h3>
<p>To verify a signature use the <code>--verify</code> flag:
</p>
<pre> $ gpg --verify <i>doc</i>.sig
</pre>
<p>where <code><i>doc</i>.sig</code> is the signed file containing the signature you wish to verify.
</p>
<p>If you are verifying a detached signature, both the signed data file and the signature file must be present when verifying. For example, to verify Arch Linux's latest iso you would do:
</p>
<pre> $ gpg --verify archlinux-<i>version</i>.iso.sig
</pre>
<p>where <code>archlinux-<i>version</i>.iso</code> must be located in the same directory.
</p>
<p>You can also specify the signed data file with a second argument:
</p>
<pre> $ gpg --verify archlinux-<i>version</i>.iso.sig <i>/path/to/</i>archlinux-<i>version</i>.iso
</pre>
<p>If a file as been encrypted in addition to being signed, simply <a href="#Encrypt_and_decrypt">decrypt</a> the file and its signature will also be verified.
</p>
<h2><span class="mw-headline" id="gpg-agent">gpg-agent</span></h2>
<p><i>gpg-agent</i> is mostly used as daemon to request and cache the password for the keychain. This is useful if GnuPG is used from an external program like a mail client. <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gnupg">gnupg</a></span> comes with <a href="../en/Systemd/User.html" title="Systemd/User">systemd user</a> sockets which are enabled by default. These sockets are <code>gpg-agent.socket</code>, <code>gpg-agent-extra.socket</code>, <code>gpg-agent-browser.socket</code>, <code>gpg-agent-ssh.socket</code>, and <code>dirmngr.socket</code>.
</p>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a><b>This article or section needs expansion.</b><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Add <code>gpg-agent-browser.socket</code> to the list. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:GnuPG_(%E6%AD%A3%E9%AB%94%E4%B8%AD%E6%96%87)">Talk:GnuPG (正體中文)#</a>)</div>
</div>
<ul>
<li>The main <code>gpg-agent.socket</code> is used by <i>gpg</i> to connect to the <i>gpg-agent</i> daemon.</li>
<li>The intended use for the <code>gpg-agent-extra.socket</code> on a local system is to set up a Unix domain socket forwarding from a remote system. This enables to use <i>gpg</i> on the remote system without exposing the private keys to the remote system. See <span class="plainlinks archwiki-template-man" title="$ man 1 gpg-agent"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/gpg-agent.1">gpg-agent(1)</a></span> for details.</li>
<li>The <code>gpg-agent-ssh.socket</code> can be used by <a href="../en/Secure_Shell.html" class="mw-redirect" title="SSH">SSH</a> to cache <a href="../en/SSH_keys.html" title="SSH keys">SSH keys</a> added by the <i>ssh-add</i> program. See <a href="#SSH_agent">#SSH agent</a> for the necessary configuration.</li>
<li>The <code>dirmngr.socket</code> starts a GnuPG daemon handling connections to keyservers.</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> If you use non-default GnuPG <a href="#Directory_location">#Directory location</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup>, you will need to <a href="../en/Systemd.html#Editing_provided_units" class="mw-redirect" title="Edit">edit</a> all socket files to use the path in the socket directory that <code>gpgconf --create-socketdir</code> creates.</div>
<h3><span class="mw-headline" id="Configuration">Configuration</span></h3>
<p>gpg-agent can be configured via <code>~/.gnupg/gpg-agent.conf</code> file. The configuration options are listed in <span class="plainlinks archwiki-template-man" title="$ man 1 gpg-agent"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/gpg-agent.1">gpg-agent(1)</a></span>. For example you can change cache ttl for unused keys:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.gnupg/gpg-agent.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">default-cache-ttl 3600
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> To cache your passphrase for the whole session, please run the following command:
<pre>$ /usr/lib/gnupg/gpg-preset-passphrase --preset XXXXXX
</pre>
<p>where XXXX is the keygrip. You can get its value when running <code>gpg --with-keygrip -K</code>. Passphrase will be stored until <code>gpg-agent</code> is restarted. If you set up <code>default-cache-ttl</code> value, it will take precedence.
</p>
</div>
<h3><span class="mw-headline" id="Reload_the_agent">Reload the agent</span></h3>
<p>After changing the configuration, reload the agent using <i>gpg-connect-agent</i>:
</p>
<pre>$ gpg-connect-agent reloadagent /bye
</pre>
<p>The command should print <code>OK</code>.
</p>
<p>However in some cases only the restart may not be sufficient, like when <code>keep-screen</code> has been added to the agent configuration.
In this case you firstly need to kill the ongoing gpg-agent process and then you can restart it as was explained above.
</p>
<h3><span class="mw-headline" id="pinentry">pinentry</span></h3>
<p>Finally, the agent needs to know how to ask the user for the password. This can be set in the gpg-agent configuration file.
</p>
<p>The default uses a gtk dialog. There are other options - see <code>info pinentry</code>. To change the dialog implementation set <code>pinentry-program</code> configuration option:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.gnupg/gpg-agent.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">

# PIN entry program
# pinentry-program /usr/bin/pinentry-curses
# pinentry-program /usr/bin/pinentry-qt
# pinentry-program /usr/bin/pinentry-kwallet

pinentry-program /usr/bin/pinentry-gtk-2
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> For using <code>/usr/bin/pinentry-kwallet</code> you have to install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/kwalletcli/">kwalletcli</a></span><sup><small>AUR</small></sup> package.</div>
<p>After making this change, reload the gpg-agent.
</p>
<h3><span class="mw-headline" id="Unattended_passphrase">Unattended passphrase</span></h3>
<p>Starting with GnuPG 2.1.0 the use of gpg-agent and pinentry is required, which may break backwards compatibility for passphrases piped in from STDIN using the <code>--passphrase-fd 0</code> commandline option. In order to have the same type of functionality as the older releases two things must be done:
</p>
<p>First, edit the gpg-agent configuration to allow <i>loopback</i> pinentry mode:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.gnupg/gpg-agent.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">allow-loopback-pinentry</pre>
<p>Restart the gpg-agent process if it is running to let the change take effect.
</p>
<p>Second, either the application needs to be updated to include a commandline parameter to use loopback mode like so:
</p>
<pre>$ gpg --pinentry-mode loopback ...
</pre>
<p>...or if this is not possible, add the option to the configuration:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.gnupg/gpg.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">pinentry-mode loopback</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> The upstream author indicates setting <code>pinentry-mode loopback</code> in <code>gpg.conf</code> may break other usage, using the commandline option should be preferred if at all possible. <a rel="nofollow" class="external autonumber" href="https://bugs.g10code.com/gnupg/issue1772">[3]</a><sup title="Last check status: SSL error">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2020-08-02 ⓘ]</sup>
</div>
<h3><span class="mw-headline" id="SSH_agent">SSH agent</span></h3>
<p><i>gpg-agent</i> has OpenSSH agent emulation. If you already use the GnuPG suite, you might consider using its agent to also cache your <a href="../en/SSH_keys.html" title="SSH keys">SSH keys</a>.  Additionally, some users may prefer the PIN entry dialog GnuPG agent provides as part of its passphrase management.
</p>
<p>To start using GnuPG agent for your SSH keys, enable SSH support in the <code>~/.gnupg/gpg-agent.conf</code> file:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.gnupg/gpg-agent.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">enable-ssh-support
</pre>
<p>Then set <code>SSH_AUTH_SOCK</code> so that SSH will use <i>gpg-agent</i> instead of <i>ssh-agent</i>. To make sure each process can find your <i>gpg-agent</i> instance regardless of e.g. the type of shell it is child of use <a href="../en/Environment_variables.html#Using_pam_env" title="Environment variables">pam_env</a>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.pam_environment</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">SSH_AGENT_PID	DEFAULT=
SSH_AUTH_SOCK	DEFAULT="${XDG_RUNTIME_DIR}/gnupg/S.gpg-agent.ssh"</pre>
<p>Alternatively, depend on Bash:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.bashrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># Set SSH to use gpg-agent
unset SSH_AGENT_PID
if [ "${gnupg_SSH_AUTH_SOCK_by:-0}" -ne $$ ]; then
  export SSH_AUTH_SOCK="/run/user/$UID/gnupg/S.gpg-agent.ssh"
fi
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 
<ul>
<li>If you use non-default GnuPG <a href="#Directory_location">#Directory location</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup>, run <code>gpgconf --create-socketdir</code> to create a socket directory under <code>/run/user/$UID/gnupg/</code>. Otherwise the socket will be placed in the GnuPG home directory.</li>
<li>The test involving the <code>gnupg_SSH_AUTH_SOCK_by</code> variable is for the case where the agent is started as <code>gpg-agent --daemon /bin/sh</code>, in which case the shell inherits the <code>SSH_AUTH_SOCK</code> variable from the parent, <i>gpg-agent</i> <a rel="nofollow" class="external autonumber" href="http://git.gnupg.org/cgi-bin/gitweb.cgi?p=gnupg.git;a=blob;f=agent/gpg-agent.c;hb=7bca3be65e510eda40572327b87922834ebe07eb#l1307">[4]</a>.</li>
</ul>
</div>
<p>Also set the GPG_TTY and refresh the TTY in case user has switched into an X session as stated in <span class="plainlinks archwiki-template-man" title="$ man 1 gpg-agent"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/gpg-agent.1">gpg-agent(1)</a></span>. For example:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.bashrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"># Set GPG TTY
export GPG_TTY=$(tty)

# Refresh gpg-agent tty in case user switches into an X session
gpg-connect-agent updatestartuptty /bye &gt;/dev/null
</pre>
<p>Once <i>gpg-agent</i> is running you can use <i>ssh-add</i> to approve keys, following the same steps as for <a href="../en/SSH_keys.html#ssh-agent" title="SSH keys">ssh-agent</a>. The list of approved keys is stored in the <code>~/.gnupg/sshcontrol</code> file. Once your key is approved, you will get a <i>pinentry</i> dialog every time your passphrase is needed. You can control passphrase caching in the <code>~/.gnupg/gpg-agent.conf</code> file. The following example would have <i>gpg-agent</i> cache your keys for 3 hours:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.gnupg/gpg-agent.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">default-cache-ttl-ssh 10800
max-cache-ttl-ssh 10800
</pre>
<h2><span class="mw-headline" id="Smartcards">Smartcards</span></h2>
<p>GnuPG uses <i>scdaemon</i> as an interface to your smartcard reader, please refer to the <a href="../en/Man_page.html" title="Man page">man page</a> for details.
</p>
<h3><span class="mw-headline" id="GnuPG_only_setups">GnuPG only setups</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong>  To allow scdaemon direct access to USB smarcard readers the optional dependency <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libusb-compat">libusb-compat</a></span> have to be installed</div>
<p>If you do not plan to use other cards but those based on GnuPG, you should check the <code>reader-port</code> parameter in <code>~/.gnupg/scdaemon.conf</code>. The value '0' refers to the first available serial port reader and a value of '32768' (default) refers to the first USB reader.
</p>
<h3>
<span id="GnuPG_with_pcscd_.28PCSC_Lite.29"></span><span class="mw-headline" id="GnuPG_with_pcscd_(PCSC_Lite)">GnuPG with pcscd (PCSC Lite)</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pcsclite">pcsclite</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ccid">ccid</a></span> have to be installed, and the contained <a href="../en/Systemd.html#Using_units" title="Systemd">systemd</a> service <code>pcscd.service</code> has to be running, or the socket <code>pcscd.socket</code> has to be listening.</div>
<p>pcscd is a daemon which handles access to smartcard (SCard API). If GnuPG's scdaemon fails to connect the smartcard directly (e.g. by using its integrated CCID support), it will fallback and try to find a smartcard using the PCSC Lite driver.
</p>
<h4><span class="mw-headline" id="Always_use_pcscd">Always use pcscd</span></h4>
<p>If you are using any smartcard with an opensc driver (e.g.: ID cards from some countries) you should pay some attention to GnuPG configuration. Out of the box you might receive a message like this when using <code>gpg --card-status</code>
</p>
<pre>gpg: selecting openpgp failed: ec=6.108
</pre>
<p>By default, scdaemon will try to connect directly to the device. This connection will fail if the reader is being used by another process. For example: the pcscd daemon used by OpenSC. To cope with this situation we should use the same underlying driver as opensc so they can work well together. In order to point scdaemon to use pcscd you should remove <code>reader-port</code> from <code>~/.gnupg/scdaemon.conf</code>, specify the location to <code>libpcsclite.so</code> library and disable ccid so we make sure that we use pcscd:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.gnupg/scdaemon.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">pcsc-driver /usr/lib/libpcsclite.so
card-timeout 5
disable-ccid
</pre>
<p>Please check <span class="plainlinks archwiki-template-man" title="$ man 1 scdaemon"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/scdaemon.1">scdaemon(1)</a></span> if you do not use OpenSC.
</p>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3><span class="mw-headline" id="Different_algorithm">Different algorithm</span></h3>
<p>You may want to use stronger algorithms:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.gnupg/gpg.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...

personal-digest-preferences SHA512
cert-digest-algo SHA512
default-preference-list SHA512 SHA384 SHA256 SHA224 AES256 AES192 AES CAST5 ZLIB BZIP2 ZIP Uncompressed
personal-cipher-preferences TWOFISH CAMELLIA256 AES 3DES
</pre>
<p>In the latest version of GnuPG, the default algorithms used are SHA256 and AES, both of which are secure enough for most people. However, if you are using a version of GnuPG older than 2.1, or if you want an even higher level of security, then you should follow the above step.
</p>
<h3><span class="mw-headline" id="Encrypt_a_password">Encrypt a password</span></h3>
<p>It can be useful to encrypt some password, so it will not be written in clear on a configuration file. A good example is your email password.
</p>
<p>First create a file with your password. You <b>need</b> to leave <b>one</b> empty line after the password, otherwise gpg will return an error message when evaluating the file.
</p>
<p>Then run:
</p>
<pre>$ gpg -e -a -r <i>&lt;user-id&gt;</i> <i>your_password_file</i>
</pre>
<p><code>-e</code> is for encrypt, <code>-a</code> for armor (ASCII output), <code>-r</code> for recipient user ID.
</p>
<p>You will be left with a new <code><i>your_password_file</i>.asc</code> file.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> <a href="../en/Pass.html" title="Pass">pass</a> automates this process.</div>
<h3><span class="mw-headline" id="Revoking_a_key">Revoking a key</span></h3>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> 
<ul>
<li>Anybody having access to your revocation certificate can revoke your key, rendering it useless.</li>
<li>Key revocation should only be performed if your key is compromised or lost, or you forget your passphrase.</li>
</ul>
</div>
<p>Revocation certificates are automatically generated for newly generated keys, although one can be generated manually by the user later. These are located at <code>~/.gnupg/openpgp-revocs.d/</code>. The filename of the certificate is the fingerprint of the key it will revoke.
</p>
<p>To revoke your key, simply import the revocation certificate:
</p>
<pre>$ gpg --import <i>&lt;fingerprint&gt;</i>.rev
</pre>
<p>Now update the keyserver:
</p>
<pre>$ gpg --keyserver subkeys.pgp.net --send-keys <i>&lt;userid&gt;</i>
</pre>
<h3><span class="mw-headline" id="Change_trust_model">Change trust model</span></h3>
<p>By default GnuPG uses the <a href="https://en.wikipedia.org/wiki/Web_of_Trust" class="extiw" title="wikipedia:Web of Trust">Web of Trust</a> as the trust model. You can change this to <a href="https://en.wikipedia.org/wiki/Trust_on_first_use" class="extiw" title="wikipedia:Trust on first use">Trust on first use</a> by adding <code>--trust-model=tofu</code> when adding a key or adding this option to your GnuPG configuration file. More details are in <a rel="nofollow" class="external text" href="https://lists.gnupg.org/pipermail/gnupg-devel/2015-October/030341.html">this email to the GnuPG list</a>.
</p>
<h3>
<span id="Hide_all_recipient_id.27s"></span><span class="mw-headline" id="Hide_all_recipient_id's">Hide all recipient id's</span>
</h3>
<p>By default the recipient's key ID is in the encrypted message. This can be removed at encryption time for a recipient by using <code>hidden-recipient <i>&lt;user-id&gt;</i></code>. To remove it for all recipients add <code>throw-keyids</code> to your configuration file. This helps to hide the receivers of the message and is a limited countermeasure against traffic analysis. (Using a little social engineering anyone who is able to decrypt the message can check whether one of the other recipients is the one he suspects.)  On the receiving side, it may slow down the decryption process because all available secret keys must be tried (<i>e.g.</i> with <code>--try-secret-key <i>&lt;user-id&gt;</i></code>).
</p>
<h3><span class="mw-headline" id="Using_caff_for_keysigning_parties">Using caff for keysigning parties</span></h3>
<p>To allow users to validate keys on the keyservers and in their keyrings (i.e. make sure they are from whom they claim to be), PGP/GPG uses the <a href="https://en.wikipedia.org/wiki/Web_of_Trust" class="extiw" title="wikipedia:Web of Trust">Web of Trust</a>. Keysigning parties allow users to get together at a physical location to validate keys. The <a href="https://en.wikipedia.org/wiki/Zimmermann%E2%80%93Sassaman_key-signing_protocol" class="extiw" title="wikipedia:Zimmermann–Sassaman key-signing protocol">Zimmermann-Sassaman</a> key-signing protocol is a way of making these very effective. <a rel="nofollow" class="external text" href="http://www.cryptnet.net/fdp/crypto/keysigning_party/en/keysigning_party.html">Here</a> you will find a how-to article.
</p>
<p>For an easier process of signing keys and sending signatures to the owners after a keysigning party, you can use the tool <i>caff</i>. It can be installed from the AUR with the package <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/caff-svn/">caff-svn</a></span><sup><small>AUR</small></sup>.
</p>
<p>To send the signatures to their owners you need a working <a href="https://en.wikipedia.org/wiki/Message_transfer_agent" class="extiw" title="wikipedia:Message transfer agent">MTA</a>. If you do not have already one, install <a href="../en/Msmtp.html" title="Msmtp">msmtp</a>.
</p>
<h3>
<span id="Always_show_long_ID.27s_and_fingerprints"></span><span class="mw-headline" id="Always_show_long_ID's_and_fingerprints">Always show long ID's and fingerprints</span>
</h3>
<p>To always show long key ID's add <code>keyid-format 0xlong</code> to your configuration file. To always show full fingerprints of keys, add <code>with-fingerprint</code> to your configuration file.
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Not_enough_random_bytes_available">Not enough random bytes available</span></h3>
<p>When generating a key, gpg can run into this error:
</p>
<pre>Not enough random bytes available. Please do some other work to give the OS a chance to collect more entropy!
</pre>
<p>To check the available entropy, check the kernel parameters:
</p>
<pre>cat /proc/sys/kernel/random/entropy_avail
</pre>
<p>A healthy Linux system with a lot of entropy available will have return close to the full 4,096 bits of entropy. If the value returned is less than 200, the system is running low on entropy. 
</p>
<p>To solve it, remember you do not often need to create keys and best just do what the message suggests (e.g. create disk activity, move the mouse, edit the wiki - all will create entropy). If that does not help, check which service is using up the entropy and consider stopping it for the time. If that is no alternative, see <a href="../en/Random_number_generation.html#Alternatives" title="Random number generation">Random number generation#Alternatives</a>.
</p>
<h3><span class="mw-headline" id="su">su</span></h3>
<p>When using <code>pinentry</code>, you must have the proper permissions of the terminal device (e.g. <code>/dev/tty1</code>) in use. However, with <i>su</i> (or <i>sudo</i>), the ownership stays with the original user, not the new one. This means that pinentry will fail, even as root. The fix is to change the permissions of the device at some point before the use of pinentry (i.e. using gpg with an agent). If doing gpg as root, simply change the ownership to root right before using gpg:
</p>
<pre># chown root /dev/ttyN  # where N is the current tty
</pre>
<p>and then change it back after using gpg the first time. The equivalent is likely to be true with <code>/dev/pts/</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> The owner of tty <i>must</i> match with the user for which pinentry is running. Being part of the group <code>tty</code> <b>is not</b> enough.</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> If you run gpg with <code>script</code> it will use a new tty with the correct ownership:
<pre># script -q -c "gpg --gen-key" /dev/null
</pre>
</div>
<h3><span class="mw-headline" id="Agent_complains_end_of_file">Agent complains end of file</span></h3>
<p>The default pinentry program is pinentry-gtk-2, which needs a DBus session bus to run properly. See <a href="../en/General_troubleshooting.html#Session_permissions" title="General troubleshooting">General troubleshooting#Session permissions</a> for details.
</p>
<p>Alternatively, you can use <code>pinentry-qt</code>. See <a href="#pinentry">#pinentry</a>.
</p>
<h3><span class="mw-headline" id="KGpg_configuration_permissions">KGpg configuration permissions</span></h3>
<p>There have been issues with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=kgpg">kgpg</a></span> being able to access the <code>~/.gnupg/</code> options. One issue might be a result of a deprecated <i>options</i> file, see the <a rel="nofollow" class="external text" href="https://bugs.kde.org/show_bug.cgi?id=290221">bug</a> report.
</p>
<h3><span class="mw-headline" id="GNOME_on_Wayland_overrides_SSH_agent_socket">GNOME on Wayland overrides SSH agent socket</span></h3>
<p>For Wayland sessions, <code>gnome-session</code> sets <code>SSH_AUTH_SOCK</code> to the standard gnome-keyring socket, <code>$XDG_RUNTIME_DIR/keyring/ssh</code>. This overrides any value set in <code>~/.pam_environmment</code> or systemd unit files.
</p>
<p>To disable this behavior, set the <code>GSM_SKIP_AGENT_WORKAROUND</code> variable:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.pam_environment</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">SSH_AGENT_PID	DEFAULT=
SSH_AUTH_SOCK	DEFAULT="${XDG_RUNTIME_DIR}/gnupg/S.gpg-agent.ssh"
GSM_SKIP_SSH_AGENT_WORKAROUND	DEFAULT="true"</pre>
<h3><span class="mw-headline" id="mutt_and_gpg">mutt and gpg</span></h3>
<p>To be asked for your GnuPG password only once per session, see <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=1490821#p1490821">this forum thread</a>.
</p>
<h3>
<span id=".22Lost.22_keys.2C_upgrading_to_gnupg_version_2.1"></span><span class="mw-headline" id='"Lost"_keys,_upgrading_to_gnupg_version_2.1'>"Lost" keys, upgrading to gnupg version 2.1</span>
</h3>
<p>When <code>gpg --list-keys</code> fails to show keys that used to be there, and applications complain about missing or invalid keys, some keys may not have been migrated to the new format.
</p>
<p>Please read <a rel="nofollow" class="external text" href="http://jo-ke.name/wp/?p=111">GnuPG invalid packet workaround</a><sup title="Last check status: domain name not resolved">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2020-08-02 ⓘ]</sup>. Basically, it says that there is a bug with keys in the old <code>pubring.gpg</code> and <code>secring.gpg</code> files, which have now been superseded by the new <code>pubring.kbx</code> file and the <code>private-keys-v1.d/</code> subdirectory and files.  Your missing keys can be recovered with the following commnads:
</p>
<pre>$ cd
$ cp -r .gnupg gnupgOLD
$ gpg --export-ownertrust &gt; otrust.txt
$ gpg --import .gnupg/pubring.gpg
$ gpg --import-ownertrust otrust.txt
$ gpg --list-keys
</pre>
<h3>
<span id="gpg_hanged_for_all_keyservers_.28when_trying_to_receive_keys.29"></span><span class="mw-headline" id="gpg_hanged_for_all_keyservers_(when_trying_to_receive_keys)">gpg hanged for all keyservers (when trying to receive keys)</span>
</h3>
<p>If gpg hanged with a certain keyserver when trying to receive keys, you might need to kill dirmngr in order to get access to other keyservers which are actually working, otherwise it might keeping hanging for all of them.
</p>
<h3><span class="mw-headline" id="Smartcard_not_detected">Smartcard not detected</span></h3>
<p>Your user might not have the permission to access the smartcard which results in a <code>card error</code> to be thrown, even though the card is correctly set up and inserted.
</p>
<p>One possible solution is to add a new group <code>scard</code> including the users who need access to the smartcard.
</p>
<p>Then use an <a href="../en/Udev.html#Writing_udev_rules" title="Udev">udev</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup> rule, similar to the following:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/71-gnupg-ccid.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">ACTION=="add", SUBSYSTEM=="usb", ENV{ID_VENDOR_ID}=="1050", ENV{ID_MODEL_ID}=="0116|0111", MODE="660", GROUP="scard"
</pre>
<p>One needs to adapt VENDOR and MODEL according to the <code>lsusb</code> output, the above example is for a YubikeyNEO.
</p>
<h3>
<span id="gpg:_WARNING:_server_.27gpg-agent.27_is_older_than_us_.28x_.3C_y.29"></span><span class="mw-headline" id="gpg:_WARNING:_server_'gpg-agent'_is_older_than_us_(x_&lt;_y)">gpg: WARNING: server 'gpg-agent' is older than us (x &lt; y)</span>
</h3>
<p>This warning appears if <code>gnupg</code> is upgraded and the old gpg-agent is still running. <a href="../en/Systemd.html#Using_units" class="mw-redirect" title="Restart">Restart</a> the <i>user'</i>s <code>gpg-agent.socket</code> (i.e., use the <code>--user</code> flag when restarting).
</p>
<h3>
<span id="gpg:_....2C_IPC_connect_call_failed"></span><span class="mw-headline" id="gpg:_...,_IPC_connect_call_failed">gpg: ..., IPC connect call failed</span>
</h3>
<p>Make sure <code>gpg-agent</code> and <code>dirmngr</code> are not running with <code>killall gpg-agent dirmngr</code> and the <code>$GNUPGHOME/crls.d/</code> folder has permission set to <code>700</code>. 
</p>
<p>If your keyring is stored on a vFat filesystem (e.g. a USB drive), <code>gpg-agent</code> will fail to create the required sockets (vFat does not support sockets), you can create redirects to a location that handles sockets, e.g. <code>/dev/shm</code>:
</p>
<pre># export GNUPGHOME=/custom/gpg/home                                                                
# printf '%%Assuan%%\nsocket=/dev/shm/S.gpg-agent\n' &gt; $GNUPGHOME/S.gpg-agent                      
# printf '%%Assuan%%\nsocket=/dev/shm/S.gpg-agent.browser\n' &gt; $GNUPGHOME/S.gpg-agent.browser      
# printf '%%Assuan%%\nsocket=/dev/shm/S.gpg-agent.extra\n' &gt; $GNUPGHOME/S.gpg-agent.extra          
# printf '%%Assuan%%\nsocket=/dev/shm/S.gpg-agent.ssh\n' &gt; $GNUPGHOME/S.gpg-agent.ssh              
</pre>
<p>Test that gpg-agent starts successfully with <code>gpg-agent --daemon</code>.
</p>
<h3>
<span id="Error:_.5Bkey.5D_could_not_be_locally_signed_or_gpg:_No_default_secret_key:_No_public_key"></span><span class="mw-headline" id="Error:_[key]_could_not_be_locally_signed_or_gpg:_No_default_secret_key:_No_public_key">Error: [key] could not be locally signed or gpg: No default secret key: No public key</span>
</h3>
<p>Occurs when attempting to sign keys on a non-standard keyring while a yubikey is plugged in, e.g. as <a href="../en/Pacman/Package_signing.html" title="Pacman/Package signing">Pacman</a> does in <code>pacman-key --populate archlinux</code>. The solution is to remove the offending yubikey and start over.
</p>
<h2>
<span id=".E5.8F.83.E8.80.83.E6.96.87.E4.BB.B6"></span><span class="mw-headline" id="參考文件">參考文件</span>
</h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://gnupg.org/">GNU Privacy Guard Homepage</a></li>
<li><a rel="nofollow" class="external text" href="https://tools.ietf.org/html/rfc4880">RFC4880 "OpenPGP Message Format"</a></li>
<li><a rel="nofollow" class="external text" href="https://fedoraproject.org/wiki/Creating_GPG_Keys">Creating GPG Keys (Fedora)</a></li>
<li><a rel="nofollow" class="external text" href="https://wiki.debian.org/Subkeys">OpenPGP subkeys in Debian</a></li>
<li><a rel="nofollow" class="external text" href="https://sanctum.geek.nz/arabesque/series/gnu-linux-crypto/">A more comprehensive gpg Tutorial</a></li>
<li><a rel="nofollow" class="external text" href="https://help.riseup.net/en/security/message-security/openpgp/gpg-best-practices">gpg.conf recommendations and best practices</a></li>
<li><a rel="nofollow" class="external text" href="https://github.com/ioerror/torbirdy/blob/master/gpg.conf">Torbirdy gpg.conf</a></li>
<li><a rel="nofollow" class="external text" href="https://www.reddit.com/r/GPGpractice/">/r/GPGpractice - a subreddit to practice using GnuPG.</a></li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../zh-TW/Category:Encryption.html" title="Category:Encryption (正體中文)">Encryption (正體中文)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_with_broken_section_links.html" title="Category:Pages with broken section links">Pages with broken section links</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li>
<li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=GnuPG_(%E6%AD%A3%E9%AB%94%E4%B8%AD%E6%96%87)&amp;oldid=642109">https://wiki.archlinux.org/index.php?title=GnuPG_(正體中文)&amp;oldid=642109</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 22 November 2020, at 10:44.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
