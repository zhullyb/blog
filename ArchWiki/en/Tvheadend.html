<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Tvheadend - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Tvheadend rootpage-Tvheadend skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Tvheadend</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<p><a rel="nofollow" class="external text" href="https://tvheadend.org/">Tvheadend</a> is a TV streaming server and recorder. Tvheadend supports DVB-S/S2, DVB-C/C2, DVB-T, ATSC, ISDB-T, IPTV, SAT&gt;IP and HDHomeRun as input sources.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Installation"><span class="tocnumber">1</span> <span class="toctext">Installation</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#HDHomeRun"><span class="tocnumber">1.1</span> <span class="toctext">HDHomeRun</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Playback_Clients"><span class="tocnumber">1.2</span> <span class="toctext">Playback Clients</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4"><a href="#Usage"><span class="tocnumber">2</span> <span class="toctext">Usage</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Configuration"><span class="tocnumber">3</span> <span class="toctext">Configuration</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#XMLTV"><span class="tocnumber">4</span> <span class="toctext">XMLTV</span></a></li>
<li class="toclevel-1 tocsection-7">
<a href="#Tips_and_tricks"><span class="tocnumber">5</span> <span class="toctext">Tips and tricks</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#Create_M3U_compatible_playlist_file"><span class="tocnumber">5.1</span> <span class="toctext">Create M3U compatible playlist file</span></a></li>
<li class="toclevel-2 tocsection-9">
<a href="#Use_hardware_video_acceleration"><span class="tocnumber">5.2</span> <span class="toctext">Use hardware video acceleration</span></a>
<ul>
<li class="toclevel-3 tocsection-10"><a href="#Enable_VA-API_support_transcoding"><span class="tocnumber">5.2.1</span> <span class="toctext">Enable VA-API support transcoding</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-11"><a href="#Use_CAPMT_(Linux_Network_DVBAPI)_with_OSCam"><span class="tocnumber">5.3</span> <span class="toctext">Use CAPMT (Linux Network DVBAPI) with OSCam</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-12">
<a href="#Troubleshooting"><span class="tocnumber">6</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-13"><a href="#Unable_to_authenticate/play_stream"><span class="tocnumber">6.1</span> <span class="toctext">Unable to authenticate/play stream</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#DVB-T2_HD_in_Germany"><span class="tocnumber">6.2</span> <span class="toctext">DVB-T2 HD in Germany</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>Tvheadend is available from the <a href="../en/Arch_User_Repository.html" class="mw-redirect" title="AUR">AUR</a> as <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/tvheadend/">tvheadend</a></span><sup><small>AUR</small></sup> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/tvheadend-git/">tvheadend-git</a></span><sup><small>AUR</small></sup> (development branch).
</p>
<h3><span class="mw-headline" id="HDHomeRun">HDHomeRun</span></h3>
<p>HDHomeRun support should be working out-of-the-box in the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/tvheadend-git/">tvheadend-git</a></span><sup><small>AUR</small></sup> package.
</p>
<p>The <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/tvheadend/">tvheadend</a></span><sup><small>AUR</small></sup> package does not have HDHomeRun support enabled. To enable you will need to edit the <a href="../en/PKGBUILD.html" title="PKGBUILD">PKGBUILD</a> and add <code>libhdhomerun</code> (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/libhdhomerun/">libhdhomerun</a></span><sup><small>AUR</small></sup>) to the <a href="../en/PKGBUILD.html#depends" title="PKGBUILD">depends</a> list. Finally, add <code>--enable-hdhomerun_client</code> in the <i>configure array</i>.
</p>
<h3><span class="mw-headline" id="Playback_Clients">Playback Clients</span></h3>
<ul><li>
<a href="../en/Kodi.html" title="Kodi">Kodi</a> — <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/kodi-addon-hts-pvrmanager/">kodi-addon-hts-pvrmanager</a></span><sup><small>AUR</small></sup>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/kodi-addon-pvr-hts/">kodi-addon-pvr-hts</a></span><sup><small>AUR</small></sup> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/kodi-addon-pvr-hts-git/">kodi-addon-pvr-hts-git</a></span><sup><small>AUR</small></sup>
</li></ul>
<h2><span class="mw-headline" id="Usage">Usage</span></h2>
<p>Once Tvheadend is installed <a href="../en/Systemd.html#Using_units" class="mw-redirect" title="Start">start</a>/<a href="../en/Systemd.html#Using_units" class="mw-redirect" title="Enable">enable</a> the <code>tvheadend.service</code>.
</p>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<p>Once the service is running, configuration of Tvheadend is done through a web interface on <a rel="nofollow" class="external text" href="http://localhost:9981">localhost:9981</a>.
</p>
<p>The service should automatically generate Tvheadend username and passwords that are the same as your system. You can log in as root with your system's root password. If Tvheadend is unable to generate an username/password, one should simple login <b>without</b> providing credentials or by adding the <code>-C</code> argument to the Tvheadend start command.
</p>
<h2><span class="mw-headline" id="XMLTV">XMLTV</span></h2>
<p>If you want to obtain schedule data from an outside source like Schedules Direct, then you should also install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xmltv/">xmltv</a></span><sup><small>AUR</small></sup>.
</p>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3><span class="mw-headline" id="Create_M3U_compatible_playlist_file">Create M3U compatible playlist file</span></h3>
<p>To export all channels as a M3U playlist file, one may want to use the following URL <a rel="nofollow" class="external autonumber" href="https://tvheadend.org/boards/5/topics/21366">[1]</a>:
</p>
<pre>http://&lt;user&gt;:&lt;pass&gt;@&lt;ip&gt;:9981/playlist/channels.m3u?profile=&lt;profile&gt;
</pre>
<h3><span class="mw-headline" id="Use_hardware_video_acceleration">Use hardware video acceleration</span></h3>
<p>When using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/tvheadend-git/">tvheadend-git</a></span><sup><small>AUR</small></sup> it is possible to enable <a href="../en/Hardware_video_acceleration.html" title="Hardware video acceleration">hardware video acceleration</a>.
</p>
<p>Support depends on selected the codec and capabilities of the video device in use.
</p>
<p>To enable hardware acceleration, check <i>Hardware acceleration</i> for a codec profile on the <i>Codec Profiles</i> page.
</p>
<h4><span class="mw-headline" id="Enable_VA-API_support_transcoding">Enable VA-API support transcoding</span></h4>
<p>It is possible to use <a href="../en/Hardware_video_acceleration.html" class="mw-redirect" title="VA-API">VA-API</a> for transcoding streams when using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/tvheadend-git/">tvheadend-git</a></span><sup><small>AUR</small></sup>, support depends on capabilities of the video device and the selected codec.
</p>
<p>To enable VA-API create a new <i>Codec Profile</i> and select a codec with <i>VAAPI</i> on the <i>Codec Profiles</i> page. On the next screen check <i>Hardware acceleration</i>, select the correct <i>Device Name</i>, e.g. <code>i915 v1.6.0 (/dev/dri/renderD128)</code> and click on <i>Create</i>.
</p>
<p>Finally, create a <i>Stream Profile</i> and select the previously created <i>Codec Profile</i> as <i>Video codec profile</i>. The <i>Audio codec profile</i> and <i>Subtitle codec profile</i> depend on the user preferences and as stated support by the video device.
</p>
<p>To test the newly created profile, you may want to use the following URL:
</p>
<pre>http://&lt;user&gt;:&lt;pass&gt;@&lt;ip&gt;:9981/stream/channelnumber/&lt;channel&gt;?profile=&lt;stream-profile&gt;
</pre>
<p>Use <a href="../en/Systemd/Journal.html" class="mw-redirect" title="Journalctl">journalctl</a> to check for Tvheadend debug info. The error <i>tvheadend[..]: transcode: no AVHWAccel</i> indicates the stream profile doesn't use hardware acceleration and one should adjust the codec configuration.
</p>
<h3>
<span id="Use_CAPMT_.28Linux_Network_DVBAPI.29_with_OSCam"></span><span class="mw-headline" id="Use_CAPMT_(Linux_Network_DVBAPI)_with_OSCam">Use CAPMT (Linux Network DVBAPI) with OSCam</span>
</h3>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/oscam-git/">oscam-git</a></span><sup><small>AUR</small></sup> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/oscam-svn/">oscam-svn</a></span><sup><small>AUR</small></sup> to provide a softcam for Tvheadend. See the <a rel="nofollow" class="external text" href="https://docs.tvheadend.org/webui/config_caclient/">Tvheadend docs</a> for configuration details.
</p>
<p><a href="../en/Systemd.html#Using_units" class="mw-redirect" title="Restart">Restart</a> <code>oscam.service</code> and <code>tvheadend.service</code> to apply the changes.
</p>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3>
<span id="Unable_to_authenticate.2Fplay_stream"></span><span class="mw-headline" id="Unable_to_authenticate/play_stream">Unable to authenticate/play stream</span>
</h3>
<p>Try to use <i>Matroska</i> as stream profile when unable to start playback on video players like <a href="../en/VLC_media_player.html" class="mw-redirect" title="VLC">VLC</a>.
</p>
<p>Authentication issues can occur when using <i>digest</i> as <i>Authentication type</i>.
</p>
<p>Change this to <i>Both plain and digest</i> to allow browsers/players that don't support the digest protocol.
</p>
<h3><span class="mw-headline" id="DVB-T2_HD_in_Germany">DVB-T2 HD in Germany</span></h3>
<p>The German broadcast of DVB-T2 HD is a deviation of the official standard inasmuch as it is using the more modern H.265 codec. Somehow, tvheadend doesn’t detect the channels automatically. You first need to run the configuration wizard, choose no pre-defined muxes, just <i>--Generic--: auto-Default</i>. After the search run, save and go to <i>Configuration</i>, <i>DVB Inputs</i>, <i>Muxes</i>. Select all listed muxes (might be on two pages, batch selection via shift key possible) and edit them from <i>DVB-T</i> to <i>DVB-T2</i> – you need to check the <i>Delivery system</i> checkmark in the edit dialog. Then go to <i>Network</i>, select the DVB-T entry and click <i>Force scan</i>. Observe the rescan via the <i>Muxes</i> tab as several of the former "FAIL" results become "OK". If this doesn’t happen, make sure you have the necessary firmware blob for your DVB-T2 receiver, e.g. <a rel="nofollow" class="external text" href="https://www.hauppauge.de/site/support/support_faq.php?n=FAQ.Linux">by Hauppauge</a>, manually installed first, followed by a system restart. This will get you the channels under <i>Services</i> which you can use to create an actual channel list of the unencrypted TV channels. Click on <i>"Map selected"</i>, <i>"Map selected services"</i>. Now, the channels should appear in the tab <i>"Channel / EPG"</i>,<i>"Channels"</i>. Shortly after, the EPG view should be populated in tab <i>"Electronic Program Guide"</i>.
</p>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Television.html" title="Category:Television">Television</a></li></ul>
</div></div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Tvheadend&amp;oldid=645823">https://wiki.archlinux.org/index.php?title=Tvheadend&amp;oldid=645823</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 17 December 2020, at 19:23.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
