<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Lenovo ThinkPad X1 Carbon (Gen 7) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Lenovo_ThinkPad_X1_Carbon_Gen_7 rootpage-Lenovo_ThinkPad_X1_Carbon_Gen_7 skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Lenovo ThinkPad X1 Carbon (Gen 7)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="../en/Lenovo_ThinkPad_X1_Carbon.html" title="Lenovo ThinkPad X1 Carbon">Lenovo ThinkPad X1 Carbon</a></li>
<li><a href="../en/Lenovo_ThinkPad_X1_Carbon_(Gen_2).html" title="Lenovo ThinkPad X1 Carbon (Gen 2)">Lenovo ThinkPad X1 Carbon (Gen 2)</a></li>
<li><a href="../en/Lenovo_ThinkPad_X1_Carbon_(Gen_3).html" title="Lenovo ThinkPad X1 Carbon (Gen 3)">Lenovo ThinkPad X1 Carbon (Gen 3)</a></li>
<li><a href="../en/Lenovo_ThinkPad_X1_Carbon_(Gen_4).html" title="Lenovo ThinkPad X1 Carbon (Gen 4)">Lenovo ThinkPad X1 Carbon (Gen 4)</a></li>
<li><a href="../en/Lenovo_ThinkPad_X1_Carbon_(Gen_5).html" title="Lenovo ThinkPad X1 Carbon (Gen 5)">Lenovo ThinkPad X1 Carbon (Gen 5)</a></li>
<li><a href="../en/Lenovo_ThinkPad_X1_Carbon_(Gen_6).html" title="Lenovo ThinkPad X1 Carbon (Gen 6)">Lenovo ThinkPad X1 Carbon (Gen 6)</a></li>
<li><a href="../en/Lenovo_ThinkPad_X1_Carbon_(Gen_8).html" title="Lenovo ThinkPad X1 Carbon (Gen 8)">Lenovo ThinkPad X1 Carbon (Gen 8)</a></li>
<li><a href="../en/Lenovo_ThinkPad_X1_Yoga_(Gen_3).html" title="Lenovo ThinkPad X1 Yoga (Gen 3)">Lenovo ThinkPad X1 Yoga (Gen 3)</a></li>
<li><a href="../en/Lenovo_ThinkPad_X1_Yoga_(Gen_4).html" title="Lenovo ThinkPad X1 Yoga (Gen 4)">Lenovo ThinkPad X1 Yoga (Gen 4)</a></li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong>  A great resource for thinkpads is <a rel="nofollow" class="external free" href="https://www.thinkwiki.org/wiki/ThinkWiki">https://www.thinkwiki.org/wiki/ThinkWiki</a>
</div>
<p>The Lenovo ThinkPad X1 Carbon, 7th generation is an ultrabook introduced in early 2019. It features a 14" screen, 8th-gen or 10th-gen Intel Core processors and integrated <a href="../en/Intel_graphics.html" title="Intel graphics">Intel UHD 620 graphics</a>.
</p>
<p>To ensure you have this version, <a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">install</a> the package <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dmidecode">dmidecode</a></span> and run:
</p>
<pre># dmidecode -s system-version
ThinkPad X1 Carbon 7th
</pre>
<table class="wikitable" style="float: right; clear: right; margin: 0 0 0.5em 0.5em; max-width: 420px; width: 100%;">
<tbody>
<tr>
<td><b>Device</b></td>
<td><b>Working</b></td>
<td>
<b>Modules</b>
</td>
</tr>
<tr>
<td><a href="../en/Intel_graphics.html" title="Intel graphics">Intel graphics</a></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>i915, (intel_agp)
</td>
</tr>
<tr>
<td><a href="../en/Network_configuration/Wireless.html#iwlwifi" class="mw-redirect" title="Wireless network configuration">Wireless network</a></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>iwlmvm
</td>
</tr>
<tr>
<td>Native Ethernet with <a rel="nofollow" class="external text" href="https://www.lenovo.com/us/en/accessories-and-monitors/cables-and-adapters/adapters/CABLE-BO-Ethernet-Extension-Adapter-2/p/4X90Q84427">dongle</a>
</td>
<td data-sort-value="1" style="background: #faa; color: inherit; vertical-align: middle; text-align: center;">No⁵</td>
<td>e1000e
</td>
</tr>
<tr>
<td>Mobile broadband Fibocom</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes¹</td>
<td>?
</td>
</tr>
<tr>
<td>Audio</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>snd_hda_intel
</td>
</tr>
<tr>
<td>Microphone</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes⁴</td>
<td>snd_sof
</td>
</tr>
<tr>
<td><a href="../en/Laptop.html#Touchpad" class="mw-redirect" title="Touchpad">Touchpad</a></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>psmouse, rmi_smbus, i2c_i801
</td>
</tr>
<tr>
<td><a href="../en/TrackPoint.html" title="TrackPoint">TrackPoint</a></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>psmouse, rmi_smbus, i2c_i801
</td>
</tr>
<tr>
<td>Camera</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>uvcvideo
</td>
</tr>
<tr>
<td><a href="../en/Fprint.html" title="Fprint">Fingerprint reader</a></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes²</td>
<td>?
</td>
</tr>
<tr>
<td><a href="../en/Power_management.html" title="Power management">Power management</a></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes³</td>
<td>?
</td>
</tr>
<tr>
<td><a href="../en/Bluetooth.html" title="Bluetooth">Bluetooth</a></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>btusb
</td>
</tr>
<tr>
<td>Keyboard backlight</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>thinkpad_acpi
</td>
</tr>
<tr>
<td>Function/Multimedia keys</td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes</td>
<td>?
</td>
</tr>
<tr>
<td colspan="3" style="font-size: 70%; border: none;"><ol>
<li>The Fibocom LTE module has Linux support once switched to USB mode; see <a rel="nofollow" class="external autonumber" href="https://forums.lenovo.com/t5/Other-Linux-Discussions/How-To-Configure-X1-Carbon-Gen-7-on-Debian-FingerPrint-4G-Modem/td-p/4550327">[1]</a> and <a rel="nofollow" class="external autonumber" href="https://github.com/abrasive/xmm7360">[2]</a>
</li>
<li>An official driver has been released on <a href="../en/Fwupd.html" title="Fwupd">fwupd</a>.</li>
<li>S3 suspend requires changes to BIOS settings, see section on <a href="#Sleep/Suspend">#Sleep/Suspend</a>.</li>
<li>The internal microphone doesn't work on versions of the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux">linux</a></span> kernel before 5.3. On version 5.3 and newer the SOF firmware can be enabled, see <a href="../en/Talk:Lenovo_ThinkPad_X1_Carbon_(Gen_7).html#Microphone" title="Talk:Lenovo ThinkPad X1 Carbon (Gen 7)">Talk#Microphone</a>.</li>
<li>The built-in ethernet adapter <a rel="nofollow" class="external text" href="https://forums.lenovo.com/t5/Other-Linux-Discussions/Lenovo-Ethernet-dongles-stop-working-after-recent-Linux-updates/m-p/4536718">no longer works</a>, approximately since kernel 5.0.</li>
</ol></td>
</tr>
</tbody>
</table>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#BIOS"><span class="tocnumber">1</span> <span class="toctext">BIOS</span></a>
<ul>
<li class="toclevel-2 tocsection-2">
<a href="#Updates"><span class="tocnumber">1.1</span> <span class="toctext">Updates</span></a>
<ul>
<li class="toclevel-3 tocsection-3"><a href="#Automatic_(Linux_Vendor_Firmware_Service)"><span class="tocnumber">1.1.1</span> <span class="toctext">Automatic (Linux Vendor Firmware Service)</span></a></li>
<li class="toclevel-3 tocsection-4"><a href="#Manual_(fwupdmgr)"><span class="tocnumber">1.1.2</span> <span class="toctext">Manual (fwupdmgr)</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-5"><a href="#Sleep/Suspend"><span class="tocnumber">1.2</span> <span class="toctext">Sleep/Suspend</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#S3_Suspend_Bug_with_Bluetooth_Devices"><span class="tocnumber">1.3</span> <span class="toctext">S3 Suspend Bug with Bluetooth Devices</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#BIOS_configurations"><span class="tocnumber">1.4</span> <span class="toctext">BIOS configurations</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8">
<a href="#Firmware_issues"><span class="tocnumber">2</span> <span class="toctext">Firmware issues</span></a>
<ul>
<li class="toclevel-2 tocsection-9"><a href="#Touchpad_issues"><span class="tocnumber">2.1</span> <span class="toctext">Touchpad issues</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Freeze_when_suspending"><span class="tocnumber">2.2</span> <span class="toctext">Freeze when suspending</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Power_management/Throttling_issues"><span class="tocnumber">2.3</span> <span class="toctext">Power management/Throttling issues</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-12">
<a href="#Audio"><span class="tocnumber">3</span> <span class="toctext">Audio</span></a>
<ul>
<li class="toclevel-2 tocsection-13"><a href="#Clicking/cracking_noise_when_using_headphones"><span class="tocnumber">3.1</span> <span class="toctext">Clicking/cracking noise when using headphones</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-14"><a href="#Fingerprint_sensor"><span class="tocnumber">4</span> <span class="toctext">Fingerprint sensor</span></a></li>
<li class="toclevel-1 tocsection-15"><a href="#Disabling_red_LED_in_ThinkPad_logo"><span class="tocnumber">5</span> <span class="toctext">Disabling red LED in ThinkPad logo</span></a></li>
<li class="toclevel-1 tocsection-16"><a href="#Additional_resources"><span class="tocnumber">6</span> <span class="toctext">Additional resources</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="BIOS">BIOS</span></h2>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> There are reports that enrolling custom Secure Boot keys may brick this machine because of firmware bugs.</div> 
<p>The most convenient way to install Arch Linux is by disabling "Secure Boot" <code>Security -&gt; Secure Boot - Set to "Disabled"</code>. However it is possible to self-sign your kernel and boot with it enabled. For further information have a look at the <a href="../en/Unified_Extensible_Firmware_Interface/Secure_Boot.html" class="mw-redirect" title="Secure Boot">Secure Boot</a> article.
</p>
<p>In case your <code>efivars</code> are not properly set it is most likely due to you not being booted into <a href="../en/Unified_Extensible_Firmware_Interface.html" class="mw-redirect" title="UEFI">UEFI</a>. Should the problem persist be sure to consult the <a href="../en/Unified_Extensible_Firmware_Interface.html#UEFI_variables" class="mw-redirect" title="UEFI">UEFI#UEFI variables</a> section.
</p>
<h3><span class="mw-headline" id="Updates">Updates</span></h3>
<h4>
<span id="Automatic_.28Linux_Vendor_Firmware_Service.29"></span><span class="mw-headline" id="Automatic_(Linux_Vendor_Firmware_Service)">Automatic (Linux Vendor Firmware Service)</span>
</h4>
<p><a rel="nofollow" class="external text" href="https://blogs.gnome.org/hughsie/2018/08/06/please-welcome-lenovo-to-the-lvfs/">In August of 2018 Lenovo has joined</a> the <a rel="nofollow" class="external text" href="https://fwupd.org/">Linux Vendor Firmware Service (LVFS)</a> project, which enables firmware updates from within the OS.
BIOS updates (and possibly other firmware such as the Thunderbolt controller) can be queried for and installed through <a href="../en/Fwupd.html" title="Fwupd">fwupd</a>.
</p>
<h4>
<span id="Manual_.28fwupdmgr.29"></span><span class="mw-headline" id="Manual_(fwupdmgr)">Manual (fwupdmgr)</span>
</h4>
<p>Lenovo may in the future provide cabinet files that can be directly installed with fwupdmgr.
Check for Linux <code>.cab</code> files from the <a rel="nofollow" class="external text" href="https://pcsupport.lenovo.com/us/en/products/laptops-and-netbooks/thinkpad-x-series-laptops/thinkpad-x1-carbon-7th-gen-type-20qd-20qe/downloads">Lenovo ThinkPad X1 Carbon (Gen 7) driver website</a>.
</p>
<ol>
<li>Make sure the AC adapter is firmly connected to the target computer.</li>
<li>Launch Terminal.</li>
<li>Move to the directory where the cabinet file was placed.</li>
<li>Run <code>fwupdmgr install xxxxxxxx.cab</code> to schedule firmware update.</li>
<li>Restart the system.</li>
<li>The computer will be restarted and the UEFI BIOS will be updated.</li>
</ol>
<h3>
<span id="Sleep.2FSuspend"></span><span class="mw-headline" id="Sleep/Suspend">Sleep/Suspend</span>
</h3>
<p>The BIOS has two "Sleep State" options, Windows and Linux, which you can find in at <code>Config -&gt; Power -&gt; Sleep State</code>. The Linux option is the traditional S3 power state where all hardware components are turned off except for the RAM, and it should work normally. The Windows option is a newer software-based "modern standby" which works on Linux (despite the name). One possible benefit to the Windows sleep state is faster wake up time, and one possible drawback is increased power usage.
</p>
<p>Mark Pearson, a Lenovo employee, <a rel="nofollow" class="external text" href="https://forums.lenovo.com/t5/Fedora/Fedora-32-Workstation-image-for-Thinkpad-P1G2/m-p/5042732?page=1#5156832">recommends using the "Windows" sleep state option</a> as it is better supported on modern Intel processors. The same is true for other modern Thinkpads <a rel="nofollow" class="external text" href="https://forums.lenovo.com/t5/Other-Linux-Discussions/T14-AMD-battery-drain-in-standby-Linux/m-p/5037674?page=3#5189273">except for AMD models</a> (as of November 2020).
</p>
<h3><span class="mw-headline" id="S3_Suspend_Bug_with_Bluetooth_Devices">S3 Suspend Bug with Bluetooth Devices</span></h3>
<p>Occasionally your Thinkpad will wake up immediately after suspending with certain <a href="../en/Bluetooth.html" title="Bluetooth">bluetooth</a> devices added. To prevent this, remove the devices or disable <a href="../en/Bluetooth.html" title="Bluetooth">bluetooth</a> before suspending.
</p>
<h3><span class="mw-headline" id="BIOS_configurations">BIOS configurations</span></h3>
<ul><li>
<code>Config -&gt; Thunderbolt BIOS Assist Mode - Set to "Enabled"</code>. When disabled, on Linux, power usage appears to be significantly higher because of a substantial number of CPU wakeups during s2idle.</li></ul>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong>  You may need to disable Kernel DMA protection in <code>Security -&gt; Virtualization -&gt; Kernel DMA Protection - Set to "Disabled"</code>
</div>
<h2><span class="mw-headline" id="Firmware_issues">Firmware issues</span></h2>
<p>The following issues can all be resolved by upgrading the firmware with fwupdmgr (<i>see <a href="#Updates">#BIOS Updates</a></i>), but there may be alternative manual/temporary fixes.
</p>
<h3><span class="mw-headline" id="Touchpad_issues">Touchpad issues</span></h3>
<p>Due to a bug in a touchpad firmware, the touchpad might not work with following logs in dmesg:
</p>
<pre>[    4.499490] i2c_designware i2c_designware.1: i2c_dw_handle_tx_abort: lost arbitration
[...]
[   12.668795] i2c_hid i2c-SYNA8005:00: failed to set a report to device.
[   13.678765] i2c_designware i2c_designware.1: controller timed out
</pre>
<h3><span class="mw-headline" id="Freeze_when_suspending">Freeze when suspending</span></h3>
<p>There are reports of the system freezing after initiating a suspend or hibernate. A temporary fix is to add <code>snd_hda_intel.dmic_detect=0</code> to your kernel parameters. see <a rel="nofollow" class="external autonumber" href="https://www.reddit.com/r/archlinux/comments/e5oe4p/systemctl_suspend_causes_freeze/fa8mzft/">[3]</a>. This temporary fix is somehow disable the microphone, use this at your own risk
</p>
<h3>
<span id="Power_management.2FThrottling_issues"></span><span class="mw-headline" id="Power_management/Throttling_issues">Power management/Throttling issues</span>
</h3>
<p>A <a rel="nofollow" class="external text" href="https://forums.lenovo.com/t5/Other-Linux-Discussions/X1C6-T480s-low-cTDP-and-trip-temperature-in-Linux/td-p/4028489/highlight/true">bug</a><sup title="Last check status: 404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2020-12-27 ⓘ]</sup> causes the CPU to consume less power than under Windows and throttle at 80°C instead of 97°. 
</p>
<p>Lenovo has confirmed the issue, <a rel="nofollow" class="external text" href="https://forums.lenovo.com/t5/Other-Linux-Discussions/X1C6-T480s-low-cTDP-and-trip-temperature-in-Linux/m-p/4534535/highlight/true#M13642">explained the cause</a><sup title="Last check status: 404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2020-12-27 ⓘ]</sup> and published <a rel="nofollow" class="external text" href="https://forums.lenovo.com/t5/Other-Linux-Discussions/X1C6-T480s-low-cTDP-and-trip-temperature-in-Linux/m-p/4535310/highlight/true#M13653">updates for the embedded controller and the BIOS</a><sup title="Last check status: 404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2020-12-27 ⓘ]</sup> to LVFS .
</p>
<p>The alternative fix is to install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=throttled">throttled</a></span>, then run 
</p>
<pre>sudo systemctl enable --now lenovo_fix.service
</pre>
<h2><span class="mw-headline" id="Audio">Audio</span></h2>
<p>With the release of PulseAudio 14, all that's needed is <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=sof-firmware">sof-firmware</a></span>.
</p>
<p><br>
To get it working with PulseAudio 13 and older, follow those steps:
</p>
<p>1. Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=sof-firmware">sof-firmware</a></span> (tested with 1.4.2-1)
</p>
<p>2. Configure PulseAudio's to load Alsa modules with the correct <code>device</code> and <code>channel</code> settings, by adding these two lines to <code>/etc/pulse/default.pa</code>:
</p>
<pre>load-module module-alsa-sink device=hw:0,0 channels=4
load-module module-alsa-source device=hw:0,6 channels=4
</pre>
<p>Note that Alsa card numbers can change when adding more audio devices (like, connecting a USB headset or a docking station). To ensure that index '0' always maps to internal audio, add <code>snd slots=snd_soc_skl_hda_dsp</code> to your module loading options.
</p>
<p>3. Reboot, then use <code>alsamixer</code> to increase the "master" channel level of the <code>sof-hda-dsp</code> sound card (use the <code>&lt;F6&gt;</code> key to switch cards). If you do not see <code>sof-hda-dsp</code> in <code>alsamixer</code>, you may need to add <code>blacklist snd_hda_intel</code> and <code>blacklist snd_soc_skl</code> to <code>/etc/modprobe.d/blacklist.conf</code> and reboot again.
</p>
<p>4. If the output sounds tinny, try muting the "speaker" item in alsamixer.
</p>
<h3>
<span id="Clicking.2Fcracking_noise_when_using_headphones"></span><span class="mw-headline" id="Clicking/cracking_noise_when_using_headphones">Clicking/cracking noise when using headphones</span>
</h3>
<p>If you are hearing clicking/cracking noises when using headphones, this command helped me. I have to run it after each restart.
</p>
<pre>sudo hda-verb /dev/snd/hwC0D0 0x1d SET_PIN_WIDGET_CONTROL 0x0
</pre>
<h2><span class="mw-headline" id="Fingerprint_sensor">Fingerprint sensor</span></h2>
<p>An official Lenovo firmware with Linux support is available from <a href="../en/Fwupd.html" title="Fwupd">fwupd</a>. After installing fwupd, you can update the Synaptics Prometheus driver for the fingerprint sensor:
</p>
<pre># fwupdmgr refresh
# fwupdmgr get-updates
   Prometheus Fingerprint Reader Device Update:
   New version:       10.01.3158804
   New features and enhancements:   Support Linux system
# fwupdmgr update
</pre>
<p>To use the fingerprint sensor, follow the instructions from <a href="../en/Fprint.html" title="Fprint">Fprint</a>.
</p>
<p>If you had previously installed the testing version of this driver from lvfs-testing, there should be no issues updating to this driver version from the main repository.
</p>
<h2><span class="mw-headline" id="Disabling_red_LED_in_ThinkPad_logo">Disabling red LED in ThinkPad logo</span></h2>
<p>You can temporarily disable the red LED in the ThinkPad logo on the cover:
</p>
<p>1. Enable writing to the embedded controller registers by adding the kernel parameter <code>ec_sys.write_support=1</code>.  
If you use UEFI boot, you can add this parameter in <code>/boot/efi/loader/entries/arch.conf</code> under "options".
</p>
<p>2. Disable the LED with this command: 
</p>
<pre># echo -n -e "\x0a" | sudo dd of="/sys/kernel/debug/ec/ec0/io" bs=1 seek=12 count=1 conv=notrunc 2&gt; /dev/null
</pre>
<p>This would need to be run after each suspend/reboot to be permanent.
</p>
<h2><span class="mw-headline" id="Additional_resources">Additional resources</span></h2>
<ul>
<li>
<a rel="nofollow" class="external text" href="https://www.thinkwiki.org/wiki/Category:X1_Carbon_(7th_Gen)">ThinkWiki X1 Carbon 7th Gen page</a><sup title="Last check status: 404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2020-03-29 ⓘ]</sup>
</li>
<li>
<a rel="nofollow" class="external text" href="https://gist.github.com/greigdp/bb70fbc331a0aaf447c2d38eacb85b8f">Dell XPS 13 9370 quirks</a>: Some pointers on getting Watt usage down to ~2W, Intel video powersaving features might be interesting, see also the <a href="../en/Intel_graphics.html" title="Intel graphics">Intel graphics</a> page for interesting power-saving options.</li>
<li>
<a rel="nofollow" class="external text" href="https://01.org/blogs/rzhang/2015/best-practice-debug-linux-suspend/hibernate-issues">Intel Blog: Best practice to debug Linux* suspend/hibernate issues</a>, including the <a rel="nofollow" class="external text" href="https://github.com/01org/pm-graph">pm-graph</a> tool to analyze power usage during suspend</li>
<li>
<a rel="nofollow" class="external text" href="https://forums.linuxmint.com/viewtopic.php?t=91453">How to fix volume control (ALSA problem)</a> This is where the volume fix came from originally.</li>
<li><a rel="nofollow" class="external text" href="https://docs.microsoft.com/en-us/windows/win32/power/system-power-states">Windows System Power States</a></li>
<li><a rel="nofollow" class="external text" href="https://www.kernel.org/doc/Documentation/power/states.txt">System Power Management Sleep States at kernel.org</a></li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Lenovo.html" title="Category:Lenovo">Lenovo</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Lenovo_ThinkPad_X1_Carbon_(Gen_7)&amp;oldid=647592">https://wiki.archlinux.org/index.php?title=Lenovo_ThinkPad_X1_Carbon_(Gen_7)&amp;oldid=647592</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 29 December 2020, at 16:03.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
