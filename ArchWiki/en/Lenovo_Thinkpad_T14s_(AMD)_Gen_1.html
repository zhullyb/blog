<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Lenovo Thinkpad T14s (AMD) Gen 1 - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Lenovo_Thinkpad_T14s_AMD_Gen_1 rootpage-Lenovo_Thinkpad_T14s_AMD_Gen_1 skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Lenovo Thinkpad T14s (AMD) Gen 1</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="../en/Lenovo_ThinkPad_T495s.html" title="Lenovo ThinkPad T495s">Lenovo ThinkPad T495s</a></li>
<li><a href="../en/Lenovo_ThinkPad_T495.html" title="Lenovo ThinkPad T495">Lenovo ThinkPad T495</a></li>
</ul>
</div>
<table class="wikitable" style="float: right; clear: right">
<tbody>
<tr>
<td><b>Device</b></td>
<td>
<b>Status</b>
</td>
</tr>
<tr>
<td><a href="../en/AMDGPU.html" title="AMDGPU">AMD graphics</a></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td><a href="../en/Network_configuration/Wireless.html" class="mw-redirect" title="Wireless">Wireless</a></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td><a href="../en/Advanced_Linux_Sound_Architecture.html" class="mw-redirect" title="ALSA">ALSA</a></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td><a href="../en/TrackPoint.html" title="TrackPoint">TrackPoint</a></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td><a href="../en/Laptop.html#Touchpad" class="mw-redirect" title="Touchpad">Touchpad</a></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td><a href="../en/Webcam_setup.html" class="mw-redirect" title="Webcam">Webcam</a></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td><a href="../en/Fprint.html" class="mw-redirect" title="Fingerprint Reader">Fingerprint Reader</a></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td><a href="../en/ThinkPad_mobile_Internet.html" title="ThinkPad mobile Internet">Mobile Broadband</a></td>
<td>
<a href="../en/Xmm7360-pci.html" title="Xmm7360-pci">Xmm7360-pci</a>
</td>
</tr>
<tr>
<td><a href="../en/Bluetooth.html" title="Bluetooth">Bluetooth</a></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
<tr>
<td><a href="../en/Smartcards.html" title="Smartcards">Smartcard Reader</a></td>
<td data-sort-value="5" style="background: #afa; color: inherit; vertical-align: middle; text-align: center;">Yes
</td>
</tr>
</tbody>
</table>
<p>This article covers the installation and configuration of Arch Linux on a Lenovo Thinkpad T14s (AMD) Gen 1 laptop. Almost everything seems to work pretty much out the box with kernel &gt;=5.8.0. Yet untested: wwan
</p>
<p>For a general overview of laptop-related articles and recommendations, see <a href="../en/Laptop.html" title="Laptop">Laptop</a>.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Hardware"><span class="tocnumber">1</span> <span class="toctext">Hardware</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#AMD_Graphics"><span class="tocnumber">2</span> <span class="toctext">AMD Graphics</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Fingerprint_Sensor"><span class="tocnumber">3</span> <span class="toctext">Fingerprint Sensor</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Backlight"><span class="tocnumber">4</span> <span class="toctext">Backlight</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Smartcard_Reader"><span class="tocnumber">5</span> <span class="toctext">Smartcard Reader</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Updating_Firmware"><span class="tocnumber">6</span> <span class="toctext">Updating Firmware</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#WWAN"><span class="tocnumber">7</span> <span class="toctext">WWAN</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#WiFi"><span class="tocnumber">8</span> <span class="toctext">WiFi</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Install_videos"><span class="tocnumber">9</span> <span class="toctext">Install videos</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Hardware">Hardware</span></h2>
<p>AMD Ryzen 7 PRO 4750U Processor
</p>
<p>Using kernel 5.8.0.
</p>
<pre>Release Date: 20202
Product Name: Thinkpad T14s (AMD) Gen 1
SKU Number: 20UH, 20UJ (20UHCTO1WW)
BIOS: 1.05
</pre>
<p><code>lspci</code> returns something like:
</p>
<pre>00:00.0 Host bridge: Advanced Micro Devices, Inc. [AMD] Renoir Root Complex
00:00.2 IOMMU: Advanced Micro Devices, Inc. [AMD] Renoir IOMMU
00:01.0 Host bridge: Advanced Micro Devices, Inc. [AMD] Renoir PCIe Dummy Host Bridge
00:02.0 Host bridge: Advanced Micro Devices, Inc. [AMD] Renoir PCIe Dummy Host Bridge
00:02.1 PCI bridge: Advanced Micro Devices, Inc. [AMD] Renoir PCIe GPP Bridge
00:02.2 PCI bridge: Advanced Micro Devices, Inc. [AMD] Renoir PCIe GPP Bridge
00:02.3 PCI bridge: Advanced Micro Devices, Inc. [AMD] Renoir PCIe GPP Bridge
00:02.4 PCI bridge: Advanced Micro Devices, Inc. [AMD] Renoir PCIe GPP Bridge
00:02.7 PCI bridge: Advanced Micro Devices, Inc. [AMD] Renoir PCIe GPP Bridge
00:08.0 Host bridge: Advanced Micro Devices, Inc. [AMD] Renoir PCIe Dummy Host Bridge
00:08.1 PCI bridge: Advanced Micro Devices, Inc. [AMD] Renoir Internal PCIe GPP Bridge to Bus
00:14.0 SMBus: Advanced Micro Devices, Inc. [AMD] FCH SMBus Controller (rev 51)
00:14.3 ISA bridge: Advanced Micro Devices, Inc. [AMD] FCH LPC Bridge (rev 51)
00:18.0 Host bridge: Advanced Micro Devices, Inc. [AMD] Renoir Device 24: Function 0
00:18.1 Host bridge: Advanced Micro Devices, Inc. [AMD] Renoir Device 24: Function 1
00:18.2 Host bridge: Advanced Micro Devices, Inc. [AMD] Renoir Device 24: Function 2
00:18.3 Host bridge: Advanced Micro Devices, Inc. [AMD] Renoir Device 24: Function 3
00:18.4 Host bridge: Advanced Micro Devices, Inc. [AMD] Renoir Device 24: Function 4
00:18.5 Host bridge: Advanced Micro Devices, Inc. [AMD] Renoir Device 24: Function 5
00:18.6 Host bridge: Advanced Micro Devices, Inc. [AMD] Renoir Device 24: Function 6
00:18.7 Host bridge: Advanced Micro Devices, Inc. [AMD] Renoir Device 24: Function 7
01:00.0 Non-Volatile memory controller: Samsung Electronics Co Ltd NVMe SSD Controller SM981/PM981/PM983
02:00.0 Ethernet controller: Realtek Semiconductor Co., Ltd. RTL8111/8168/8411 PCI Express Gigabit Ethernet Controller (rev 0e)
02:00.1 Serial controller: Realtek Semiconductor Co., Ltd. Device 816a (rev 0e)
02:00.2 Serial controller: Realtek Semiconductor Co., Ltd. Device 816b (rev 0e)
02:00.3 IPMI Interface: Realtek Semiconductor Co., Ltd. Device 816c (rev 0e)
02:00.4 USB controller: Realtek Semiconductor Co., Ltd. Device 816d (rev 0e)
03:00.0 Network controller: Intel Corporation Wi-Fi 6 AX200 (rev 1a)
04:00.0 Unassigned class [ff00]: Realtek Semiconductor Co., Ltd. RTS522A PCI Express Card Reader (rev 01)
05:00.0 USB controller: Renesas Technology Corp. uPD720202 USB 3.0 Host Controller (rev 02)
06:00.0 VGA compatible controller: Advanced Micro Devices, Inc. [AMD/ATI] Renoir (rev d1)
06:00.1 Audio device: Advanced Micro Devices, Inc. [AMD/ATI] Device 1637
06:00.2 Encryption controller: Advanced Micro Devices, Inc. [AMD] Family 17h (Models 10h-1fh) Platform Security Processor
06:00.3 USB controller: Advanced Micro Devices, Inc. [AMD] Renoir USB 3.1
06:00.4 USB controller: Advanced Micro Devices, Inc. [AMD] Renoir USB 3.1
06:00.5 Multimedia controller: Advanced Micro Devices, Inc. [AMD] Raven/Raven2/FireFlight/Renoir Audio Processor (rev 01)
06:00.6 Audio device: Advanced Micro Devices, Inc. [AMD] Family 17h (Models 10h-1fh) HD Audio Controller
</pre>
<p><br>
<code>lsusb</code> returns something like:
</p>
<pre>Bus 007 Device 001: ID 1d6b:0003 Linux Foundation 3.0 root hub
Bus 006 Device 003: ID 8087:0029 Intel Corp. AX200 Bluetooth
Bus 006 Device 002: ID 06cb:00bd Synaptics, Inc. Prometheus MIS Touch Fingerprint Reader
Bus 006 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
Bus 005 Device 001: ID 1d6b:0003 Linux Foundation 3.0 root hub
Bus 004 Device 002: ID 058f:9540 Alcor Micro Corp. AU9540 Smartcard Reader
Bus 004 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
Bus 003 Device 001: ID 1d6b:0003 Linux Foundation 3.0 root hub
Bus 002 Device 002: ID 13d3:5405 IMC Networks Integrated Camera
Bus 002 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
</pre>
<h2><span class="mw-headline" id="AMD_Graphics">AMD Graphics</span></h2>
<p>The opensource <a href="../en/AMDGPU.html" title="AMDGPU">AMDGPU</a> drivers work correctly with no special modification.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Hardware Acceleration in latest Chromium seems <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=258797">have rendering issue</a>.</div>
<p>To enable <a href="../en/Chromium.html" title="Chromium">Chromium</a> hardware accelerated video decoding, install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libva-mesa-driver">libva-mesa-driver</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=vulkan-radeon">vulkan-radeon</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mesa-vdpau">mesa-vdpau</a></span>, create a file <code>~/.config/chromium-flags.conf</code> and paste the following:
</p>
<pre>--ignore-gpu-blocklist
--ignore-gpu-blacklist
--use-gl=egl
--enable-gpu-rasterization
--enable-zero-copy
--disable-gpu-driver-bug-workarounds
</pre>
<p>Go to <code>chrome://flags</code> find <code>Vulkan</code> and enable it.
</p>
<p>Restart <a href="../en/Chromium.html" title="Chromium">Chromium</a> and then verify <code>chrome://gpu</code> has the following output:
</p>
<pre>Graphics Feature Status
Canvas: Hardware accelerated
Flash: Hardware accelerated
Flash Stage3D: Hardware accelerated
Flash Stage3D Baseline profile: Hardware accelerated
Compositing: Hardware accelerated
Multiple Raster Threads: Enabled
Out-of-process Rasterization: Hardware accelerated
OpenGL: Enabled
Hardware Protected Video Decode: Hardware accelerated
Rasterization: Hardware accelerated on all pages
Skia Renderer: Enabled
Video Decode: Hardware accelerated
Vulkan: Enabled
WebGL: Hardware accelerated
WebGL2: Hardware accelerated 
</pre>
<p>For more infomation see <a href="../en/Chromium.html#Force_GPU_acceleration" title="Chromium">Chromium#Force GPU acceleration</a> and  <a rel="nofollow" class="external text" href="https://chromium.googlesource.com/chromium/src/+/master/docs/gpu/vaapi.md#vaapi-on-linux">vaapi on linux</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Hardware Acceleration is incompatible with <a href="../en/Chromium.html" title="Chromium">Chromium</a> builtin PDF reader.</div>
<h2><span class="mw-headline" id="Fingerprint_Sensor">Fingerprint Sensor</span></h2>
<p>The fingerprint sensor works with some recent firmware and software updates.
</p>
<ol>
<li>Use <a href="../en/Fwupd.html" title="Fwupd">fwupd</a> to install the latest firmware for "Synaptics Prometheus Fingerprint Reader". The update might have to be done manually as the released firmware is in testing; or you could <a rel="nofollow" class="external text" href="https://github.com/fwupd/fwupd/wiki/LVFS-Testing-remote">enable the testing remote in fwupd</a> to allow automated upgrade. The relevant firmwares are <a rel="nofollow" class="external text" href="https://fwupd.org/lvfs/devices/com.synaptics.prometheus.firmware">Prometheus Fingerprint Reader</a> and <a rel="nofollow" class="external text" href="https://fwupd.org/lvfs/devices/com.synaptics.prometheus.config">Prometheus Fingerprint Reader Configuration</a>.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fprintd">fprintd</a></span> ≥ 1.90.1 and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libfprint">libfprint</a></span> ≥ 1.90.1 are required. Alternatively, use the latest Git master through <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/fprintd-libfprint2/">fprintd-libfprint2</a></span><sup><small>AUR</small></sup> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/libfprint-git/">libfprint-git</a></span><sup><small>AUR</small></sup>.</li>
</ol>
<p><a href="../en/Fprint.html" title="Fprint">fprint</a> has more details on how to setup the fingerprint, for <a href="../en/PAM.html" title="PAM">PAM</a>-based authentication for example.
</p>
<p>If the fingerprint reader isn't detected by <a href="../en/Fwupd.html" title="Fwupd">fwupd</a> but is detected by <code>lsusb</code> you will need to reset the fingerprint reader in the Bios.
</p>
<h2><span class="mw-headline" id="Backlight">Backlight</span></h2>
<p>Backlight works correctly by manipulating the values, between 0-255, inside <code>/sys/class/backlight/amdgpu_bl0/brightness</code> or using a backlight managing utility.
</p>
<p>Before kernel 5.8.6, <code>systemd-backlight@backlight:acpi_video0.service</code> required <a href="../en/Systemd.html#Using_units" title="Systemd">masking</a> as it failed on boot.
</p>
<h2><span class="mw-headline" id="Smartcard_Reader">Smartcard Reader</span></h2>
<p>Seems to work and read cards. Following instructions from <a href="../en/Smartcards.html" title="Smartcards">smartcards</a>.
</p>
<h2><span class="mw-headline" id="Updating_Firmware">Updating Firmware</span></h2>
<p>Updating the firmware using the <a href="../en/Fwupd.html" title="Fwupd">fwupd</a> utility works as long as all the relevant options are enabled in the Bios (Enable Windows Update UEFI Update). A BIOS update Bootable CD iso that is OS agnostic may be downloaded from Lenovo support<a rel="nofollow" class="external autonumber" href="https://pcsupport.lenovo.com/">[1]</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> This may brick your device! Be careful!</div>
<p>A charged battery and connected AC power is required to run the update tool successfully. Avoid having any addons/docks plugged in when performing the BIOS update.
</p>
<p>The bootable image needs to be extracted from the iso using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/geteltorito/">geteltorito</a></span><sup><small>AUR</small></sup> to create a bootable USB.
</p>
<p>1. Use geteltorito to extract bootable image: <code>geteltorito -o image_usb.img downloaded_bios_update.iso</code>
</p>
<p>2. Copy image to USB drive with dd: <code>sudo dd if᐀image_usb.img of᐀/dev/sdX &amp;&amp; sync</code>
</p>
<p>3. Reboot. Boot from USB drive.
</p>
<p>4. Perform BIOS update following instructions on screen.
</p>
<h2><span class="mw-headline" id="WWAN">WWAN</span></h2>
<p>The only supported WWAN card is the Fibocom L850-GL, a PCIe card without any Linux drivers (and most probably never will get any, it's an Apple owned chipset now.). All the existing WWAN workaround involve flashing a Sierra Wireless (Qualcomm) WWAN to escape the BIOS whitelist by enumerating slowly. This however doesn't work in the T14s, the card is entirely disabled and not even visible in <i>lsusb</i>. It is possible that the USB lanes are disabled on the M.2 port.
</p>
<p>There exists an alpha-quality driver for the Fibocom L850-GL <a rel="nofollow" class="external text" href="https://github.com/xmm7360/xmm7360-pci">here</a>. The L860 is not proposed in the T14s AMD but is in the T14s Intel and a linux mainline driver is being worked on by Lenovo for it.
</p>
<h2><span class="mw-headline" id="WiFi">WiFi</span></h2>
<p>The onboard wireless card is Intel AX200, and it may have microcode issues when used as-is. A possible fix for WiFi disconnects is turning on iwlwifi antenna agreggation on by creating a <a href="../en/Kernel_module.html" class="mw-redirect" title="Modprobe">modprobe</a> config
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/iwlwifi.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">options iwlwifi 11n_disable=8</pre>
<p>and rebooting. Look in <a href="../en/Network_configuration/Wireless.html#iwlwifi" title="Network configuration/Wireless">Network configuration/Wireless#iwlwifi</a> for details.
</p>
<h2><span class="mw-headline" id="Install_videos">Install videos</span></h2>
<ul><li><a rel="nofollow" class="external text" href="https://www.youtube.com/playlist?list=PLiKgVPlhUNuy_AnTdTxCVGsMgidyGuCcQ">T14s Arch video playlist</a></li></ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../en/Category:Lenovo.html" title="Category:Lenovo">Lenovo</a></li></ul>
</div></div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Lenovo_Thinkpad_T14s_(AMD)_Gen_1&amp;oldid=646891">https://wiki.archlinux.org/index.php?title=Lenovo_Thinkpad_T14s_(AMD)_Gen_1&amp;oldid=646891</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 26 December 2020, at 12:06.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
