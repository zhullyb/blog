<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Festival - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Festival rootpage-Festival skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Festival</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<p><a rel="nofollow" class="external text" href="http://www.cstr.ed.ac.uk/projects/festival/">Festival</a> is a general multi-lingual speech synthesis system developed at CSTR (<a rel="nofollow" class="external text" href="http://www.cstr.ed.ac.uk/">Centre for Speech Technology Research</a>). It offers a general framework for building speech synthesis systems as well as including examples of various modules. As a whole it offers full text to speech through a number APIs: from shell level, though a Scheme command interpreter, as a C++ library, from Java, and an Emacs interface. Festival is multi-lingual (currently British English, American English, Italian, Czech and Spanish, with other languages available in prototype.) 
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Installation"><span class="tocnumber">1</span> <span class="toctext">Installation</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#German_IMS"><span class="tocnumber">1.1</span> <span class="toctext">German IMS</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3">
<a href="#Configuration"><span class="tocnumber">2</span> <span class="toctext">Configuration</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Sound_server"><span class="tocnumber">2.1</span> <span class="toctext">Sound server</span></a></li>
<li class="toclevel-2 tocsection-5">
<a href="#Voices"><span class="tocnumber">2.2</span> <span class="toctext">Voices</span></a>
<ul>
<li class="toclevel-3 tocsection-6"><a href="#Manually"><span class="tocnumber">2.2.1</span> <span class="toctext">Manually</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-7">
<a href="#Usage"><span class="tocnumber">3</span> <span class="toctext">Usage</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#Interactive"><span class="tocnumber">3.1</span> <span class="toctext">Interactive</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9">
<a href="#Troubleshooting"><span class="tocnumber">4</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="#Can't_open_/dev/dsp"><span class="tocnumber">4.1</span> <span class="toctext">Can't open /dev/dsp</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Alsa_playing_at_wrong_speed"><span class="tocnumber">4.2</span> <span class="toctext">Alsa playing at wrong speed</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Command_aplay_not_found"><span class="tocnumber">4.3</span> <span class="toctext">Command aplay not found</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Server"><span class="tocnumber">4.4</span> <span class="toctext">Server</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-14"><a href="#See_also"><span class="tocnumber">5</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">Install</a> the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=festival">festival</a></span> package. Voices are available with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=festival-us">festival-us</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=festival-english">festival-english</a></span> packages.
</p>
<h3><span class="mw-headline" id="German_IMS">German IMS</span></h3>
<p>The <a rel="nofollow" class="external text" href="http://www.ims.uni-stuttgart.de">IMS of the University Stuttgart</a> developed an extension to Festival especially for German language (see <a rel="nofollow" class="external text" href="http://www.ims.uni-stuttgart.de/institut/arbeitsgruppen/phonetik/synthesis/festival_opensource.html">here</a>). It uses German voices with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mbrola/">mbrola</a></span><sup><small>AUR</small></sup>. To use it, install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/festival-ims/">festival-ims</a></span><sup><small>AUR</small></sup> with IMS Stuttgart patches. This should add support for the german voices <i>de1</i> through <i>de4</i>. Install at least one of the voices (listed as optional dependencies), e.g. <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mbrola-voices-de2/">mbrola-voices-de2</a></span><sup><small>AUR</small></sup>.
</p>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<p>There is no global <code>/etc/</code> configuration file, but you can configure festival with your <code>~/.festivalrc</code> file, or by directly editing <code>/usr/share/festival/festival.scm</code>. Both of these are scheme files, using scheme syntax and rerun everytime festival is run.
</p>
<h3><span class="mw-headline" id="Sound_server">Sound server</span></h3>
<p>The following allows Festival to work if audio from other sources is already playing. Add to your config:
</p>
<p>For PulseAudio:
</p>
<pre>(Parameter.set 'Audio_Required_Format 'aiff)
(Parameter.set 'Audio_Method 'Audio_Command)
(Parameter.set 'Audio_Command "paplay $FILE --client-name=Festival --stream-name=Speech")
</pre>
<p>For ALSA: <a rel="nofollow" class="external autonumber" href="https://web.archive.org/web/20110522202347/http://ubuntuforums.org/showthread.php?t=171182&amp;page=3">[1]</a>
</p>
<pre>(Parameter.set 'Audio_Method 'Audio_Command)
(Parameter.set 'Audio_Command "aplay -q -c 1 -t raw -f s16 -r $SR $FILE")
</pre>
<h3><span class="mw-headline" id="Voices">Voices</span></h3>
<p>Arch splits the set of official voices into <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=festival-us">festival-us</a></span> (recommended) and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=festival-english">festival-english</a></span>. The <a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/?K=festival">AUR</a> has some others, in various states of maintenance which may or may not be currently working.
</p>
<p>To see what voices are currently installed and what the default is, first enter Festival's <a href="#Interactive">#Interactive</a> shell (a REPL scheme). To permanently change the default voice add it to your config, for example:
</p>
<pre>(set! voice_default voice_cmu_us_rms_cg)
</pre>
<p>Append to <code>/usr/share/festival/siteinit.scm</code> to apply for all users.
</p>
<h4><span class="mw-headline" id="Manually">Manually</span></h4>
<p>You can also get voices straight from Festvox <a rel="nofollow" class="external autonumber" href="http://festvox.org/festival/downloads.html">[2]</a> <a rel="nofollow" class="external autonumber" href="http://festvox.org/packed/festival/2.5/voices/">[3]</a>. You will need to unzip and move the folder containing the voice to <code>/usr/share/festival/voices/</code> and the way to tell what folder contains the voice is to look for a <code>festvox/</code> subfolder inside of it. You can then test that your new voices are found by loading up the festival prompt.
</p>
<h2><span class="mw-headline" id="Usage">Usage</span></h2>
<p>To read a text file:
</p>
<pre>$ festival --tts <i>text_file</i>
</pre>
<p>To read a selection you highlighted with the cursor:
</p>
<pre>$ xsel | festival --tts
</pre>
<p>Convert a text file to an mp3 audio:
</p>
<pre>$ text2wave <i>text_file</i> | lame - <i>text</i>.mp3
</pre>
<p>Record audio with a select voice:
</p>
<pre>$ text2wave -o <i>output</i>.wav -eval '(voice_german_de2_os)' <i>text_file</i>
</pre>
<h3><span class="mw-headline" id="Interactive">Interactive</span></h3>
<p>Festival has an interactive prompt you can use for testing. Type <code>festival</code> to enter it. The following are some examples:
</p>
<p>To show the voice festival speaks with:
</p>
<pre>voice_default 
</pre>
<p>To list available voices:
</p>
<pre>(voice.list)
</pre>
<p>To select another voice, enter <code>(<i>voice_name</i>)</code>. For example:
</p>
<pre>(voice_cmu_us_rms_cg)
</pre>
<p>To hear it speak:
</p>
<pre>(SayText "Arch makes me happy") 
</pre>
<p>To list available commands:
</p>
<pre>help
</pre>
<p>To exit the shell:
</p>
<pre>(quit)
</pre>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3>
<span id="Can.27t_open_.2Fdev.2Fdsp"></span><span class="mw-headline" id="Can't_open_/dev/dsp">Can't open /dev/dsp</span>
</h3>
<p>If festival returns the following error message:
</p>
<pre>Linux: can't open /dev/dsp
</pre>
<p>See <a href="#Sound_server">#Sound server</a> above.
</p>
<h3><span class="mw-headline" id="Alsa_playing_at_wrong_speed">Alsa playing at wrong speed</span></h3>
<p>If the solution above gives you a squeaky voice, you might want to try changing your <i>aplay</i> options:
</p>
<pre>(Parameter.set 'Audio_Method 'Audio_Command)
(Parameter.set 'Audio_Command "aplay -Dplug:default -f S16_LE -r $SR $FILE")
</pre>
<h3><span class="mw-headline" id="Command_aplay_not_found">Command aplay not found</span></h3>
<p>Install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=alsa-utils">alsa-utils</a></span> package.
</p>
<h3><span class="mw-headline" id="Server">Server</span></h3>
<p>Install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/festival-freebsoft-utils/">festival-freebsoft-utils</a></span><sup><small>AUR</small></sup> to use Festival with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=speech-dispatcher">speech-dispatcher</a></span> (i.e. in Firefox's Reader).
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul><li><a rel="nofollow" class="external text" href="http://festvox.org/docs/manual-2.4.0/">Festival manual</a></li></ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Accessibility.html" title="Category:Accessibility">Accessibility</a></li>
<li><a href="../en/Category:Multimedia.html" title="Category:Multimedia">Multimedia</a></li>
</ul>
</div></div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Festival&amp;oldid=649149">https://wiki.archlinux.org/index.php?title=Festival&amp;oldid=649149</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 17 January 2021, at 16:30.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
