<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Sway - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Sway rootpage-Sway skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Sway</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="../en/Window_manager.html" title="Window manager">Window manager</a></li>
</ul>
</div>
<p><i>sway</i> is a compositor for <a href="../en/Wayland.html" title="Wayland">Wayland</a> designed to be fully compatible with <a href="../en/I3.html" title="I3">i3</a>. According to <a rel="nofollow" class="external text" href="https://swaywm.org">the official website</a>:
</p>
<dl><dd>Sway is a tiling Wayland compositor and a drop-in replacement for the i3 window manager for X11. It works with your existing i3 configuration and supports most of i3's features, plus a few extras.</dd></dl>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Installation"><span class="tocnumber">1</span> <span class="toctext">Installation</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#Starting"><span class="tocnumber">2</span> <span class="toctext">Starting</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Manually"><span class="tocnumber">2.1</span> <span class="toctext">Manually</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Automatically_on_TTY_login"><span class="tocnumber">2.2</span> <span class="toctext">Automatically on TTY login</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#From_a_display_manager"><span class="tocnumber">2.3</span> <span class="toctext">From a display manager</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6">
<a href="#Configuration"><span class="tocnumber">3</span> <span class="toctext">Configuration</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#Keymap"><span class="tocnumber">3.1</span> <span class="toctext">Keymap</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Typematic_delay_and_rate"><span class="tocnumber">3.2</span> <span class="toctext">Typematic delay and rate</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Statusbar"><span class="tocnumber">3.3</span> <span class="toctext">Statusbar</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Wallpaper"><span class="tocnumber">3.4</span> <span class="toctext">Wallpaper</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Input_devices"><span class="tocnumber">3.5</span> <span class="toctext">Input devices</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#HiDPI"><span class="tocnumber">3.6</span> <span class="toctext">HiDPI</span></a></li>
<li class="toclevel-2 tocsection-13">
<a href="#Custom_keybindings"><span class="tocnumber">3.7</span> <span class="toctext">Custom keybindings</span></a>
<ul>
<li class="toclevel-3 tocsection-14"><a href="#Graphical_indicator_bars"><span class="tocnumber">3.7.1</span> <span class="toctext">Graphical indicator bars</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-15"><a href="#Floating_windows"><span class="tocnumber">3.8</span> <span class="toctext">Floating windows</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Xresources"><span class="tocnumber">3.9</span> <span class="toctext">Xresources</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#XWayland"><span class="tocnumber">3.10</span> <span class="toctext">XWayland</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-18">
<a href="#Tips_and_tricks"><span class="tocnumber">4</span> <span class="toctext">Tips and tricks</span></a>
<ul>
<li class="toclevel-2 tocsection-19"><a href="#Enable_CapsLock/NumLock"><span class="tocnumber">4.1</span> <span class="toctext">Enable CapsLock/NumLock</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#Current_keyboard_layout"><span class="tocnumber">4.2</span> <span class="toctext">Current keyboard layout</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#Backlight_toggle"><span class="tocnumber">4.3</span> <span class="toctext">Backlight toggle</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#Screen_capture_and_screen_sharing"><span class="tocnumber">4.4</span> <span class="toctext">Screen capture and screen sharing</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#Color_temperature_adjustment"><span class="tocnumber">4.5</span> <span class="toctext">Color temperature adjustment</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#Control_swaynag_with_the_keyboard"><span class="tocnumber">4.6</span> <span class="toctext">Control swaynag with the keyboard</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#Change_cursor_theme_and_size"><span class="tocnumber">4.7</span> <span class="toctext">Change cursor theme and size</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-26">
<a href="#Troubleshooting"><span class="tocnumber">5</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-27"><a href="#Application_launchers"><span class="tocnumber">5.1</span> <span class="toctext">Application launchers</span></a></li>
<li class="toclevel-2 tocsection-28">
<a href="#Virtualization"><span class="tocnumber">5.2</span> <span class="toctext">Virtualization</span></a>
<ul>
<li class="toclevel-3 tocsection-29"><a href="#Unable_to_start_Sway_from_tty"><span class="tocnumber">5.2.1</span> <span class="toctext">Unable to start Sway from tty</span></a></li>
<li class="toclevel-3 tocsection-30"><a href="#No_visible_cursor"><span class="tocnumber">5.2.2</span> <span class="toctext">No visible cursor</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-31"><a href="#Sway_socket_not_detected"><span class="tocnumber">5.3</span> <span class="toctext">Sway socket not detected</span></a></li>
<li class="toclevel-2 tocsection-32"><a href="#Unable_to_retrieve_socket_path"><span class="tocnumber">5.4</span> <span class="toctext">Unable to retrieve socket path</span></a></li>
<li class="toclevel-2 tocsection-33"><a href="#Keybindings_and_keyboard_layouts"><span class="tocnumber">5.5</span> <span class="toctext">Keybindings and keyboard layouts</span></a></li>
<li class="toclevel-2 tocsection-34"><a href="#Java_applications"><span class="tocnumber">5.6</span> <span class="toctext">Java applications</span></a></li>
<li class="toclevel-2 tocsection-35"><a href="#Scroll_on_border"><span class="tocnumber">5.7</span> <span class="toctext">Scroll on border</span></a></li>
<li class="toclevel-2 tocsection-36"><a href="#Program_cannot_open_display"><span class="tocnumber">5.8</span> <span class="toctext">Program cannot open display</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-37"><a href="#See_also"><span class="tocnumber">6</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><i>sway</i> can be <a href="../en/Help:Reading.html#Installation_of_packages" class="mw-redirect" title="Install">installed</a> with the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=sway">sway</a></span> package. The development version can be installed using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/wlroots-git/">wlroots-git</a></span><sup><small>AUR</small></sup> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/sway-git/">sway-git</a></span><sup><small>AUR</small></sup>. It's advisable to always update <i>wlroots</i> when you update <i>sway</i>, due to tight dependencies.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> All proprietary graphics drivers are <a rel="nofollow" class="external text" href="https://github.com/swaywm/sway/wiki#nvidia-users">not supported</a>, including <a href="../en/NVIDIA.html" title="NVIDIA">NVIDIA</a>.</div>
<p>You may also install <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=swaylock">swaylock</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=swayidle">swayidle</a></span> to lock your screen and set up an idle manager.
</p>
<p>The default application launcher is <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dmenu">dmenu</a></span> and the default terminal emulator is <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=alacritty">alacritty</a></span>. Before starting <i>sway</i> it is advisable to either install them or set a new launcher and terminal in the configuration.
</p>
<h2><span class="mw-headline" id="Starting">Starting</span></h2>
<h3><span class="mw-headline" id="Manually">Manually</span></h3>
<p>To start Sway, simply type <code>sway</code> in the Linux console.
</p>
<h3><span class="mw-headline" id="Automatically_on_TTY_login">Automatically on TTY login</span></h3>
<p>Similarly to X, Sway can be started by adding the following to your shell initialization file (see <a href="../en/Command-line_shell.html#Login_shell" title="Command-line shell">Command-line shell#Login shell</a>)
</p>
<pre>if [ -z $DISPLAY ] &amp;&amp; [ "$(tty)" == "/dev/tty1" ]; then
  exec sway
fi
</pre>
<p>For more details, see <a href="../en/Xinit.html#Autostart_X_at_login" title="Xinit">Xinit#Autostart X at login</a>
</p>
<h3><span class="mw-headline" id="From_a_display_manager">From a display manager</span></h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Sway does not support display managers officially.<a rel="nofollow" class="external autonumber" href="https://github.com/swaywm/sway/pull/3634#issuecomment-462779163">[1]</a>
</div>
<p>The sway session is located at <code>/usr/share/wayland-sessions/sway.desktop</code>. It is automatically recognized by modern display managers like <a href="../en/GDM.html" title="GDM">GDM</a> and <a href="../en/SDDM.html" title="SDDM">SDDM</a>.
</p>
<p>It is also possible to start sway as a <a rel="nofollow" class="external text" href="https://github.com/swaywm/sway/wiki/Systemd-integration#running-sway-itself-as-a---user-service">systemd user service</a> through the display manager.
</p>
<p>Also you can use text-based session manager, see <a href="../en/Display_manager.html#Console" title="Display manager">Display manager#Console</a>.
</p>
<h2><span class="mw-headline" id="Configuration">Configuration</span></h2>
<p>If you already use i3, then copy your i3 configuration to <code>~/.config/sway/config</code> and it should work out of the box. Otherwise, copy the sample configuration file to <code>~/.config/sway/config</code>. It is located at <code>/etc/sway/config</code>, unless the <code>DFALLBACK_CONFIG_DIR</code> flag has been set. See <span class="plainlinks archwiki-template-man" title="$ man 5 sway"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/sway.5">sway(5)</a></span> for information on the configuration.
</p>
<h3><span class="mw-headline" id="Keymap">Keymap</span></h3>
<p>By default, sway starts with the US QWERTY keymap. To configure per-input:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/sway/config</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">input * {
    xkb_layout "us,de,ru"
    xkb_variant "colemak,,typewriter"
    xkb_options "grp:win_space_toggle"
}

input &lt;identifier&gt; xkb_model "pc101"
</pre>
<p>More details are available in <span class="plainlinks archwiki-template-man" title="$ man 7 xkeyboard-config"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/xkeyboard-config.7">xkeyboard-config(7)</a></span> and <span class="plainlinks archwiki-template-man" title="$ man 5 sway-input"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/sway-input.5">sway-input(5)</a></span>.
</p>
<p>The keymap can also be configured using environment variables (<code>XKB_DEFAULT_LAYOUT</code>, <code>XKB_DEFAULT_VARIANT</code>, etc.) when starting <code>sway</code>, with config options taking precedence over environment variables.
</p>
<h3><span class="mw-headline" id="Typematic_delay_and_rate">Typematic delay and rate</span></h3>
<p>To change typematic delay and rate, you can add the following lines to your <code>input</code> section:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/sway/config</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">input &lt;identifier&gt; repeat_delay 300
input &lt;identifier&gt; repeat_rate 30
</pre>
<h3><span class="mw-headline" id="Statusbar">Statusbar</span></h3>
<p><i>sway</i> ships with a default status bar in the form of <i>swaybar</i> which runs in a pure <a href="../en/Wayland.html" title="Wayland">Wayland</a> environment. <i>swaybar</i> can call a shell script or other program to show information in the status bar. See <span class="plainlinks archwiki-template-man" title="$ man 5 sway-bar"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/sway-bar.5">sway-bar(5)</a></span> and <span class="plainlinks archwiki-template-man" title="$ man 7 swaybar-protocol"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/swaybar-protocol.7">swaybar-protocol(7)</a></span> for details.
</p>
<p>Installing the program <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=i3status">i3status</a></span> is an option to obtain a practical, default status bar under Wayland. All you have to do is add the following snippet at the end of your sway config:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/sway/config</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">bar {
    status_command i3status
}
</pre>
<p>If you want to achieve colored output of i3status, you can adjust following part in the i3status configuration:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/i3status/config</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">general {
    colors = true
    interval = 5
}</pre>
<p>In both examples, the system-wide installed configuration files have been copied over to the user directory and then modified. 
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=waybar">waybar</a></span> is an alternative to the bar included with sway (swaybar).</div>
<h3><span class="mw-headline" id="Wallpaper">Wallpaper</span></h3>
<p>Since  release 1.1.1 the wallpaper part of the SwayWM project was moved to <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=swaybg">swaybg</a></span>, which is needed in order to run the output command.
</p>
<p>This line, which can be appended at the end of your sway configuration, sets a background image on all displays (output matches all with name <code>"*"</code>):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/sway/config</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">output "*" bg /path/to/image fill
</pre>
<p>Of course you have to replace the file name and path according to your wallpaper.
</p>
<p>You may use <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/azote/">azote</a></span><sup><small>AUR</small></sup> as the GTK3 frontend to swaybg.
</p>
<p>Solid colors may be set as follows:
</p>
<pre>output * bg #000000 solid_color
</pre>
<h3><span class="mw-headline" id="Input_devices">Input devices</span></h3>
<p>It is possible to tweak specific input device configurations. For example, to enable tap-to-click and natural scrolling for all touchpads:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/sway/config</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">input type:touchpad {
    tap enabled
    natural_scroll enabled
}
</pre>
<p>To set configuration for a particular touchpad, use <code>swaymsg -t get_inputs</code> to obtain a device identifier and use it instead of <code>type:touchpad</code>. For example, to set pointer acceleration:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/sway/config</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">input "2:14:ETPS/2_Elantech_Touchpad" pointer_accel 0.2
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> The output from the <code>swaymsg -t get_inputs</code> command may contain "\" to escape symbols like "/" (e.g. <code>"2:14:ETPS\/2_Elantech_Touchpad"</code>) and it needs to be removed.</div>
<p>More documentation and options like acceleration profiles can be found in <span class="plainlinks archwiki-template-man" title="$ man 5 sway-input"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/sway-input.5">sway-input(5)</a></span>.
</p>
<h3><span class="mw-headline" id="HiDPI">HiDPI</span></h3>
<p>Set your displays scale factor with the <code>output</code> command in your config file. The scale factor can be fractional, but it is usually 2 for HiDPI screens.
</p>
<pre>output &lt;name&gt; scale &lt;factor&gt;
</pre>
<p>You can find your display name with the following command:
</p>
<pre>$ swaymsg -t get_outputs
</pre>
<h3><span class="mw-headline" id="Custom_keybindings">Custom keybindings</span></h3>
<p><a href="../en/Extra_keyboard_keys.html" title="Extra keyboard keys">Special keys</a> on your keyboard can be used to execute commands, for example to control volume, monitor brightness or media players:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/sway/config</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">bindsym XF86AudioRaiseVolume exec pactl set-sink-volume @DEFAULT_SINK@ +5%
bindsym XF86AudioLowerVolume exec pactl set-sink-volume @DEFAULT_SINK@ -5%
bindsym XF86AudioMute exec pactl set-sink-mute @DEFAULT_SINK@ toggle
bindsym XF86AudioMicMute exec pactl set-source-mute @DEFAULT_SOURCE@ toggle
bindsym XF86MonBrightnessDown exec brightnessctl set 5%-
bindsym XF86MonBrightnessUp exec brightnessctl set +5%
bindsym XF86AudioPlay exec playerctl play-pause
bindsym XF86AudioNext exec playerctl next
bindsym XF86AudioPrev exec playerctl previous
bindsym XF86Search exec bemenu-run
</pre>
<p>See <a href="../en/PulseAudio.html#Keyboard_volume_control" title="PulseAudio">PulseAudio#Keyboard volume control</a>, <a href="../en/Advanced_Linux_Sound_Architecture.html#Keyboard_volume_control" title="Advanced Linux Sound Architecture">Advanced Linux Sound Architecture#Keyboard volume control</a>, <a href="../en/Backlight.html#Backlight_utilities" title="Backlight">Backlight#Backlight utilities</a> and <a href="../en/MPRIS.html" title="MPRIS">MPRIS</a> for details and alternative utilities.
</p>
<p>To allow a keybinding to be executed while the lockscreen is active add the <code>--locked</code> parameter to bindsym.
</p>
<pre>bindsym --locked XF86AudioPlay exec playerctl play-pause
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/wev/">wev</a></span><sup><small>AUR</small></sup> is a tool which provides functionality similar to that of <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xorg-xev">xorg-xev</a></span>, but on Wayland.</div>
<h4><span class="mw-headline" id="Graphical_indicator_bars">Graphical indicator bars</span></h4>
<p>It is often desirable to have the current level of some percentage-valued setting, such as brightness or volume, be indicated by a graphical bar when it is adjusted. A good option for providing this facility in Sway is <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/wob/">wob</a></span><sup><small>AUR</small></sup> (alternatively <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/wob-git/">wob-git</a></span><sup><small>AUR</small></sup>), which provides a subset of the functionality of the popular X tool <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xob/">xob</a></span><sup><small>AUR</small></sup> but as a native Wayland utility implementing the layer-shell protocol. See the <a rel="nofollow" class="external text" href="https://github.com/francma/wob">project website</a> for usage examples.
</p>
<h3><span class="mw-headline" id="Floating_windows">Floating windows</span></h3>
<p>To enable floating windows or window assignments, open the application and then use the <code>app_id</code>, the <code>class</code>, the <code>instance</code> and the <code>title</code> attributes to enable floating windows/window assignments. The following command will list the properties of all the open windows.
</p>
<pre>$ swaymsg -t get_tree
</pre>
<p>To get only the <code>app_id</code>'s of all open windows use:
</p>
<pre>$ swaymsg -t get_tree | grep "app_id"
</pre>
<p>To get the <code>app_id</code> of the focused window use:
</p>
<pre>$ swaymsg -t get_tree | jq -r '..|try select(.focused == true)'
</pre>
<p>If the <code>app_id</code> happens to be null for some windows, you might have to use the <code>class</code> and/or the <code>instance</code> attributes to enable floating mode/window assignments. You can search the output and create fine grained rules for your windows.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/sway/config</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">for_window [app_id="galculator"] floating enable
assign [class="firefox"] -&gt; 3
assign [class="^Urxvt$" instance="^htop$"] -&gt; 9</pre>
<p>This is similar to using <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xorg-xprop">xorg-xprop</a></span> to find the <code>class</code> or <code>wm_name</code> attributes in <a href="../en/Xorg.html" class="mw-redirect" title="X11">X11</a>.
</p>
<h3><span class="mw-headline" id="Xresources">Xresources</span></h3>
<p>Copy <code>~/.Xresources</code> to <code>~/.Xdefaults</code> to use them in Sway.
</p>
<h3><span class="mw-headline" id="XWayland">XWayland</span></h3>
<p>See <a href="../en/Wayland.html#XWayland" title="Wayland">Wayland#XWayland</a> for details and an overview of available packages.
</p>
<p>The use of XWayland is enabled by default.
</p>
<p>If you would like to disable XWayland entirely and run a "pure" Wayland session, set the following config key to deactivate the use of XWayland:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/sway/config</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">xwayland disable
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Some programs need <a href="../en/Wayland.html#GUI_libraries" title="Wayland">special environment variables or configuration options</a> to run natively under Wayland, and other programs (including most proprietary applications) do not support Wayland at all. Currently it is recommended to keep XWayland on so that legacy applications can be used.</div>
<h2><span class="mw-headline" id="Tips_and_tricks">Tips and tricks</span></h2>
<h3>
<span id="Enable_CapsLock.2FNumLock"></span><span class="mw-headline" id="Enable_CapsLock/NumLock">Enable CapsLock/NumLock</span>
</h3>
<p>Enable the capslock and/or numlock by adding the following lines to your sway config
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/sway/config</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">input * xkb_capslock enable
input * xkb_numlock enable
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Enabling these options may cause Firefox to crash upon reloading your sway config file: <a rel="nofollow" class="external text" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1652820">Bugzilla 1652820</a>
</div>
<h3><span class="mw-headline" id="Current_keyboard_layout">Current keyboard layout</span></h3>
<p>The current keyboard layout can be retrieved as follows, where <code><i>kbd_identifier</i></code> needs to be replaced with your keyboard's identifier:
</p>
<pre>$ swaymsg -t get_inputs | jq -r '.[] | select(.identifier == "<i>kbd_identifier</i>") | .xkb_active_layout_name'
</pre>
<h3><span class="mw-headline" id="Backlight_toggle">Backlight toggle</span></h3>
<p>To turn off (and on) your displays with a key (e.g. <code>Pause</code>) bind the following script in your Sway <code>config</code>:
</p>
<pre>#!/bin/sh
read lcd &lt; /tmp/lcd
    if [ "$lcd" -eq "0" ]; then
        swaymsg "output * dpms on"
        echo 1 &gt; /tmp/lcd
    else
        swaymsg "output * dpms off"
        echo 0 &gt; /tmp/lcd
    fi
</pre>
<h3><span class="mw-headline" id="Screen_capture_and_screen_sharing">Screen capture and screen sharing</span></h3>
<p>See <a href="../en/Screen_capture.html#Wayland" title="Screen capture">Screen capture#Wayland</a>.
</p>
<h3><span class="mw-headline" id="Color_temperature_adjustment">Color temperature adjustment</span></h3>
<p>See <a href="../en/Backlight.html#Wayland" title="Backlight">Backlight#Wayland</a>.
</p>
<h3><span class="mw-headline" id="Control_swaynag_with_the_keyboard">Control swaynag with the keyboard</span></h3>
<p>Swaynag, the default warning/prompt program shipped with sway, only supports user interaction with the mouse. A helper program such as <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/swaynagmode/">swaynagmode</a></span><sup><small>AUR</small></sup> may be used to enable interaction via keyboard shortcuts.
</p>
<p>Swaynagmode works by first launching swaynag, then listening for signals which trigger actions such as selecting the next button, dismissing the prompt, or accepting the selected button. These signals are sent by launching another instance of the swaynagmode script itself with a control argument, such as <code>swaynagmode --select right</code> or <code>swaynagmode --confirm</code>. 
</p>
<p>Swaynagmode by default triggers the sway mode <code>nag</code> upon initialization, followed by <code>default</code> on exit. This makes it easy to define keybindings in your sway configuration:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/sway/config</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">set $nag exec swaynagmode
mode "nag" {
  bindsym {
    Ctrl+d    mode "default"

    Ctrl+c    $nag --exit
    q         $nag --exit
    Escape    $nag --exit

    Return    $nag --confirm

    Tab       $nag --select prev
    Shift+Tab $nag --select next

    Left      $nag --select next
    Right     $nag --select prev

    Up        $nag --select next
    Down      $nag --select prev
  }
}
</pre>
<p>Note that, beginning in sway version 1.2, mode names are case-sensitive.
</p>
<p>You can configure sway to use swaynagmode with the configuration command <code>swaynag_command swaynagmode</code>.
</p>
<h3><span class="mw-headline" id="Change_cursor_theme_and_size">Change cursor theme and size</span></h3>
<p>To set the <a href="../en/Cursor_themes.html" class="mw-redirect" title="Cursor theme">cursor theme</a> and size:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.config/sway/config</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">seat seat0 xcursor_theme <i>my_cursor_theme</i> <i>my_cursor_size</i>
</pre>
<p>Where <code><i>my_cursor_theme</i></code> can be set to or replaced by a specific value like <code>default</code>, <code>Adwaita</code> or <code>Simple-and-Soft</code>, and <code><i>my_cursor_size</i></code> a value like <code>48</code>.
</p>
<p>You can inspect their values with <code>echo $XCURSOR_SIZE</code> and <code>echo $XCURSOR_THEME</code>.
</p>
<p>Note that you need to restart the application to see the changes.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Wayland uses client-side cursors. It's possible that applications do not evaluate the values of <code>$XCURSOR_SIZE</code> and <code>$XCURSOR_THEME</code>.</div>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="mw-headline" id="Application_launchers">Application launchers</span></h3>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> Sway's wiki also has a <a rel="nofollow" class="external text" href="https://github.com/swaywm/sway/wiki#program-launchers">list of known application launchers</a>.</div>
<p>i3-dmenu-desktop, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dmenu">dmenu</a></span>, and <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=rofi">rofi</a></span> all function relatively well in Sway, but all run under XWayland and suffer from the same issue where they can become unresponsive if the cursor is moved to a native Wayland window. The reason for this issue is that Wayland clients/windows do not have access to input devices unless they have focus of the screen. The XWayland server is itself a client to the Wayland compositor, so one of its XWayland clients must have focus for it to access user input. However, once one of its clients has focus, it can gather input and make it available to all XWayland clients through the X11 protocol. Hence, moving the cursor to an XWayland window and pressing Escape should fix the issue, and sometimes running <code>pkill</code> does too.
</p>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=bemenu">bemenu</a></span> is a native Wayland dmenu replacement which can optionally be combined with <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/j4-dmenu-desktop/">j4-dmenu-desktop</a></span><sup><small>AUR</small></sup> to provide a Wayland-native combination for launching desktop files (as i3-dmenu-desktop does):
</p>
<pre>j4-dmenu-desktop --dmenu='bemenu -i --nb "#3f3f3f" --nf "#dcdccc" --fn "pango:DejaVu Sans Mono 12"' --term='termite'
</pre>
<p>You may need to set <code>BEMENU_BACKEND</code> environment variable to "wayland" if you choose not to disable XWayland.
</p>
<p>You can also build your own with a floating terminal and fzf as discussed in a <a rel="nofollow" class="external text" href="https://github.com/swaywm/sway/issues/1367">GitHub issue</a>.
</p>
<p>Also <code>krunner</code> binary provided by <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=plasma-workspace">plasma-workspace</a></span> package can serve as launcher, offering both XWayland and native Wayland support.
</p>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/rofi-lbonn-wayland-git/">rofi-lbonn-wayland-git</a></span><sup><small>AUR</small></sup> is a fork of <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=rofi">rofi</a></span> that works in Wayland and also has an <code>-x11</code> flag if you need to launch it in an X11 session. 
</p>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=wofi">wofi</a></span> is a command launcher, that provides some of the same features as rofi but running under Wayland. wofi lacks some features from rofi like an SSH mode and a window-switching mode. It is based on <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=wlroots">wlroots</a></span> library and use GTK3 for rendering. It works pretty well with sway.
</p>
<h3><span class="mw-headline" id="Virtualization">Virtualization</span></h3>
<p>Sway works with both <a href="../en/VirtualBox.html" title="VirtualBox">VirtualBox</a> and <a href="../en/VMware.html" title="VMware">VMware</a> ESXi.
</p>
<h4><span class="mw-headline" id="Unable_to_start_Sway_from_tty">Unable to start Sway from tty</span></h4>
<p>For ESXi, you need to enable 3D support under the <i>Hardware Configuration &gt; Video card settings</i>. See also <a href="../en/VMware.html#Enable_3D_graphics_on_Intel_and_Optimus" title="VMware">VMware#Enable 3D graphics on Intel and Optimus</a>.
</p>
<h4><span class="mw-headline" id="No_visible_cursor">No visible cursor</span></h4>
<p>When using the VMSVGA graphics controller, the cursor is invisible. This can be fixed by using software cursors as discussed in <a rel="nofollow" class="external autonumber" href="https://github.com/swaywm/sway/issues/3814">[2]</a>:
</p>
<pre>$ export WLR_NO_HARDWARE_CURSORS=1
</pre>
<h3><span class="mw-headline" id="Sway_socket_not_detected">Sway socket not detected</span></h3>
<p>Using a <code>swaymsg</code> argument, such as <code>swaymsg -t get_outputs</code>, will sometimes return the message:
</p>
<pre>sway socket not detected.
ERROR: Unable to connect to
</pre>
<p>when run inside a terminal multiplexer (such as gnu screen or tmux). This means <code>swaymsg</code> could not connect to the socket provided in your <code>SWAYSOCK</code>.
</p>
<p>To view what the current value of <code>SWAYSOCK</code> is, type:
</p>
<pre>$ env | fgrep SWAYSOCK
SWAYSOCK=/run/user/1000/sway-ipc.1000.4981.sock
</pre>
<p>To work around this problem, you may try attaching to a socket based on the running sway process:
</p>
<pre>$ export SWAYSOCK=/run/user/$(id -u)/sway-ipc.$(id -u).$(pgrep -x sway).sock
</pre>
<p>To avoid this error, run the command outside of a multiplexer.
</p>
<h3><span class="mw-headline" id="Unable_to_retrieve_socket_path">Unable to retrieve socket path</span></h3>
<p>Requesting messages from <code>swaymsg -t</code> on a tty may return the following message:
</p>
<pre>Unable to retrieve socket path
</pre>
<p><code>SWAYSOCK</code> environment variable is set after launching Sway, therefore a workaround to this error is to request <code>swaymsg -t [message]</code> in a terminal inside Sway.
</p>
<h3><span class="mw-headline" id="Keybindings_and_keyboard_layouts">Keybindings and keyboard layouts</span></h3>
<p>By default, if you are using more than one keyboard layout, e.g. <code>input * xkb_layout "us,ru"</code>, bindings may become broken when you switch on some secondary layout.
</p>
<p>Thanks to <a rel="nofollow" class="external free" href="https://github.com/swaywm/sway/pull/3058">https://github.com/swaywm/sway/pull/3058</a>, all you need is to add <code>--to-code</code> key to sensitive <code>bindsym</code> lines like this:
</p>
<pre>bindsym --to-code {
  $mod+$left focus left
  $mod+$down focus down
  $mod+$up focus up
  $mod+$right focus right
}
</pre>
<p>Alternatively you can create a variable <code>set $mybind bindsym --to-code</code> and then replace all instances of <code>bindsym</code> with <code>$mybind</code> like so: <code>$mybind $mod+w thing</code>
</p>
<h3><span class="mw-headline" id="Java_applications">Java applications</span></h3>
<p>Some Java-based applications will display blank screen when opened, for example any Intellij editor. To mitigate this, the application can be started with the <code>_JAVA_AWT_WM_NONREPARENTING</code> environment variable set to 1.
</p>
<p>If you start the application from a launcher like <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=rofi">rofi</a></span> or <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dmenu">dmenu</a></span>, you might want to modify the application desktop entry as shown in <a href="../en/Desktop_entries.html#Modify_environment_variables" title="Desktop entries">Desktop entries#Modify environment variables</a>.
</p>
<p>Some issues with Java applications have been fixed in OpenJDK 11 and Sway 1.5. However, certain applications require additional configuration to use newer versions of OpenJDK, in the case of Android Studio you must set <code>STUDIO_JDK=/usr/lib/jvm/java-11-openjdk-amd64/</code>. <a rel="nofollow" class="external autonumber" href="https://github.com/swaywm/sway/issues/5414">[3]</a>
</p>
<h3><span class="mw-headline" id="Scroll_on_border">Scroll on border</span></h3>
<p>If using the mouse scroll wheel on an application's border crashes sway, you could use <code>border none</code> for the <code>app_id</code> (e.g. Firefox).
</p>
<h3><span class="mw-headline" id="Program_cannot_open_display">Program cannot open display</span></h3>
<p>If a program crashes on start with the error message "cannot open display", it is likely that the program you are using is an X11 program. You can use the XWayland compatibility layer to run X11 programs under Wayland, see <a href="#XWayland">#XWayland</a> for details.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://github.com/swaywm/sway">GitHub project</a></li>
<li><a rel="nofollow" class="external text" href="https://github.com/swaywm/sway/wiki">Sway official wiki</a></li>
<li><a rel="nofollow" class="external text" href="https://swaywm.org">Website</a></li>
<li><a rel="nofollow" class="external text" href="https://drewdevault.com/2019/03/11/Sway-1.0-released.html">Announcing the release of sway 1.0</a></li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../en/Category:Tiling_WMs.html" title="Category:Tiling WMs">Tiling WMs</a></li>
<li><a href="../en/Category:Dynamic_WMs.html" title="Category:Dynamic WMs">Dynamic WMs</a></li>
</ul>
</div></div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Sway&amp;oldid=649199">https://wiki.archlinux.org/index.php?title=Sway&amp;oldid=649199</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 18 January 2021, at 13:23.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
