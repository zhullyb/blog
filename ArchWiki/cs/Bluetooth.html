<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Bluetooth (Česky) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Bluetooth_Česky rootpage-Bluetooth_Česky skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Bluetooth (Česky)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-refresh-red.png" class="image"><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" decoding="async" width="48" height="48"></a><b>This article or section is out of date.</b><a href="../File:Tango-view-refresh-red.png" class="image"><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> <span style="color:red;">please use the first argument of the template to provide a brief explanation.</span> (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Bluetooth_(%C4%8Cesky)">Talk:Bluetooth (Česky)#</a>)</div>
</div>
<p><a rel="nofollow" class="external text" href="http://www.bluetooth.org/">Bluetooth</a> je standard pro bezdrátové propojení mobilních telefonů, počítačů a dalších elektronických zařízení krátkého dosahu. V Linuxu je kanonická implementace balíku protokolů Bluetooth <a rel="nofollow" class="external text" href="http://www.bluez.org/">BlueZ</a>.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Instalace"><span class="tocnumber">1</span> <span class="toctext">Instalace</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#Grafick%C3%A9_nadstavby"><span class="tocnumber">2</span> <span class="toctext">Grafické nadstavby</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Blueman"><span class="tocnumber">2.1</span> <span class="toctext">Blueman</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#gnome-bluetooth"><span class="tocnumber">2.2</span> <span class="toctext">gnome-bluetooth</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#bluedevil"><span class="tocnumber">2.3</span> <span class="toctext">bluedevil</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Fluxbox,_openbox_a_dal%C5%A1%C3%AD"><span class="tocnumber">2.4</span> <span class="toctext">Fluxbox, openbox a další</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#Manu%C3%A1ln%C3%AD_konfigurace"><span class="tocnumber">3</span> <span class="toctext">Manuální konfigurace</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#P%C3%A1rov%C3%A1n%C3%AD"><span class="tocnumber">4</span> <span class="toctext">Párování</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Pou%C5%BEit%C3%AD_Obex_pro_pos%C3%ADl%C3%A1n%C3%AD_a_p%C5%99%C3%ADj%C3%ADm%C3%A1n%C3%AD_soubor%C5%AF"><span class="tocnumber">5</span> <span class="toctext">Použití Obex pro posílání a příjímání souborů</span></a></li>
<li class="toclevel-1 tocsection-10">
<a href="#P%C5%99%C3%ADklady"><span class="tocnumber">6</span> <span class="toctext">Příklady</span></a>
<ul>
<li class="toclevel-2 tocsection-11"><a href="#Siemens_S55"><span class="tocnumber">6.1</span> <span class="toctext">Siemens S55</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#My%C5%A1_Logitech_MX_Laser_/_M555b"><span class="tocnumber">6.2</span> <span class="toctext">Myš Logitech MX Laser / M555b</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Motorola_V900"><span class="tocnumber">6.3</span> <span class="toctext">Motorola V900</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Motorola_RAZ"><span class="tocnumber">6.4</span> <span class="toctext">Motorola RAZ</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#P%C3%A1rov%C3%A1n%C3%AD_iPhone_pou%C5%BEit%C3%ADm_bluez-simple-agenta"><span class="tocnumber">6.5</span> <span class="toctext">Párování iPhone použitím bluez-simple-agenta</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-16">
<a href="#%C5%98e%C5%A1en%C3%AD_probl%C3%A9m%C5%AF"><span class="tocnumber">7</span> <span class="toctext">Řešení problémů</span></a>
<ul>
<li class="toclevel-2 tocsection-17"><a href="#passkey-agent"><span class="tocnumber">7.1</span> <span class="toctext">passkey-agent</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Blueman_2"><span class="tocnumber">7.2</span> <span class="toctext">Blueman</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#gnome-bluetooth_2"><span class="tocnumber">7.3</span> <span class="toctext">gnome-bluetooth</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#Bluetooth_USB_kl%C3%AD%C4%8Denka"><span class="tocnumber">7.4</span> <span class="toctext">Bluetooth USB klíčenka</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#hcitool_scan:_Device_not_found"><span class="tocnumber">7.5</span> <span class="toctext">hcitool scan: Device not found</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#Nelze_nal%C3%A9zt_po%C4%8D%C3%ADta%C4%8D"><span class="tocnumber">7.6</span> <span class="toctext">Nelze nalézt počítač</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#Nautilus_nem%C5%AF%C5%BEe_proch%C3%A1zet_soubory"><span class="tocnumber">7.7</span> <span class="toctext">Nautilus nemůže procházet soubory</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-24"><a href="#Zdroje"><span class="tocnumber">8</span> <span class="toctext">Zdroje</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Instalace">Instalace</span></h2>
<p>Nainstalujte balíčky <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=bluez">bluez</a></span> a <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=bluez-utils">bluez-utils</a></span>. Balíček <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=bluez">bluez</a></span> poskytuje sadu protokolů Bluetooth a balíček,  <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=bluez-utils">bluez-utils</a></span> poskytuje nástroj <code>bluetoothctl</code>. 
</p>
<pre># pacman -S bluez bluez-utils
</pre>
<p>Vložte obecný ovladač bluetooth, pokud již nebyl vložen:
</p>
<pre># modprobe btusb
</pre>
<p>Přes systemd nastartujte službu <code>bluetooth.service</code>.
</p>
<pre># systemctl start bluetooth.service
</pre>
<p>Můžete také povolit automatický start při bootu.
</p>
<pre># systemctl enable bluetooth.service
</pre>
<h2>
<span id="Grafick.C3.A9_nadstavby"></span><span class="mw-headline" id="Grafické_nadstavby">Grafické nadstavby</span>
</h2>
<p>Následující balíčky vám umožní využívat grafické prostředí k nastavování Bluetooth.
</p>
<h3><span class="mw-headline" id="Blueman">Blueman</span></h3>
<p><a href="../en/Blueman.html" title="Blueman">blueman</a> je program pro správu Bluetooth. Je naprogramován v GTK a používá se hlavně v <a href="../en/GNOME.html" title="GNOME">GNOME</a> nebo <a href="../en/Xfce.html" title="Xfce">Xfce</a>. Nainstalujte <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=blueman">blueman</a></span> nebo <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/blueman-git/">blueman-git</a></span><sup><small>AUR</small></sup> z <a href="../cs/Arch_User_Repository.html" class="mw-redirect" title="AUR (Česky)">AUR</a>.
</p>
<p>Ujistěte se, že <i>bluetooth</i> daemon běží a spusťte příkaz <i>blueman-applet</i>. Pokud chcete, aby se applet spouštěl automaticky při přihlášení přidejte <i>blueman-applet</i> do <i>System -&gt; Preferences -&gt; Startup Applications</i> (GNOME) nebo v <i>Xfce Menu -&gt; Settings -&gt; Session and Startup</i> (Xfce).
</p>
<p>Pozn.: Pokud nepoužíváte nautilus, může vám být užitečné toto:
</p>
<pre>#!/bin/bash
fusermount -u ~/bluetooth
obexfs -b $1 ~/bluetooth
thunar ~/bluetooth
</pre>
<p>bez fusermount -u /mountpoint pravděpodobně skončí s chybovou hláškou způsobenou nesprávným odpojením fuse filesystému.
</p>
<p>Následně budete muset přesunout skript (obex_thunar.sh) do /usr/bin, a potom spustit:
</p>
<pre>$ chmod +x /usr/bin/obex_thunar.sh
</pre>
<p>Jako poslední věc byste měli změnit řádek v Local Services &gt; Transfer &gt; Advanced to obex_thunar.sh %d
</p>
<h3><span class="mw-headline" id="gnome-bluetooth">gnome-bluetooth</span></h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gnome-bluetooth">gnome-bluetooth</a></span> je odnož starého <i>bluez-gnome</i> a je zameřeno na integraci s desktopovým prostředím GNOME. Nejdříve nainstalujte gnome-bluetooth:
</p>
<pre># pacman -S gnome-bluetooth gnome-user-share
</pre>
<p>Spusťte příkaz <i>bluetooth-applet</i>. Měla by se vám objevit malá ikonka bluetooth v tray. Kliknutím pravým tlačítkem na ikonu je možné přidávat a spravovat nová zařízení nebo posílat soubory. Pokud chcete, aby se applet spouštěl po přihlášení, přidejte ho do <i>System -&gt; Preferences -&gt; Startup Applications</i>.
</p>
<h3><span class="mw-headline" id="bluedevil">bluedevil</span></h3>
<p>Hlavním nástorojem pro správu Bluetooth v KDE4 je program bluedevil. Pro instalaci spusťte:
</p>
<pre># pacman -S bluedevil
</pre>
<p>Ujistěte se, že vám v pozadí běží daemon pro práci s bluetooth. Po spuštění programu by se měla objevit ikona v Dolphinu a v tray. Odteď pomocí ní můžete konfigurovat bluedevil a spravovat bluetooth zářízení. To můžete také z nastavení systému v KDE.
</p>
<h3>
<span id="Fluxbox.2C_openbox_a_dal.C5.A1.C3.AD"></span><span class="mw-headline" id="Fluxbox,_openbox_a_další">Fluxbox, openbox a další</span>
</h3>
<p>Samozřejmě, že můžete používat předchozí aplikace, i když jako svoje grafické nepoužíváte GNOME, Xfce nebo KDE.
</p>
<p><br>
Tento seznam by vám měl pomoci porozumět tomu, co jaká aplikace dělá:
</p>
<ul>
<li>bluetooth-applet -- tray ikona s možností nastavení bluetooth, párováním nových zařízení a správou zařízení zpárovaných</li>
<li>/usr/lib/gnome-user-share/gnome-user-share -- musí běžet pokud chcete příjímat soubory přes obexBT ze spárovaného zařízení</li>
</ul>
<p>pokud se v průběhu přenosu ukazuje chyba nebo pokud se žádný soubor nakonec nepřenese, přidejte následující kus kódu do souboru
</p>
<p><tt>/etc/dbus-1/system.d/bluetooth.conf</tt>
</p>
<pre> &lt;policy user="vase_uzivatelske_id"&gt;
   &lt;allow own="org.bluez"/&gt;
   &lt;allow send_destination="org.bluez"/&gt;
   &lt;allow send_interface="org.bluez.Agent"/&gt;
 &lt;/policy&gt;
</pre>
<p><br>
</p>
<ul>
<li>bluetooth-wizard -- užívá se pro párování nových zařízení</li>
<li>bluetooth-properties -- je přístupný i přes ikonu bluetooth-appletu</li>
<li>gnome-file-share-properties -- nastavení oprávnění pro příjímání souborů přes bluetooth</li>
<li>bluez-sendto -- grafické rozhraní pro posílání souborů vzdáleným bluetooth zařízením</li>
</ul>
<h2>
<span id="Manu.C3.A1ln.C3.AD_konfigurace"></span><span class="mw-headline" id="Manuální_konfigurace">Manuální konfigurace</span>
</h2>
<p>Pro manuální konfiguraci bluetooth (<tt>bluez</tt>), budete potřebovat upravit konfigurační soubory v <tt>/etc/bluetooth</tt>. Jedná se o soubory:
</p>
<pre>audio.conf
input.conf
main.conf
network.conf
rfcomm.conf
</pre>
<p>Defaultní konfigurace by měla fungovat bez problémů. Většina výše zmíněných konfiguračních souborů je velice dobře zdokumentovaná, proto by poupravení parametrů neměl být problém. Hlavní nastavení bluetooth je v souboru <tt>main.conf</tt> - tím začněte.
</p>
<p><br>
</p>
<h2>
<span id="P.C3.A1rov.C3.A1n.C3.AD"></span><span class="mw-headline" id="Párování">Párování</span>
</h2>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong>  Toto řešení nemusí být úplně to nejlepší. Vřelé díky Gattschardo za jeho řešení.<i></i>
</div>
<p>Většina bluetooth zařízení vyžaduje <a href="https://en.wikipedia.org/wiki/Bluetooth#Pairing" class="extiw" title="wikipedia:Bluetooth">párování</a>.
Způsob párování počítače s mobilním telefonem:
</p>
<ul>
<li>Počítač pošle telefonu žádost o připojení.</li>
<li>Pin/Klíč, který určí počítač, se musí zadat na telefonu (telefon si ho sám vyžádá)</li>
<li>Stejný klíč musí být znovu zadán na počítači</li>
</ul>
<p>Pro skenování okolních zařízení proveďte příkaz
</p>
<pre> $ hcitool scan
</pre>
<p>Pro spárování zařízení bez použití grafického rozhraní balíku gnome-bluez budete muset použít nástroj zvaný <i>bluez-simple-agent</i>, který je součástí balíku bluez. Dále budete potřebovat několik souvisejících python balíčků - <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=python2-dbus">python2-dbus</a></span> a <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/python2-gobject2/">python2-gobject2</a></span><sup><small>AUR</small></sup>. Pokud máte vše připraveno, můžete spustit program pro párování (musí být spušten pod uživatelem root).
</p>
<pre> $ bluez-simple-agent
</pre>
<p>Pokud se vše zdařilo, měla by se vám v konzoli zobrazit hlaška "Agent registered". Následně můžete začít párování ze svého mobilního telefonu. Skript se vás v konzoli zeptá na tzv. passcode, vložte ho a potvrďte enterem - voalá, povedlo se. Teď už můžete ukončit agenta použitím klávesy <i>Ctrl+C</i> (^C-c). Agenta jsme použili pouze pro párování, nebudeme ho potřebovat při každém připojení zařízení. Pokud váš telefon nemuže naleznout počítač, pokračujte do <a href="#Nelze_nal.C3.A9zt_po.C4.8D.C3.ADta.C4.8D">řešení problémů</a>.
</p>
<p>Pro příklad spárování přejděte do sekce <i>příklady</i>.
</p>
<h2>
<span id="Pou.C5.BEit.C3.AD_Obex_pro_pos.C3.ADl.C3.A1n.C3.AD_a_p.C5.99.C3.ADj.C3.ADm.C3.A1n.C3.AD_soubor.C5.AF"></span><span class="mw-headline" id="Použití_Obex_pro_posílání_a_příjímání_souborů">Použití Obex pro posílání a příjímání souborů</span>
</h2>
<p>Obexfs vám umožňuje připojit váš telefon jako část vašeho filesystému. Pro použití Obexfs budete potřebovat zařízení, které podporuje službu ObexFTP.
</p>
<p>Pro instalaci spusťte:
</p>
<pre># pacman -S obexfs
</pre>
<p>a následně připojte svůj telefon spuštěním (jako root): 
</p>
<pre># obexfs -b &lt;mac_addresa_zarizeni&gt; /mountpoint
</pre>
<p>Pro další možnosti připojení filesystému pomocí ObexFS koukněte <a rel="nofollow" class="external text" href="http://dev.zuckschwerdt.org/openobex/wiki/ObexFs">sem</a>.
</p>
<h2>
<span id="P.C5.99.C3.ADklady"></span><span class="mw-headline" id="Příklady">Příklady</span>
</h2>
<h3><span class="mw-headline" id="Siemens_S55">Siemens S55</span></h3>
<p>Ukázka připojení telefonu S55.
</p>
<ul>
<li>Kroky po instalaci</li>
<li class="mw-empty-elt">
</ul>
<pre>  $&gt; hcitool scan
  Scanning ...
          XX:XX:XX:XX:XX:XX  JMENO_ZARIZENI
  $&gt; B=XX:XX:XX:XX:XX:XX
</pre>
<p>Spustil jsem simple-agent v dalším terminálu
</p>
<pre>  $&gt; su -c bluez-simple-agent 
  Password: 
  Agent registered
</pre>
<p>A následně se vrátil k terminálu prvnímu  
</p>
<pre>  $&gt; obexftp -b $B -l "Address book"
  # Telefon se v této části zeptal na pin. Vložil jsem ho a stisknul OK.
  ...
  &lt;file name="5F07.adr" size="78712" modified="20030101T001858" user-perm="WD" group-perm="" /&gt;
  ...
  $&gt; obexftp -b 00:01:E3:6B:FF:D7 -g "Address book/5F07.adr"
  Browsing 00:01:E3:6B:FF:D7 ...
  Channel: 5
  Connecting...done
  Receiving "Address book/5F07.adr"... Sending "Address book"... done
  Disconnecting...done
  $&gt; obexftp -b 00:01:E3:6B:FF:D7 -p a                      
  ...
  Sending "a"... done
  Disconnecting...done
</pre>
<h3>
<span id="My.C5.A1_Logitech_MX_Laser_.2F_M555b"></span><span class="mw-headline" id="Myš_Logitech_MX_Laser_/_M555b">Myš Logitech MX Laser / M555b</span>
</h3>
<p>Pro rychlé otestování připojení:
</p>
<pre>$&gt; hidd --connect XX:XX:XX:XX:XX:XX
</pre>
<p>Pro konfiguraci automatického připojení myši použijte svého desktopového průvodce.
Pokud ve vašem prostředí nemáte tuto možnost, koukněte na <a href="../cs/Bluetooth_mouse.html" class="mw-redirect" title="Bluetooth myš">Bluetooth myš</a>.
</p>
<h3><span class="mw-headline" id="Motorola_V900">Motorola V900</span></h3>
<p>Po instalaci programu blueman a spuštění appletu blueman-applet, klikněte  na "find me" pod položkou connections -&gt; bluetooth v zařízení motorola.
V programu blueman-applet vyhledejte zařízení, najděte svou motorolu a klikněte na "přidat". Potom kliněte na spárovat a vložte nějaký pin. Až se telefon zeptá, vložte ten samý pin vložte do telefonu motorola. V terminálu:
</p>
<pre>  cd ~/
  mkdir bluetooth-temp
  obexfs -n xx:yy:zz:... ~/bluetooth-temp
  cd ~/bluetooth-temp
</pre>
<p>a můžete brouzdat svým filesystémem na telefonu.
</p>
<h3><span class="mw-headline" id="Motorola_RAZ">Motorola RAZ</span></h3>
<pre>&gt; pacman -S obextool obexfs obexftp openobex bluez
</pre>
<pre>&gt; lsusb
Bus 005 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
Bus 004 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
Bus 003 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
Bus 002 Device 002: ID 03f0:171d Hewlett-Packard Wireless (Bluetooth + WLAN) Interface [Integrated Module]
Bus 002 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
</pre>
<pre>&gt; hciconfig hci0 up
</pre>
<pre>&gt; hciconfig
hci0:   Type: BR/EDR  Bus: USB
        BD Address: 00:16:41:97:BA:5E  ACL MTU: 1017:8  SCO MTU: 64:8
        UP RUNNING
        RX bytes:348 acl:0 sco:0 events:11 errors:0
        TX bytes:38 acl:0 sco:0 commands:11 errors:0
</pre>
<pre>&gt; hcitool dev
Devices:
        hci0    00:16:41:97:BA:5E
</pre>
<p><b>Upozornění: Ujistěte se, že máte zaplé bluetooh a telefon máte ve viditelném módu!</b>
<b></b>
</p>
<pre>&gt; hcitool scan
Scanning ...
        00:1A:1B:82:9B:6D       [quirxi]
</pre>
<pre>&gt; hcitool inq
Inquiring ...
        00:1A:1B:82:9B:6D       clock offset: 0x1ee4    class: 0x522204
</pre>
<pre>&gt; l2ping 00:1A:1B:82:9B:6D
Ping: 00:1A:1B:82:9B:6D from 00:16:41:97:BA:5E (data size 44) ...
44 bytes from 00:1A:1B:82:9B:6D id 0 time 23.94ms
44 bytes from 00:1A:1B:82:9B:6D id 1 time 18.85ms
44 bytes from 00:1A:1B:82:9B:6D id 2 time 30.88ms
44 bytes from 00:1A:1B:82:9B:6D id 3 time 18.88ms
44 bytes from 00:1A:1B:82:9B:6D id 4 time 17.88ms
44 bytes from 00:1A:1B:82:9B:6D id 5 time 17.88ms
6 sent, 6 received, 0% loss
</pre>
<pre>&gt; hcitool JMENO  00:1A:1B:82:9B:6D
[quirxi]
</pre>
<pre># hciconfig -a hci0
hci0:   Type: BR/EDR  Bus: USB
        BD Address: 00:16:41:97:BA:5E  ACL MTU: 1017:8  SCO MTU: 64:8
        UP RUNNING
        RX bytes:9740 acl:122 sco:0 events:170 errors:0
        TX bytes:2920 acl:125 sco:0 commands:53 errors:0
        Features: 0xff 0xff 0x8d 0xfe 0x9b 0xf9 0x00 0x80
        Packet type: DM1 DM3 DM5 DH1 DH3 DH5 HV1 HV2 HV3
        Link policy:
        Link mode: SLAVE ACCEPT
        Name: 'BCM2045'
        Class: 0x000000
        Service Classes: Unspecified
        Device Class: Miscellaneous,
        HCI Version: 2.0 (0x3)  Revision: 0x204a
        LMP Version: 2.0 (0x3)  Subversion: 0x4176
        Manufacturer: Broadcoml / Corporation (15)
</pre>
<pre>&gt; hcitool info 00:1A:1B:82:9B:6D
Requesting information ...
        BD Address:  00:1A:1B:82:9B:6D
        Device Name: [quirxi]
        LMP Version: 1.2 (0x2) LMP Subversion: 0x309
        Manufacturer: Broadcom Corporation (15)
        Features: 0xff 0xfe 0x0d 0x00 0x08 0x08 0x00 0x00
                &lt;3-slot packets&gt; &lt;5-slot packets&gt; &lt;encryption&gt; &lt;slot offset&gt;
                &lt;timing accuracy&gt; &lt;role switch&gt; &lt;hold mode&gt; &lt;sniff mode&gt;
                &lt;RSSI&gt; &lt;channel quality&gt; &lt;SCO link&gt; &lt;HV2 packets&gt;
                &lt;HV3 packets&gt; &lt;A-law log&gt; &lt;CVSD&gt; &lt;power control&gt;
                &lt;transparent SCO&gt; &lt;AFH cap. slave&gt; &lt;AFH cap. master&gt;
</pre>
<p><br>
<b>Upravte si konfigurační soubor main.conf a vložte novou položku pro váš telefon ( Class = 0x100100 ):</b>
</p>
<pre>&gt; vim /etc/bluetooth/main.conf
</pre>
<pre>  # Default device class. Only the major and minor device class bits are
  # considered.
  #Class = 0x000100
  Class =  0x100100
</pre>
<pre>&gt; /etc/rc.d/dbus start
:: Starting D-BUS system messagebus 
[DONE]
</pre>
<pre>&gt; /etc/rc.d/bluetooth start
:: Stopping bluetooth subsystem:  pand dund rfcomm hidd  bluetoothd
[DONE]
:: Starting bluetooth subsystem:  bluetoothd
</pre>
<p><br>
<b>Párování se dělá pouze jednou programem bluez-simple-agent. Jakmile se vaše motorola zeptá na pin, zadejte 0000.</b>
</p>
<pre>&gt; /usr/bin/bluez-simple-agent hci0 00:1A:1B:82:9B:6D
RequestPinCode (/org/bluez/10768/hci0/dev_00_1A_1B_82_9B_6D)
Enter PIN Code: 0000
Release
New device (/org/bluez/10768/hci0/dev_00_1A_1B_82_9B_6D)
</pre>
<p><b>Teď můžete brouzdat filesystémem ve svém telefonu pomocí programu obexftp:</b>
</p>
<pre>&gt; obexftp -v -b 00:1A:1B:82:9B:6D -B 9 -l
Connecting..\done
Tried to connect for 448ms
Receiving "(null)"...-&lt;?xml version="1.0" ?&gt;
&lt;!DOCTYPE folder-listing SYSTEM "obex-folder-listing.dtd"&gt;
&lt;folder-listing&gt;
&lt;parent-folder /&gt;
&lt;folder name="audio" size="0" type="folder" modified="20101010T132323Z" user-perm="RW" /&gt;
&lt;folder name="video" size="0" type="folder" modified="20101010T132323Z" user-perm="RW" /&gt;
&lt;folder name="picture" size="0" type="folder" modified="20101010T132323Z" user-perm="RW" /&gt;
&lt;/folder-listing&gt;
done
Disconnecting..\done
</pre>
<p><b>Nebo můžete načíst/mountnout svůj telefon do nějakého adresáře na svém počítači a pracovat s ním jako s normálním filesystémem:</b>
</p>
<pre>&gt; groupadd bluetooth
&gt; mkdir /mnt/bluetooth
&gt; chown root:bluetooth /mnt/bluetooth
&gt; chmod 775 /mnt/bluetooth
&gt; usermod -a -G bluetooth arno
</pre>
<pre>&gt; obexfs -b 00:1A:1B:82:9B:6D /mnt/bluetooth/
&gt; l /mnt/bluetooth/
total 6
drwxr-xr-x 1 root root    0 10. Okt 13:25 .
drwxr-xr-x 5 root root 4096 10. Okt 10:08 ..
drwxr-xr-x 1 root root    0 10. Okt 2010  audio
drwxr-xr-x 1 root root    0 10. Okt 2010  picture
drwxr-xr-x 1 root root    0 10. Okt 2010  video
</pre>
<h3>
<span id="P.C3.A1rov.C3.A1n.C3.AD_iPhone_pou.C5.BEit.C3.ADm_bluez-simple-agenta"></span><span class="mw-headline" id="Párování_iPhone_použitím_bluez-simple-agenta">Párování iPhone použitím bluez-simple-agenta</span>
</h3>
<p>Příklad zařízení pojmenovaného jako hci0 a iPhonu, který byl rozpoznán programem hcitool jako '00:00:DE:AD:BE:EF':
</p>
<pre>   # bluez-simple-agent hci0 00:00:DE:AD:BE:EF
   Passcode:
</pre>
<h2>
<span id=".C5.98e.C5.A1en.C3.AD_probl.C3.A9m.C5.AF"></span><span class="mw-headline" id="Řešení_problémů">Řešení problémů</span>
</h2>
<h3><span class="mw-headline" id="passkey-agent">passkey-agent</span></h3>
<pre>$&gt; passkey-agent --default 1234
Can't register passkey agent
The name org.bluez was not provided by any .service files
</pre>
<p>Pravděpodobně jste spustili <tt>/etc/rc.d/bluetooth</tt> dříve než <tt>/etc/rc.d/dbus</tt>
</p>
<pre>$&gt; hciconfig dev
# (no listing)
</pre>
<p>Zkuste spustit <tt>hciconfig hc0 up</tt>
</p>
<h3><span class="mw-headline" id="Blueman_2">Blueman</span></h3>
<p>Jeslitliže blueman-applet skončí s chybou, zkuste odstranit veškerý obsah adresáře <i>/var/lib/bluetooth</i> a restartovat systém (nebo pouze daemony hal, dbus a bluetooth).
</p>
<pre># rm -rf /var/lib/bluetooth
# reboot
</pre>
<h3><span class="mw-headline" id="gnome-bluetooth_2">gnome-bluetooth</span></h3>
<p>Jesliže se vám ukazuje následující chyba, když příjímate soubory v bluetooth-properties:
</p>
<pre> Bluetooth OBEX start failed: Invalid path
 Bluetooth FTP start failed: Invalid path
</pre>
<p>Pak spusťte příkazy:
</p>
<pre> # pacman -S xdg-user-dirs
 $ xdg-user-dirs-update
</pre>
<p>Můžete také upravit cesty použitím:
</p>
<pre> $ vi ~/.config/user-dirs.dirs
</pre>
<h3>
<span id="Bluetooth_USB_kl.C3.AD.C4.8Denka"></span><span class="mw-headline" id="Bluetooth_USB_klíčenka">Bluetooth USB klíčenka</span>
</h3>
<p>Pokud používáte bluetooth USB klíčenku, měli byste zkontrolovat, jestli ji váš systém rozpoznal. To provedete po zapojení klíčenky do USB prozkoumáním logů v <code>/var/log/messages.log</code>. Mělo by tam být něco jako toto (Koukejte po hci):
</p>
<pre># tail -f /var/log/messages.log
May  2 23:36:40 tatooine usb 4-1: new full speed USB device using uhci_hcd and address 9
May  2 23:36:40 tatooine usb 4-1: configuration #1 chosen from 1 choice
May  2 23:36:41 tatooine hcid[8109]: HCI dev 0 registered
May  2 23:36:41 tatooine hcid[8109]: HCI dev 0 up
May  2 23:36:41 tatooine hcid[8109]: Device hci0 has been added
May  2 23:36:41 tatooine hcid[8109]: Starting security manager 0
May  2 23:36:41 tatooine hcid[8109]: Device hci0 has been activated
</pre>
<p>Pro seznam podporovaného hardware pokračujte do sekce <a href="#Zdroje">zdroje</a> na této stránce.
Pokud vidíte pouze dvě první řádky logu výše, znamená to, že zařízení bylo nalezeno, ale musí se ješte zapnout.
Příklad:
</p>
<pre>hciconfig -a hci0
hci0:	Type: USB
	BD Address: 00:00:00:00:00:00 ACL MTU: 0:0 SCO MTU: 0:0
	DOWN 
	RX bytes:0 acl:0 sco:0 events:0 errors:0
	TX bytes:0 acl:0 sco:0 commands:0 errors:
sudo hciconfig hci0 up
hciconfig -a hci0
hci0:	Type: USB
	BD Address: 00:02:72:C4:7C:06 ACL MTU: 377:10 SCO MTU: 64:8
	UP RUNNING 
	RX bytes:348 acl:0 sco:0 events:11 errors:0
	TX bytes:38 acl:0 sco:0 commands:11 errors:0
</pre>
<p>Pro kontrolu, jestli bylo zařízení detekováno použijte nástroj <code>hcitool</code>, který je součástí balíku <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=bluez-utils">bluez-utils</a></span>. Následujícím příkazem dostanete seznam dostupných zařízení, identifikátorů a jejich MAC adres.
</p>
<pre>$ hcitool dev
Devices:
        hci0	00:1B:DC:0F:DB:40
</pre>
<p>Pokud byste si přáli zobrazit o zařízení více informací, můžete použít <code>hciconfig</code>.
</p>
<pre>$ hciconfig -a hci0
hci0:   Type: USB
        BD Address: 00:1B:DC:0F:DB:40 ACL MTU: 310:10 SCO MTU: 64:8
        UP RUNNING PSCAN ISCAN 
        RX bytes:1226 acl:0 sco:0 events:27 errors:0
        TX bytes:351 acl:0 sco:0 commands:26 errors:0
        Features: 0xff 0xff 0x8f 0xfe 0x9b 0xf9 0x00 0x80
        Packet type: DM1 DM3 DM5 DH1 DH3 DH5 HV1 HV2 HV3 
        Link policy: RSWITCH HOLD SNIFF PARK 
        Link mode: SLAVE ACCEPT 
        Name: 'BlueZ (0)'
        Class: 0x000100
        Service Classes: Unspecified
        Device Class: Computer, Uncategorized
        HCI Ver: 2.0 (0x3) HCI Rev: 0xc5c LMP Ver: 2.0 (0x3) LMP Subver: 0xc5c
        Manufacturer: Cambridge Silicon Radio (10)
</pre>
<h3><span class="mw-headline" id="hcitool_scan:_Device_not_found">hcitool scan: Device not found</span></h3>
<ul><li>Na některých počítačích Dell (e.g. Studio 15) musíte přepnout mód Bluetooth z HID na HCI použitím</li></ul>
<pre># hid2hci
</pre>
<ul><li>Občas může pomoci i tento jednoduchý příkaz:</li></ul>
<pre># hciconfig hci0 up
</pre>
<h3>
<span id="Nelze_nal.C3.A9zt_po.C4.8D.C3.ADta.C4.8D"></span><span class="mw-headline" id="Nelze_nalézt_počítač">Nelze nalézt počítač</span>
</h3>
<p>Stále váš telefon nechce nálezt zařízení počítače? Zapněte PSCAN a ISCAN:
</p>
<pre># zapnutí PSCAN a ISCAN
$ hciconfig hci0 piscan 
# mrkněte, jestli se nastavení změnilo
$ hciconfig 
hci0:   Type: USB
        BD Address: 00:12:34:56:78:9A ACL MTU: 192:8 SCO MTU: 64:8
        <b>UP RUNNING PSCAN ISCAN</b>
        RX bytes:20425 acl:115 sco:0 events:526 errors:0
        TX bytes:5543 acl:84 sco:0 commands:340 errors:0
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong>  Zkontrolujte volbu DiscoverableTimeout a PairableTimeout v souboru /etc/bluetooth/main.conf</div>
<p><br>
Nebo můžete zkusit změnit nastavení <i>Class</i> v souboru <code>/etc/bluetooth/main.conf</code> následovně
</p>
<pre># Default device class. Only the major and minor device class bits are
# considered.
#Class = 0x000100 (from default config)
Class = 0x100100
</pre>
<h3>
<span id="Nautilus_nem.C5.AF.C5.BEe_proch.C3.A1zet_soubory"></span><span class="mw-headline" id="Nautilus_nemůže_procházet_soubory">Nautilus nemůže procházet soubory</span>
</h3>
<p>Pokud se nautilus neotevře a ukáže tuto chybu:
</p>
<pre>Nautilus cannot handle obex: locations. Couldn't display "obex://[XX:XX:XX:XX:XX:XX]/".
</pre>
<p>Nainstalujte balík gvfs-obexftp:
</p>
<pre># pacman -S gvfs-obexftp
</pre>
<h2><span class="mw-headline" id="Zdroje">Zdroje</span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="http://www.bluez.org">Official Linux Bluetooth protocol stack</a></li>
<li>
<a rel="nofollow" class="external text" href="http://en.opensuse.org/HCL/Bluetooth_Adapters">openSUSE Bluetooth Hardware Compatibility List (HCL)</a><sup title="Last check status: 404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2020-12-20 ⓘ]</sup>
</li>
<li><a rel="nofollow" class="external text" href="http://www.gentoo.org/doc/en/bluetooth-guide.xml">Gentoo wiki is usually good</a></li>
<li><a rel="nofollow" class="external text" href="http://linuxgazette.net/109/oregan3.html">Accessing a Bluetooth phone on Linux Gazette</a></li>
<li><a rel="nofollow" class="external text" href="http://www.adamish.com/blog/#a000361">Bluetooth computer visibility</a></li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../cs/Category:Bluetooth.html" title="Category:Bluetooth (Česky)">Bluetooth (Česky)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Out_of_date.html" title="Category:Pages or sections flagged with Template:Out of date">Pages or sections flagged with Template:Out of date</a></li>
<li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Bluetooth_(%C4%8Cesky)&amp;oldid=648789">https://wiki.archlinux.org/index.php?title=Bluetooth_(Česky)&amp;oldid=648789</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 12 January 2021, at 16:26.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
