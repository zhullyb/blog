<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>CUPS (Česky) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-CUPS_Česky rootpage-CUPS_Česky skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">CUPS (Česky)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a><b>This article or section needs to be <a href="../en/ArchWiki:Contributing.html#Translating" title="ArchWiki:Contributing">translated</a>.</b><a href="../File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Notes:</b> <span style="color:red;">please use the first argument of the template to provide more detailed indications.</span> (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:CUPS_(%C4%8Cesky)">Talk:CUPS (Česky)#</a>)</div>
</div>
<div class="archwiki-template-meta-related-articles-start">
<p>Související články</p>
<ul>
<li><a href="../en/CUPS/Printer_sharing.html" class="mw-redirect" title="CUPS printer sharing">CUPS printer sharing</a></li>
<li><a href="../en/CUPS/Printer-specific_problems.html" class="mw-redirect" title="CUPS printer-specific problems">CUPS printer-specific problems</a></li>
<li><a href="../cs/Samba.html" title="Samba (Česky)">Samba (Česky)</a></li>
</ul>
</div>
<dl><dd>"<i><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=cups">cups</a></span> je open source program, který slouží ke správě tisku. Vyvíjí ho společnost Apple Inc. pro Mac OS® X další <a href="https://en.wikipedia.org/wiki/cs:UN*X" class="extiw" title="wikipedia:cs:UN*X">UNIX-like</a> operační systémy.</i>".</dd></dl>
<p>Ačkoliv jsou zde jiné programy pro správu tisku a tiskáren jako například balíčky LPRNG, <b>C</b>ommon <b>U</b>nix <b>P</b>rinting <b>S</b>ystem je ze všech nejpoužívanější, protože je relativně jednoduchý na ovládání.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#Instalace"><span class="tocnumber">1</span> <span class="toctext">Instalace</span></a>
<ul>
<li class="toclevel-2 tocsection-2">
<a href="#Ovlada%C4%8D_tisk%C3%A1rny"><span class="tocnumber">1.1</span> <span class="toctext">Ovladač tiskárny</span></a>
<ul>
<li class="toclevel-3 tocsection-3"><a href="#Sta%C5%BEen%C3%AD_souboru_PPD"><span class="tocnumber">1.1.1</span> <span class="toctext">Stažení souboru PPD</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-4">
<a href="#Konfigurace"><span class="tocnumber">2</span> <span class="toctext">Konfigurace</span></a>
<ul>
<li class="toclevel-2 tocsection-5">
<a href="#Jadern%C3%A9_moduly"><span class="tocnumber">2.1</span> <span class="toctext">Jaderné moduly</span></a>
<ul>
<li class="toclevel-3 tocsection-6"><a href="#USB_tisk%C3%A1rny"><span class="tocnumber">2.1.1</span> <span class="toctext">USB tiskárny</span></a></li>
<li class="toclevel-3 tocsection-7"><a href="#Tisk%C3%A1rny_s_paraleln%C3%ADm_portem"><span class="tocnumber">2.1.2</span> <span class="toctext">Tiskárny s paralelním portem</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="#Automatick%C3%A9_na%C4%8Dten%C3%AD_modul%C5%AF"><span class="tocnumber">2.1.3</span> <span class="toctext">Automatické načtení modulů</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-9"><a href="#CUPS_daemon"><span class="tocnumber">2.2</span> <span class="toctext">CUPS daemon</span></a></li>
<li class="toclevel-2 tocsection-10">
<a href="#Webov%C3%A9_rozhran%C3%AD"><span class="tocnumber">2.3</span> <span class="toctext">Webové rozhraní</span></a>
<ul>
<li class="toclevel-3 tocsection-11"><a href="#Administrace_syst%C3%A9mu_CUPS"><span class="tocnumber">2.3.1</span> <span class="toctext">Administrace systému CUPS</span></a></li>
<li class="toclevel-3 tocsection-12"><a href="#Vzd%C3%A1len%C3%BD_p%C5%99%C3%ADstup_do_webov%C3%A9ho_rozhran%C3%AD"><span class="tocnumber">2.3.2</span> <span class="toctext">Vzdálený přístup do webového rozhraní</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-13">
<a href="#%C5%98e%C5%A1en%C3%AD_probl%C3%A9m%C5%AF"><span class="tocnumber">3</span> <span class="toctext">Řešení problémů</span></a>
<ul>
<li class="toclevel-2 tocsection-14">
<a href="#Probl%C3%A9my_po_aktualizaci"><span class="tocnumber">3.1</span> <span class="toctext">Problémy po aktualizaci</span></a>
<ul>
<li class="toclevel-3 tocsection-15"><a href="#CUPS_p%C5%99estal_pracovat"><span class="tocnumber">3.1.1</span> <span class="toctext">CUPS přestal pracovat</span></a></li>
<li class="toclevel-3 tocsection-16"><a href="#Chyba_s_gnutls"><span class="tocnumber">3.1.2</span> <span class="toctext">Chyba s gnutls</span></a></li>
<li class="toclevel-3 tocsection-17"><a href="#V%C5%A1echny_tiskov%C3%A9_%C3%BAlohy_jsou_%22stopped%22_(zastaveny)"><span class="tocnumber">3.1.3</span> <span class="toctext">Všechny tiskové úlohy jsou "stopped" (zastaveny)</span></a></li>
<li class="toclevel-3 tocsection-18"><a href="#Verze_PPD_nen%C3%AD_kompatibiln%C3%AD_s_gutenprint"><span class="tocnumber">3.1.4</span> <span class="toctext">Verze PPD není kompatibilní s gutenprint</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-19">
<a href="#USB_printers_under_CUPS_1.4.x"><span class="tocnumber">3.2</span> <span class="toctext">USB printers under CUPS 1.4.x</span></a>
<ul>
<li class="toclevel-3 tocsection-20"><a href="#Konfigura%C4%8Dn%C3%AD_soubor"><span class="tocnumber">3.2.1</span> <span class="toctext">Konfigurační soubor</span></a></li>
<li class="toclevel-3 tocsection-21"><a href="#Zak%C3%A1z%C3%A1n%C3%AD_usblp"><span class="tocnumber">3.2.2</span> <span class="toctext">Zakázání usblp</span></a></li>
<li class="toclevel-3 tocsection-22">
<a href="#Pr%C3%A1va_za%C5%99%C3%ADzen%C3%AD"><span class="tocnumber">3.2.3</span> <span class="toctext">Práva zařízení</span></a>
<ul>
<li class="toclevel-4 tocsection-23"><a href="#Device_node_permission_troubleshooting"><span class="tocnumber">3.2.3.1</span> <span class="toctext">Device node permission troubleshooting</span></a></li>
<li class="toclevel-4 tocsection-24"><a href="#Loading_firmware"><span class="tocnumber">3.2.3.2</span> <span class="toctext">Loading firmware</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2 tocsection-25">
<a href="#Other"><span class="tocnumber">3.3</span> <span class="toctext">Other</span></a>
<ul>
<li class="toclevel-3 tocsection-26"><a href="#CUPS_permission_errors"><span class="tocnumber">3.3.1</span> <span class="toctext">CUPS permission errors</span></a></li>
<li class="toclevel-3 tocsection-27"><a href="#HPLIP_tisk%C3%A1rna_vrac%C3%AD_chybu_%22/usr/lib/cups/backend/hp_failed%22"><span class="tocnumber">3.3.2</span> <span class="toctext">HPLIP tiskárna vrací chybu "/usr/lib/cups/backend/hp failed"</span></a></li>
<li class="toclevel-3 tocsection-28"><a href="#hp-toolbox_sends_an_error,_%22Unable_to_communicate_with_device%22"><span class="tocnumber">3.3.3</span> <span class="toctext">hp-toolbox sends an error, "Unable to communicate with device"</span></a></li>
<li class="toclevel-3 tocsection-29"><a href="#CUPS_returns_'%22foomatic-rip%22_not_available/stopped_with_status_3'_with_a_HP_printer"><span class="tocnumber">3.3.4</span> <span class="toctext">CUPS returns '"foomatic-rip" not available/stopped with status 3' with a HP printer</span></a></li>
<li class="toclevel-3 tocsection-30"><a href="#Tisk_sel%C5%BEe_s_chybou_unauthorised"><span class="tocnumber">3.3.5</span> <span class="toctext">Tisk selže s chybou <i>unauthorised</i></span></a></li>
<li class="toclevel-3 tocsection-31"><a href="#Tla%C4%8D%C3%ADtko_Tisk_v_GNOME_v_print_dialogu_ze%C5%A1edne"><span class="tocnumber">3.3.6</span> <span class="toctext">Tlačítko Tisk v GNOME v print dialogu zešedne</span></a></li>
<li class="toclevel-3 tocsection-32"><a href="#Unknown_supported_format:_application/postscript"><span class="tocnumber">3.3.7</span> <span class="toctext">Unknown supported format: application/postscript</span></a></li>
<li class="toclevel-3 tocsection-33"><a href="#Hled%C3%A1n%C3%AD_URI_tisk%C3%A1rny_b%C4%9B%C5%BE%C3%ADc%C3%AD_pod_Windows"><span class="tocnumber">3.3.8</span> <span class="toctext">Hledání URI tiskárny běžící pod Windows</span></a></li>
<li class="toclevel-3 tocsection-34"><a href="#Print-Job_client-error-document-format-not-supported"><span class="tocnumber">3.3.9</span> <span class="toctext">Print-Job client-error-document-format-not-supported</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-35">
<a href="#Appendix"><span class="tocnumber">4</span> <span class="toctext">Appendix</span></a>
<ul>
<li class="toclevel-2 tocsection-36"><a href="#Alternativn%C3%AD_rozhran%C3%AD_pro_ovl%C3%A1d%C3%A1n%C3%AD_CUPSu"><span class="tocnumber">4.1</span> <span class="toctext">Alternativní rozhraní pro ovládání CUPSu</span></a></li>
<li class="toclevel-2 tocsection-37">
<a href="#PDF_virtu%C3%A1ln%C3%AD_tisk%C3%A1rna"><span class="tocnumber">4.2</span> <span class="toctext">PDF virtuální tiskárna</span></a>
<ul>
<li class="toclevel-3 tocsection-38">
<a href="#Print_to_postscript:_CUPS-PDF_virtual_printer_trick"><span class="tocnumber">4.2.1</span> <span class="toctext">Print to postscript: CUPS-PDF virtual printer trick</span></a>
<ul>
<li class="toclevel-4 tocsection-39"><a href="#Konfigurace_CUPS-PDF_virtualn%C3%AD_tisk%C3%A1rny"><span class="tocnumber">4.2.1.1</span> <span class="toctext">Konfigurace CUPS-PDF virtualní tiskárny</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2 tocsection-40"><a href="#Dal%C5%A1%C3%AD_zdroj_pro_ovlada%C4%8D_k_tisk%C3%A1rn%C3%A1m"><span class="tocnumber">4.3</span> <span class="toctext">Další zdroj pro ovladač k tiskárnám</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-41"><a href="#Zdroje"><span class="tocnumber">5</span> <span class="toctext">Zdroje</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Instalace">Instalace</span></h2>
<p>Je potřeba nainstalovat tyto balíčky:
</p>
<pre># pacman -S cups ghostscript gsfonts
</pre>
<ul>
<li>
<b>cups</b> - CUPS software</li>
<li>
<b>ghostscript</b> - Interpret pro jazyk <a href="https://en.wikipedia.org/wiki/cs:Postscript" class="extiw" title="wikipedia:cs:Postscript">Postscript</a>
</li>
<li>
<b>gsfonts</b> - Standardní GhostScript fonty</li>
<li>
<b>hpoj</b> - Pokud používáte HP Officejet, měli byste nainstalovat i tento balíček a postupovat podle instrukcí, abyste předešli zbytečným problémům. Přečtěte si pro více informací <a rel="nofollow" class="external text" href="http://answers.launchpad.net/hplip/+question/133425">toto vlálno na launchpadu/hplip</a>.</li>
</ul>
<p>Pokud má systém využívat nějakou síťovou tiskárnu přes protokol <a href="../cs/Samba.html" title="Samba (Česky)">Samba</a> nebo pokud má být systém print serverem pro klienty s operačním systémem <a href="https://en.wikipedia.org/wiki/cs:Windows" class="extiw" title="wikipedia:cs:Windows">Windows</a>, nainstalujte také Sambu:
</p>
<pre># pacman -S samba
</pre>
<h3>
<span id="Ovlada.C4.8D_tisk.C3.A1rny"></span><span class="mw-headline" id="Ovladač_tiskárny">Ovladač tiskárny</span>
</h3>
<p>Zde jsou balíčky s ovladačemi pro tiskárny od různých výrobců:
</p>
<ul>
<li>
<b>gutenprint</b> - Kolekce velmi kvalitních ovladačů pro tiskárny od výrobců Canon, Epson, Lexmark, Sony, Olympus. A dále pro použití GhostScriptu, CUPSu a <a href="/index.php?title=GIMP_(%C4%8Cesky)&amp;action=edit&amp;redlink=1" class="new" title="GIMP (Česky) (page does not exist)">GIMPu</a>
</li>
<li>
<b>foomatic-db, foomatic-db-engine, foomatic-db-nonfree a foomatic-filters</b> - Foomatic. Instalace  foomatic-filters by měla vyřešit problémy, jestliže cups error_log ohlašuje "stopped with status 22!".</li>
<li>
<b>hplip</b> - HP GNU/Linux driver. Poskytuje podporu pro DeskJet, OfficeJet, Photosmart, Business Inkjet a nějaké modely tiskáren LaserJet. Dále poskytuje podporu i pro nějaké další tiskárny.</li>
<li>
<b>splix</b> - Ovladače Samsung pro SPL (Samsung Printer Language) tiskárny</li>
<li>
<b>ufr2</b> - Ovladač Canon UFR2 s podporou pro LBP, iR a MF sérií tiskáren. Balíček je možné získat z <a href="../cs/Arch_User_Repository.html" class="mw-redirect" title="AUR (Česky)">AURu</a>.</li>
<li>
<b>cups-pdf</b> - Balíček, který umožňuje použití tzv. virtuální PDF tiskárny, která generuje jako svůj výstup PDF soubory.</li>
</ul>
<p>Jestliže si nejste jistí, který ovladač nainstalovat nebo vám aktuální ovladač nefunguje, může být pro vás jednodušší nainstalovat všechny z výše uvedených ovladačů.
</p>
<h4>
<span id="Sta.C5.BEen.C3.AD_souboru_PPD"></span><span class="mw-headline" id="Stažení_souboru_PPD">Stažení souboru PPD</span>
</h4>
<p>V závislosti na tiskárně, je tento krok volitelný a nemusí být vůbec potřeba, protože standardní instalace serveru CUPS už nějaké základní soubory PPD (Postscript Printer Description) obsahuje. Mimo to, balíčky <i>foomatic-filters</i>, <i>gimp-print</i> a <i>hplip</i> už obsahují základní soubory PPD, které CUPS detekuje automaticky.
</p>
<p>Zde je vysvětlení toho, co to PPD soubor vlastně je z webu Linux Printing:
</p>
<dl><dd>"<i>Pro každou PostSkriptovou tiskárnu poskytuje její výrobce tzv. PPD soubor, který obsahuje všechny základní informace a daném modelu tiskárny. Například jestli tiskárna tiskne barevně nebo pouze černobíle, podporované fonty a hlavně uživatelská nastavení jako třeba velikost papíru, rozlišení apod.</i>
</dd></dl>
<p>Pokud soubor PPD pro vaši tiskárnu <i>není</i> systémem CUPS nalezen, potom:
</p>
<ul>
<li>mrkněte do <a href="../cs/Arch_User_Repository.html" class="mw-redirect" title="AUR (Česky)">AURu</a>, jestli zde nejsou balíčky se jménem vaší tiskárny nebo vašeho výrobce</li>
<li>navštivte stránku <a rel="nofollow" class="external text" href="http://www.linuxprinting.org/printer_list.cgi">OpenPrinting databáze</a> a vyberte zde výrobce a model tiskárny</li>
<li>navštivte stránku výrobce a hledejte ovladače pro operační systém <a href="https://en.wikipedia.org/wiki/cs:GNU/Linux" class="extiw" title="wikipedia:cs:GNU/Linux">GNU/Linux</a>
</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> PPD soubory se nacházejí v adresáři <code>/usr/share/cups/model/</code>
</div>
<h2><span class="mw-headline" id="Konfigurace">Konfigurace</span></h2>
<p>CUPS jsme nainstalovali. Teď už zbývá jen vše nastavit. Samozřejmě máme k dispozici nastavení pomocí příkazového řádku. Stejnětak, různá desktopová prostředí jako třeba GNOME nebo KDE, mají různé programy pro správu tiskáren. Nicméně, aby byla konfigurace srozumitelná většině uživatelů, bude se tento návod věnovat nastavení přes webové rozhraní, které nám server CUPS poskytuje.
</p>
<p>Pokud plánujete připojení k síťové tiskárně, místo přímého připojení k počítači, budete si nejspíš chtít nejdříve přečíst stránku <a href="/index.php?title=CUPS_printer_sharing_(%C4%8Cesky)&amp;action=edit&amp;redlink=1" class="new" title="CUPS printer sharing (Česky) (page does not exist)">Sdílení tiskáren</a>. Sdílení tiskáren mezi systémy GNU/Linux je poměrně jednoduché a vyžaduje velmi málo konfigurace. Narozdíl od sdílení mezi Windows a GNU/Linuxem, které už vyžaduje trochu více úsilí.
</p>
<h3>
<span id="Jadern.C3.A9_moduly"></span><span class="mw-headline" id="Jaderné_moduly">Jaderné moduly</span>
</h3>
<p>Před použitím webového rozhraní programu CUPS, musí být nainstalovány vhodné jaderné moduly. Následující kroky pocházejí z návodu <i>Gentoo Printing</i>.
</p>
<p>Tato sekce není důležitá, ačkoliv závisí na jádru. Modul jádra může být automaticky načten při připojení tiskárny. Použijte příkaz <code>tail</code> (popsaný níže) pro kontrolu, jestli byla tiskárna jádrem správně detekována. Také můžete použít program <code>lsmod</code>, pro zjištění, které moduly jádra jsou právě načteny.
</p>
<h4>
<span id="USB_tisk.C3.A1rny"></span><span class="mw-headline" id="USB_tiskárny">USB tiskárny</span>
</h4>
<p>Uživatelé USB tiskáren budou pravděpodobně potřebovat vypnout modul <code>usblp</code>. Mějte na paměti, že je zde hodně <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=660601">pochybností</a> týkajících se vypnutí <code>usblp</code>. Například některé tiskárny Canon a Epson nejsou bez tohoto modulu rozpoznány. Někteří uživatelé tiskáren Samsung ohlašovali, že používání <code>cupsu</code> s vypnutým modulem <code>usblp</code> způsobovalo problémy. Řešením bylo znovuzapnutí <code>usblp</code> a instalace <code>cups-usblp</code> z <a href="../cs/Arch_User_Repository.html" class="mw-redirect" title="AUR (Česky)">AURu</a> místo nalíčku <code>cups</code> z oficiálního repozitáře. (<a rel="nofollow" class="external free" href="https://bbs.archlinux.org/viewtopic.php?pid=778104">https://bbs.archlinux.org/viewtopic.php?pid=778104</a>)
</p>
<p>Pro vypnutí modulu, upravte soubor <code>/etc/rc.conf</code> následovně:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/rc.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">MODULES=(... <b>!usblp</b> ...)</pre>
<p>Na některých jádrech musí uživatelé načíst vše manuálně nahráním modulu <code>usbcore</code> následovně:
</p>
<pre># modprobe usbcore
</pre>
<p>Jakmile jsou moduly nahrané, připojte tiskárnu a zkontrolujte, jestli ji jádro detekovalo spuštěním:
</p>
<pre># tail /var/log/messages.log
</pre>
<p>nebo
</p>
<pre># dmesg
</pre>
<p>Pokud používáte <code>usblp</code>, výstup by nám měl říci, že byla tiskárna detekována:
</p>
<pre>Feb 19 20:17:11 kernel: printer.c: usblp0: USB Bidirectional
printer dev 2 if 0 alt 0 proto 2 vid 0x04E8 pid 0x300E
Feb 19 20:17:11 kernel: usb.c: usblp driver claimed interface cfef3920
Feb 19 20:17:11 kernel: printer.c: v0.13: USB Printer Device Class driver
</pre>
<p>Pokud jste vypnuly modul <code>usblp</code>, uvidíte něco podobného tomuto:
</p>
<pre>usb 3-2: new full speed USB device using uhci_hcd and address 3
usb 3-2: configuration #1 chosen from 1 choice
</pre>
<h4>
<span id="Tisk.C3.A1rny_s_paraleln.C3.ADm_portem"></span><span class="mw-headline" id="Tiskárny_s_paralelním_portem">Tiskárny s paralelním portem</span>
</h4>
<p>Pokud plánujete používat tiskárnu s paralelním portem, konfigurace je skoro stejná. Jediné co musíte je načíst moduly:
</p>
<pre># modprobe lp
# modprobe parport
# modprobe parport_pc
</pre>
<p>Znovu omrkněte, jestli vše proběhlo v pořádku:
</p>
<pre># tail /var/log/messages.log
</pre>
<p>Ve výpisu by mělo být něco podobného:
</p>
<pre>lp0: using parport0 (polling).
</pre>
<h4>
<span id="Automatick.C3.A9_na.C4.8Dten.C3.AD_modul.C5.AF"></span><span class="mw-headline" id="Automatické_načtení_modulů">Automatické načtení modulů</span>
</h4>
<p>Pro automatické načítání jaderných modulů vždy při startu systému musíte jména modulů přidat do svého souboru <code>/etc/<a href="../en/SysVinit.html" class="mw-redirect" title="Rc.conf">rc.conf</a></code> do pole <code>MODULES=()</code>. Například jako je zde:
</p>
<pre>MODULES=(!usbserial scsi_mod sd_mod snd-ymfpci snd-pcm-oss <b>lp parport parport_pc</b> ide-scsi)
</pre>
<h3><span class="mw-headline" id="CUPS_daemon">CUPS daemon</span></h3>
<p>Když už máte nainstalované jaderné moduly, můžete nastartovat svého CUPS daemona. To uděláte jednoduše spuštěním:
</p>
<pre># /etc/rc.d/cupsd start
</pre>
<p>Ještě aby se vám CUPS daemon zapínal vždy při startu počítače, musíte ho přidat do pole <code>DAEMONS=()</code> v souboru <code>/etc/rc.conf</code>. A to takto:
</p>
<pre>DAEMONS=(syslog-ng dbus network gdm @crond <b>@cupsd</b>)
</pre>
<h3>
<span id="Webov.C3.A9_rozhran.C3.AD"></span><span class="mw-headline" id="Webové_rozhraní">Webové rozhraní</span>
</h3>
<p>Pokud vám daemon běží, otevřete svůj webový prohlížeč a přejděte na: <a rel="nofollow" class="external free" href="http://localhost:631">http://localhost:631</a> (<i>Řetězec <b>localhost</b> budete možná muset nahradit tím, který najdete ve svém </i> <code>/etc/hosts</code>).
</p>
<p>Následně už pouze stačí proklikat průvodci a jednoduše přidat tiskárnu. Toto se provede kliknutím na <i>Přídávání tiskáren (Adding Printers)</i> a následným kliknutím na <i>Přidat tiskárnu (Add printer)</i>. Pokud se vás prohlížeč zeptá na příhlašovací jméno a heslo, přihlašte se jako root. Na jménu, které se automaticky přiřadilo tiskárně nezáleží (to samé platí i pro 'umístění (location)' a 'popis (description)'. V dalším kroku vyberte zařízení, které chcete přidat. Nakonec vyberte odpovídající ovladače pro tiskárnu a konfigurace je hotova.
</p>
<p>Teď už pouze stačí tiskárnu otestovat. Přejděte do záložky <i>Správa (Maintenance)</i> a stiskněte <i>Vytisknout testovací stránku (Print Test Page)</i>. Pokud se stránka nevytiskla a jste přesvědčeni o správnosti konfigurace, pravděpodobně bude problém s chybějícím nebo špatně zvoleným ovladačem.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Tip:</strong> <a href="../en/GNOME.html" title="GNOME">GNOME</a> users may be inclined towards installing the GNOME CUPS manager GUI frontend. See: <a href="#Alternative_CUPS_interfaces">#Alternative CUPS interfaces</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> When setting up a USB printer, you should see your printer listed on <i>Add Printer</i> page. If you can only see a "SCSI printer" option, it probably means that CUPS has failed to recognize your printer.</div>
<h4>
<span id="Administrace_syst.C3.A9mu_CUPS"></span><span class="mw-headline" id="Administrace_systému_CUPS">Administrace systému CUPS</span>
</h4>
<p>Při administraci tiskáren (přidávání a odebírání tiskáren, zastavování úloh apod.) ve webovém rozhranní po vás bude systém chtít zadat uživatelské jméno a heslo. Defaultní uživatelské jméno je přiřazené skupině <i>sys</i> nebo root (toto můžete změnit v souboru <code>/etc/cups/cupsd.conf</code> na řádku <i>SystemGroup</i>). 
</p>
<p>Pokud je účet uživatele root uzamčen a není možné se přihlásit defaultním uživatelským jménem a heslem, bude pravděpodobně potřeba změnit SystemGroup v cupsd.conf a přečíst si <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=35567">tento post</a>.
</p>
<h4>
<span id="Vzd.C3.A1len.C3.BD_p.C5.99.C3.ADstup_do_webov.C3.A9ho_rozhran.C3.AD"></span><span class="mw-headline" id="Vzdálený_přístup_do_webového_rozhraní">Vzdálený přístup do webového rozhraní</span>
</h4>
<p>Defaultně je webové rozhraní serveru CUPS přístupné pouze z <i>localhost</i> (pouze z počítače, kde je CUPS nainstalován). Pro spřístupnění rozhraní musíte provést následující změny v souboru <code>/etc/cups/cupsd.conf</code>. Přepište proto řádku:
</p>
<pre>Listen localhost:631
</pre>
<p>tímto:
</p>
<pre>port 631
</pre>
<p>systém CUPS tak bude přijímat příchozí spojení.
</p>
<p>Existují tři různé úrovně přístupu, které můžete ovlivnit
</p>
<pre>&lt;Location /&gt;           #přístup k serveru
&lt;Location /admin&gt;	#přístup k administraci
&lt;Location /admin/conf&gt;	#přístup ke konfiguračním souborům
</pre>
<p>Aby jste umožnili vzdálenému klientovi nějaký z přístupů, udělte mu volbu <code>Allow</code>. Položka <code>Allow</code> může mít více forem:
</p>
<pre>Allow all
Allow host.domena.cz
Allow *.domena.cz
Allow ip-address
Allow ip-addresa/maska
</pre>
<p>Omezení přístupu.  Například pokud budete chtít dát všem klientům v podsíti 192.168.1.0/255.255.255.0 plný přístup, soubor <code>/etc/cups/cupsd.conf</code> by měl obsahovat toto:
</p>
<pre># Omezení přístupu k serveru...
# Defaultně jsou povoleny pouze připojení z localhostu
&lt;Location /&gt;
   Order allow,deny
   Allow From localhost
   <b>Allow From 192.168.1.0/255.255.255.0</b>
&lt;/Location&gt;

# Omezení přístupu k admin stránkám...
&lt;Location /admin&gt;
   # Encryption disabled by default
   #Encryption Required
   Order allow,deny
   Allow From localhost
   <b>Allow From 192.168.1.0/255.255.255.0</b>
&lt;/Location&gt;

# Omezení přístupu ke konfiguračním souborům...
&lt;Location /admin/conf&gt;
   AuthType Basic
   Require user @SYSTEM
   Order allow,deny
   Allow From localhost
   <b>Allow From 192.168.1.0/255.255.255.0</b>
&lt;/Location&gt;
</pre>
<p>Možná bude potřeba ještě přidat řádku:
</p>
<pre>DefaultEncryption Never
</pre>
<p>Toto by mělo odstranit chybovou hlášku: 426 - Upgrade Required when using the CUPS web interface from a remote machine.
</p>
<h2>
<span id=".C5.98e.C5.A1en.C3.AD_probl.C3.A9m.C5.AF"></span><span class="mw-headline" id="Řešení_problémů">Řešení problémů</span>
</h2>
<p>Pro správné odladění programu je dobré zapnout logy. Pro jejich zapnutí nastavte 'LogLevel' v souboru <code>/etc/cups/cupsd.conf</code> na:
</p>
<pre>LogLevel debug
</pre>
<p>Obsah tohoto souboru (<code>/var/log/cups/error_log</code> můžete číst následovně:
</p>
<pre># tail -n 100 -f /var/log/cups/error_log
</pre>
<p>Znaky na levé straně výstupu znamenají:
</p>
<ul>
<li>D=Ladíci informace</li>
<li>E=Chyba</li>
<li>I=Informace</li>
<li>A další</li>
</ul>
<p>Tyto soubory mohou být také užitečné:
</p>
<ul>
<li>
<code>/var/log/cups/page_log</code> -  Vypíše se do něho vždy nový záznam a každém úspěšně provedeném tisku</li>
<li>
<code>/var/log/cups/access_log</code> - Vypisuje se do něho kompletní aktivita serveru cupsd cupsd http1.1</li>
</ul>
<p>Samozřejmě, že je nezbytné znát to, jak CUPS funguje, pokud chcete řešit nějaké problémy.
</p>
<ol>
<li>Aplikace odešle soubor typu .ps (v tzv. PostScriptu - skriptovací jazyk, který tiskárně říká, jak bude výsledná stránka vypadat) serveru CUPS.</li>
<li>CUPS se pak podívá na soubor PPD (PostScript Printer Description) a vyřeší jaké je potřeba použít filtry, aby se soubor typu .ps převedl do jazyka, kterému tiskárna bude rozumět (například PJL, PCL), obvykle GhostScript</li>
<li>GhostScript takes the input and figures out which filters it should use, then applies them and converts the .ps file to a format understood by the printer.</li>
<li>Then it is sent to the back-end. For example, if the printer is connected to a USB port, it uses the USB back-end.</li>
</ol>
<p>Print a document and watch <code>error_log</code> to get a more detailed and correct image of the printing process.
</p>
<h3>
<span id="Probl.C3.A9my_po_aktualizaci"></span><span class="mw-headline" id="Problémy_po_aktualizaci">Problémy po aktualizaci</span>
</h3>
<p><i>Problémy, které se objevily po aktualizaci programu</i>
</p>
<h4>
<span id="CUPS_p.C5.99estal_pracovat"></span><span class="mw-headline" id="CUPS_přestal_pracovat">CUPS přestal pracovat</span>
</h4>
<p>Nejspíš bude kvůli nové verzi programu potřeba aktualizovat váš konfigurační soubor. Například se vám bude zobrazovat chyba "404 - stránka nenalezena" při přístupu do administrace na localhost:631.
</p>
<p>Pro použití nového konfiguračního souboru zkopírujte /etc/cups/cupsd.conf.default do /etc/cups/cupsd.conf (samozřejmě si zazálohujte původní konfiguraci):
</p>
<pre># cp /etc/cups/cupsd.conf.default /etc/cups/cupsd.conf
</pre>
<p>a restartujte CUPS, aby se načetl nový konfigurační soubor.
</p>
<h4><span class="mw-headline" id="Chyba_s_gnutls">Chyba s gnutls</span></h4>
<p>Pokud dostáváte chyby typu:
</p>
<pre>/usr/sbin/cupsd: error while loading shared libraries: libgnutls.so.13: cannot open shared object file: No such file or directory
</pre>
<p>gnutls pravděpodobně potřebuje aktualizovat:
</p>
<pre># pacman -S gnutls
</pre>
<p>Po aktualizaci se může v <code>/etc/cups</code> objevit soubor <code>cupsd.conf.pacnew</code>. V tomto souboru je nemodifikováná originální konfigurace. Svůj starý konfigurační soubor proto s nově vzniklým porovnejte a případně doupravte tak, aby v něm nechyběla nově vydaná nastavení.
</p>
<h4>
<span id="V.C5.A1echny_tiskov.C3.A9_.C3.BAlohy_jsou_.22stopped.22_.28zastaveny.29"></span><span class="mw-headline" id='Všechny_tiskové_úlohy_jsou_"stopped"_(zastaveny)'>Všechny tiskové úlohy jsou "stopped" (zastaveny)</span>
</h4>
<p>Pokud jsou všechny tiskové úlohy poslané na tiskárnu zastaveny (bude u nich stav "stopped"), odeberte vaši tiskárnu a znovu ji přidejte.
To provedete ve <a rel="nofollow" class="external text" href="http://localhost:631">webovém rozhraní CUPSu</a>, přejděte do sekce Printers &gt; Delete Printer.
</p>
<h4>
<span id="Verze_PPD_nen.C3.AD_kompatibiln.C3.AD_s_gutenprint"></span><span class="mw-headline" id="Verze_PPD_není_kompatibilní_s_gutenprint">Verze PPD není kompatibilní s gutenprint</span>
</h4>
<p>Spusťte:
</p>
<pre># /usr/sbin/cups-genppdupdate
</pre>
<p>A restartujte CUPS.
</p>
<h3><span class="mw-headline" id="USB_printers_under_CUPS_1.4.x">USB printers under CUPS 1.4.x</span></h3>
<p>Nový CUPS 1.4.x přínáší plno změn:
</p>
<h4>
<span id="Konfigura.C4.8Dn.C3.AD_soubor"></span><span class="mw-headline" id="Konfigurační_soubor">Konfigurační soubor</span>
</h4>
<p>Syntaxe konfiguračního souboru cupsd.conf se změnila. Proto začněte s novým souborem cupsd.conf založeným na /etc/cups/cupsd.conf.default.
</p>
<h4>
<span id="Zak.C3.A1z.C3.A1n.C3.AD_usblp"></span><span class="mw-headline" id="Zakázání_usblp">Zakázání usblp</span>
</h4>
<p>Aktuální verze CUPSu využívá místo usblp, kde se zařízení generovala jako <code> /dev/usb/lpX</code>, libusb kde se generují do <code> /dev/bus/usb/</code>. Aby vám na vašem počítači fungovaly USB tiskárny, musí se usblp modul vypnout. To lze udělat tak, že přidáte řádek "blacklist usblp" do konfiguračního souboru <code> /etc/modprobe.d/modprobe.conf</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/modprobe.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">blacklist usblp</pre>
<p>Pokud vám tiskárna nebude fungovat stále, zkuste ji reinstalovat.
</p>
<h4>
<span id="Pr.C3.A1va_za.C5.99.C3.ADzen.C3.AD"></span><span class="mw-headline" id="Práva_zařízení">Práva zařízení</span>
</h4>
<p>Aby mohl CUPS využívat USB zařízení tiskárny, je nutné, aby k tomu měl dostatečná práva. Vlastník by měl být root:lp a práva přístupu na 660. Například:
</p>
<pre>$ ls -l /dev/bus/usb/003/002
crw-rw---- 1 root lp 189, 257 20. Okt 10:32 /dev/bus/usb/003/002
</pre>
<p>This is supposed to be achieved by two udev rules in /lib/udev/rules.d/50-udev-default.rules:
</p>
<pre># hplip and cups 1.4+ use raw USB devices, so permissions should be similar to
# the ones from the old usblp kernel module
SUBSYSTEM=="usb", ENV{DEVTYPE}=="usb_device", ENV{ID_USB_INTERFACES}=="", IMPORT{program}="usb_id --export %p"
SUBSYSTEM=="usb", ENV{DEVTYPE}=="usb_device", ENV{ID_USB_INTERFACES}==":0701*:", GROUP="lp", MODE="660"
</pre>
<p>However, for some devices, in particular combined printer/scanner devices, these rules either do not trigger, or are overwritten by rules of the 'sane' package. In these cases a custom udev rule needs to be added. See below.
</p>
<h5><span class="mw-headline" id="Device_node_permission_troubleshooting">Device node permission troubleshooting</span></h5>
<p>Get the printer's device file and its permissions with: 
</p>
<pre>$ lsusb
...
Bus 003 Device 002: ID 04b8:0841 Seiko Epson Corp.
$ ls -l /dev/bus/usb/003/002
crw-rw---- 1 root lp 189, 257 20. Okt 10:32 /dev/bus/usb/003/002
</pre>
<p>If the permissions are not already root:lp 660, enforce it by creating a custom udev rule, e.g
</p>
<pre>cat /etc/udev/rules.d/10-usbprinter.rules
ATTR{idVendor}=="04b8", ATTR{idProduct}=="0841", MODE:="0660", GROUP:="lp"
</pre>
<p>Note that idVendor and idProduct are from the lsusb listing above.
</p>
<h5><span class="mw-headline" id="Loading_firmware">Loading firmware</span></h5>
<p>Some printers and drivers need to load firmware to the printer (such as HP LaserJet 10xx printers using foo2zjs) and do this by writing directly to the lp device, a functionality provided by usblp.  A work around until this issue is resolved is to install the usblp module until the firmware is loaded, then remove the module to allow CUPS to work.  This can be accomplished by manually running "$ modprobe usblp", waiting for the firmware to load, then "$ rmmod usblp".  You can also not blacklist usblp, then put "rmmod usblp" to /etc/rc.local, allowing the firmware to be loaded on boot before rc.local is run, then removing usblp.
</p>
<p>In case the printer is plugged in or powered on while system is already running, /etc/rc.local does not get executed and usblp module stays loaded. A workaround is to modify the /etc/udev/rules.d/11-hpj10xx.rules provided by foo2zjs so that after the add event we wait e.g. 15 seconds for the firmware to load and then automatically remove usblp. The following example is for HP LaserJet 1018. For other models the value of ATTRS{idProduct} should be changed to match the printer model.
</p>
<p>Locate the line matching your printer in /etc/udev/rules.d/11-hpj10xx.rules:
</p>
<pre>ACTION=="add", KERNEL=="lp*", SUBSYSTEM=="usb", ATTRS{idVendor}=="03f0",     \
       ATTRS{idProduct}=="4117", RUN+="/sbin/foo2zjs-loadfw 1018 $tempnode"
</pre>
<p>Add the following lines below it, make sure match the product and vendor IDs:
</p>
<pre>ACTION=="add", KERNEL=="lp*", SUBSYSTEM=="usb", ATTRS{idVendor}=="03f0",     \
       ATTRS{idProduct}=="4117", RUN+="/usr/bin/sleep 15"
ACTION=="add", KERNEL=="lp*", SUBSYSTEM=="usb", ATTRS{idVendor}=="03f0",     \
       ATTRS{idProduct}=="4117", RUN+="/sbin/rmmod usblp"
</pre>
<h3><span class="mw-headline" id="Other">Other</span></h3>
<h5><span class="mw-headline" id="CUPS_permission_errors">CUPS permission errors</span></h5>
<ul><li>Some users fixed 'NT_STATUS_ACCESS_DENIED' (Windows clients) errors by using a slightly different syntax:</li></ul>
<pre>smb://workgroup/username:password@hostname/printer_name
</pre>
<ul><li>Sometimes, the block device has wrong permissions:</li></ul>
<pre># ls /dev/usb/
lp0
# chgrp lp /dev/usb/lp0
</pre>
<h4>
<span id="HPLIP_tisk.C3.A1rna_vrac.C3.AD_chybu_.22.2Fusr.2Flib.2Fcups.2Fbackend.2Fhp_failed.22"></span><span class="mw-headline" id='HPLIP_tiskárna_vrací_chybu_"/usr/lib/cups/backend/hp_failed"'>HPLIP tiskárna vrací chybu "/usr/lib/cups/backend/hp failed"</span>
</h4>
<p>Ujistěte se, že máte nainstalovaný a běžící dbus. Například spuštěním <code>ls /var/run/daemons</code>.
</p>
<p>Pokud máte dbus spuštěný a tato chyba dále přetrvává, možná budete muset spustit daemona <i>avahi</i>.
</p>
<h4>
<span id="hp-toolbox_sends_an_error.2C_.22Unable_to_communicate_with_device.22"></span><span class="mw-headline" id='hp-toolbox_sends_an_error,_"Unable_to_communicate_with_device"'>hp-toolbox sends an error, "Unable to communicate with device"</span>
</h4>
<p>If running hp-toolbox as a regular user results in:
</p>
<pre># hp-toolbox
# error: Unable to communicate with device (code=12): hp:/usb/&lt;printer id&gt;
</pre>
<p>or, "<code>Unable to communicate with device"</code>", then it may be needed to add the user to the lp group by running the following command:
</p>
<pre># gpasswd -a &lt;username&gt; lp
</pre>
<h4>
<span id="CUPS_returns_.27.22foomatic-rip.22_not_available.2Fstopped_with_status_3.27_with_a_HP_printer"></span><span class="mw-headline" id="CUPS_returns_'&quot;foomatic-rip&quot;_not_available/stopped_with_status_3'_with_a_HP_printer">CUPS returns '"foomatic-rip" not available/stopped with status 3' with a HP printer</span>
</h4>
<p>If receiving any of the following error messages in <code>/var/log/cups/error_log</code> while using a HP printer, with jobs appearing to be processed while they all end up not being completed with their status set to 'stopped':
</p>
<pre>Filter "foomatic-rip" for printer "&lt;printer_name&gt;" not available: No such file or director
</pre>
<p>or:
</p>
<pre>PID 5771 (/usr/lib/cups/filter/foomatic-rip) stopped with status 3!
</pre>
<p>make sure <b>hplip</b> has been installed, in addition to <a href="#Packages">the packages mentioned above</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup>, <b>net-snmp</b> is also needed. See <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=65615">this forum post</a>.
</p>
<pre># pacman -S hplip
</pre>
<h4>
<span id="Tisk_sel.C5.BEe_s_chybou_unauthorised"></span><span class="mw-headline" id="Tisk_selže_s_chybou_unauthorised">Tisk selže s chybou <i>unauthorised</i></span>
</h4>
<p>Pokud byl uživatel přidán do skupiny <i>lp</i> a byl mu umožněn tisk (vše se nastavuje v <code>cups.conf</code>), bude nejspíše problém v souboru <code>/etc/cups/printers.conf</code>. Za vše může pravděpodobně tato řádka:
</p>
<pre>AuthInfoRequired negotiate
</pre>
<p>Zakomentujte ji a restartujte CUPS.
</p>
<h4>
<span id="Tla.C4.8D.C3.ADtko_Tisk_v_GNOME_v_print_dialogu_ze.C5.A1edne"></span><span class="mw-headline" id="Tlačítko_Tisk_v_GNOME_v_print_dialogu_zešedne">Tlačítko Tisk v GNOME v print dialogu zešedne</span>
</h4>
<dl><dd><i><small>Zdroj: <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=70418">I can't print from gnome applications. - Arch Forums</a></small></i></dd></dl>
<p>Ujistěte se, že je nainstalovaný balíček <b>libgnomeprint</b>.
</p>
<p>Upravte <code>/etc/cups/cupsd.conf</code> a přidejte
</p>
<pre># HostNameLookups Double
</pre>
<p>Restartujte CUPS:
</p>
<pre># /etc/rc.d/cupsd restart
</pre>
<h4>
<span id="Unknown_supported_format:_application.2Fpostscript"></span><span class="mw-headline" id="Unknown_supported_format:_application/postscript">Unknown supported format: application/postscript</span>
</h4>
<p>Zakomentujte řádky:
</p>
<pre>application/octet-stream        application/vnd.cups-raw        0      -
</pre>
<p>v souboru <code>/etc/cups/mime.convs</code> a:
</p>
<pre>application/octet-stream
</pre>
<p>v <code>/etc/cups/mime.types</code>.
</p>
<h4>
<span id="Hled.C3.A1n.C3.AD_URI_tisk.C3.A1rny_b.C4.9B.C5.BE.C3.ADc.C3.AD_pod_Windows"></span><span class="mw-headline" id="Hledání_URI_tiskárny_běžící_pod_Windows">Hledání URI tiskárny běžící pod Windows</span>
</h4>
<p>Občas jsou potíže s nalezením správné URI adresy zařízení. Pokud s tím máte problémy, spusťte následující příkaz, který vám vypíše všechny dostuné adresy URI podle zadaného uživatelského jména:
</p>
<pre>$ smbtree -U <i>windows_uzivatelske_jmeno</i>
</pre>
<p>Vše bude samozřejmě fungovat jen pokud vám poběží správně <a href="../cs/Samba.html" title="Samba (Česky)">Samba</a>. Příkaz by měl vrátit něco podobného tomuto:
</p>
<pre> WORKGROUP
	\\REGULATOR-PC   		
		\\REGULATOR-PC\Z              	
		\\REGULATOR-PC\Public         	
		\\REGULATOR-PC\print$         	Printer Drivers
		\\REGULATOR-PC\G              	
		\\REGULATOR-PC\EPSON Stylus CX8400 Series	EPSON Stylus CX8400 Series</pre>
<p>Z výpisu nás zajímá hlavně první část posledního řádku. V druhé části řádku je popis zařízení. Takže pro tiskárnu EPSON Stylus vložte do nastavení v CUPS tuto URI:
</p>
<pre>smb://uzivatelske_jmeno.heslo@REGULATOR-PC/EPSON Stylus CX8400 Series
</pre>
<p>Všimněte si, že je v URI dovoleno používat bíle znaky, zatímco zpětná lomítka jsou nahrazeny lomítky klasickými.
</p>
<h4><span class="mw-headline" id="Print-Job_client-error-document-format-not-supported">Print-Job client-error-document-format-not-supported</span></h4>
<p>Zkuste nainstalovat foomatic balíčky a použijte ovladač foomatic.
</p>
<h2><span class="mw-headline" id="Appendix">Appendix</span></h2>
<h3>
<span id="Alternativn.C3.AD_rozhran.C3.AD_pro_ovl.C3.A1d.C3.A1n.C3.AD_CUPSu"></span><span class="mw-headline" id="Alternativní_rozhraní_pro_ovládání_CUPSu">Alternativní rozhraní pro ovládání CUPSu</span>
</h3>
<p>Pokud používáte <a href="../cs/GNOME.html" title="GNOME (Česky)">GNOME (Česky)</a>, je možné spravovat a konfigurovat tiskárnu pomocí system-config-printer-gnome. Tento balíček můžete nainstalovat takto:
</p>
<pre># pacman -S system-config-printer-gnome
</pre>
<p>Pravděpodobně budete muset spouštět system-config-printer pod uživatelem root. Případně můžete pro určité uživatele vytvořit skupinu. Pokud to chcete řešit takto, postupujte podle kroků <b>1-3</b>.
</p>
<ul><li>1. Vytvořte skupinu a přiřaďte ji uživatelům, kterým chcete dát práva spravovat tiskárny</li></ul>
<pre># groupadd lpadmin
# usermod -aG lpadmin &lt;uzivatelske_jmeno&gt;
</pre>
<ul><li>2. Přidejte "lpadmin" (bez uvozovek) na níže uvedený řádek v souboru <code>/etc/cups/cupsd.conf</code>
</li></ul>
<pre>SystemGroup sys root &lt;sem&gt;
</pre>
<ul><li>3. Restartujte cups, odhlašte se a znovu přihlašte (nebo restartujte počítač)</li></ul>
<pre># /etc/rc.d/cupsd restart
</pre>
<p>Uživatelé, kteří používají prostředí <a href="../cs/KDE.html" title="KDE (Česky)">KDE (Česky)</a> mohou tiskárny spravovat z tzv. Control Centra. Pokud potřebujete více informací o tom, jak spravovat tiskárny v těchto prostředích, koukněte do dokumentace.
</p>
<p>Zde je také v <a href="../cs/Arch_User_Repository.html" class="mw-redirect" title="AUR (Česky)">AURu</a> <a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages.php?ID=43505">gtklp</a><sup title="Last check status: 404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2020-12-20 ⓘ]</sup>.
</p>
<h3>
<span id="PDF_virtu.C3.A1ln.C3.AD_tisk.C3.A1rna"></span><span class="mw-headline" id="PDF_virtuální_tiskárna">PDF virtuální tiskárna</span>
</h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=cups-pdf">cups-pdf</a></span> je balíček, který umožňuje nastavení tzv. virtuální tiskárny. Díky této tiskárně můžete generovat PDF soubory z toho, co na ni pošlete. Pro samotnou funkčnost CUPSu není tento balíček potřebný, ale určitě je velmi užitečný.
</p>
<p>Vygenerované PDF dokumenty jsou umístěny v podadresáři <code>/var/spool/cups-pdf</code>. Většinou je tento podadresář pojmenovaný po uživateli, který spustil tisk.
</p>
<p>Balíček nainstalujete následujícím příkazem:
</p>
<pre># pacman -S cups-pdf
</pre>
<p>Po instalaci balíku tiskárnu nastavte - například prostřednictvím webového rozhranní. Jako zařízení (Device) vyberte <b>CUPS-PDF (Virtual PDF Printer)</b>; Výrobce (Make/Manufacturer), vyberte <b>Generic</b>; Ovladač (Model/Driver), vyberte <b>Generic postscript color printer</b> nebo <b>Generic Cups-PDF Printer</b>. Případně ješte můžete zvolit <a rel="nofollow" class="external text" href="http://www.physik.uni-wuerzburg.de/~vrbehr/cups-pdf/cups-pdf-CURRENT/extra/CUPS-PDF.ppd">tento</a><sup title="Last check status: 404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">dead link</a> 2020-12-20 ⓘ]</sup> soubor PPD.
</p>
<h4><span class="mw-headline" id="Print_to_postscript:_CUPS-PDF_virtual_printer_trick">Print to postscript: CUPS-PDF virtual printer trick</span></h4>
<p>Printing to PDF in most applications like OpenOffice is no problem; just hit the button. Yet when printing out to postscript, matters take a little more work. For applications like OpenOffice where printing to kprinter is nebulous at best, there has to be another way -- and there is. The CUPS-PDF (Virtual PDF Printer) actually creates a postscript file and then creates the PDF using the ps2pdf utility. To print to postscript, what needs to be done is capturing the intermediate postscript file created by CUPS-PDF. This is easily accomplished with by selecting the "print to file" option in the print dialog. (choose either .ps or .eps as the extension) After selecting the "print to file" checkbox simply enter the filename and click "print".
</p>
<h5>
<span id="Konfigurace_CUPS-PDF_virtualn.C3.AD_tisk.C3.A1rny"></span><span class="mw-headline" id="Konfigurace_CUPS-PDF_virtualní_tiskárny">Konfigurace CUPS-PDF virtualní tiskárny</span>
</h5>
<p>1. Nainstalujte <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=cups">cups</a></span> a <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=cups-pdf">cups-pdf</a></span> z <code>[extra]</code>.
</p>
<p>2. Nastartujte cups tímto příkazem:
</p>
<pre># /etc/rc.d/cupsd 
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Přidejte si 'cups' do pole daemonů ve svém <code>/etc/rc.conf</code>, pokud chcete, aby se zapínal při startu operačního systému.</div>
<p>3. Běžte do webové administrace CUPSu přejdutím na adresu: <a rel="nofollow" class="external free" href="http://localhost:631">http://localhost:631</a> a vyberte:
</p>
<pre>Administration (Administrace) -&gt; Add Printer (Přidat tiskárnu)
Vyberte CUPS-PDF (Virtual PDF) pro Make a Driver:
Make:	Generic
Driver:	Generic CUPS-PDF Printer
</pre>
<p>Teď už stačí pro vytištění postskriptu, vytisknout vše jako obvykle, akorát v print dialogu vyberte tiskárnu "CUPS-PDF". Potom zatrhněte checkbox Print to file (Vytisknout do souboru), stiskněte <i>Tisk</i> a vložtě jméno souboru, do kterého chcete vše vytisknout.
</p>
<h3>
<span id="Dal.C5.A1.C3.AD_zdroj_pro_ovlada.C4.8D_k_tisk.C3.A1rn.C3.A1m"></span><span class="mw-headline" id="Další_zdroj_pro_ovladač_k_tiskárnám">Další zdroj pro ovladač k tiskárnám</span>
</h3>
<p><a rel="nofollow" class="external text" href="http://www.turboprint.de/english.html">Turboprint</a> je proprietární ovladač pro mnoho různých tiskáren, které ještě nejsou oficiálně podporovány operačním systémem GNU/Linux (například Canon i*). Nicméně vysoce kvalitní výtisky jsou označeny vodoznakem nebo jsou pay-only.
</p>
<h2><span class="mw-headline" id="Zdroje">Zdroje</span></h2>
<ul>
<li>
<a rel="nofollow" class="external text" href="http://localhost:631/help/">Officiální dokumentace CUPSu</a>, <i>instalovaná lokálně</i>
</li>
<li><a rel="nofollow" class="external text" href="http://www.cups.org/">Oficiální stránka programu CUPS</a></li>
<li>
<a rel="nofollow" class="external text" href="http://www.linuxprinting.org/">Linux Printing</a>, <i><a rel="nofollow" class="external text" href="http://www.linuxfoundation.org">The Linux Foundation</a></i>
</li>
<li>
<a rel="nofollow" class="external text" href="http://www.gentoo.org/doc/en/printing-howto.xml">Gentoo's Printing Guide</a>, <i><a rel="nofollow" class="external text" href="http://www.gentoo.org/doc/en">Gentoo Documentation Resources</a></i>
</li>
<li><a rel="nofollow" class="external text" href="https://bbs.archlinux.org/">Arch Linux fóra</a></li>
</ul>
<ul><li><a href="https://en.wikipedia.org/wiki/CUPS" class="extiw" title="wikipedia:CUPS">Common Unix Printing System na Wikipedii</a></li></ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../cs/Category:Printers.html" title="Category:Printers (Česky)">Printers (Česky)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Translateme.html" title="Category:Pages or sections flagged with Template:Translateme">Pages or sections flagged with Template:Translateme</a></li>
<li><a href="../en/Category:Pages_with_broken_section_links.html" title="Category:Pages with broken section links">Pages with broken section links</a></li>
<li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=CUPS_(%C4%8Cesky)&amp;oldid=646234">https://wiki.archlinux.org/index.php?title=CUPS_(Česky)&amp;oldid=646234</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 21 December 2020, at 22:45.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
