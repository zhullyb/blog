<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Plymouth (Česky) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Plymouth_Česky rootpage-Plymouth_Česky skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Plymouth (Česky)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#%C3%9Avod"><span class="tocnumber">1</span> <span class="toctext">Úvod</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Instalace"><span class="tocnumber">2</span> <span class="toctext">Instalace</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Konfigurace"><span class="tocnumber">3</span> <span class="toctext">Konfigurace</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Zm%C4%9Bna_t%C3%A9matu"><span class="tocnumber">4</span> <span class="toctext">Změna tématu</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#%C5%98e%C5%A1en%C3%AD_chyb"><span class="tocnumber">5</span> <span class="toctext">Řešení chyb</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Credits"><span class="tocnumber">6</span> <span class="toctext">Credits</span></a></li>
</ul>
</div>

<h2>
<span id=".C3.9Avod"></span><span class="mw-headline" id="Úvod">Úvod</span>
</h2>
<p><a rel="nofollow" class="external text" href="http://fedoraproject.org/wiki/Releases/FeatureBetterStartup">Plymouth</a> je projekt Fedory, který poskytuje bootovací obrazovku bez nepříjemného poblikávání. Pro nastavení nativního rozlišení displeje, jak nejdříve je to možné, spoléhá na KMS (kernel mode setting), poté zobrazí graficky pěkný splash screen trvající až do startu správce přihlášení.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> KMS je momentálně dostupné pro grafické karty Intel a ATI (tedy bylo tomu tak alespoň u jádra verze 2.6.31). Plymouth může fungovat i bez něj, ale je možné, že spustí méně hezký textový plugin.</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> Plymouth je momentálně velice živě vyvíjen a může obsahovat chyby.</div>
<h2><span class="mw-headline" id="Instalace">Instalace</span></h2>
<p>Než začnete používat Plymouth, musíte povolit KMS. Následujte, prosím, instrukce <a href="../en/ATI.html#AMD.2FAti_cards_and_KernelModeSetting_.28KMS.29" title="ATI">pro karty ATI</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup> a <a href="../en/Intel_graphics.html#KMS_.28Kernel_Mode_Setting.29" class="mw-redirect" title="Intel">pro karty Intel</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup>. Obě dvě možnosti vyžadují znovusestavení obrazu jádra. To budete muset provést i později v tomto článku, takže to prozatím můžete přeskočit.
</p>
<p>Pokud nemáte KMS, budete místo něj potřebovat <a href="../en/Uvesafb.html#Framebuffer_Resolution" class="mw-redirect" title="Framebuffer">framebuffer</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Ten nemusí fungovat dobře. Plymouth je navržený pro práci <b>s</b> KMS, přesto je schopen občas fungovat i s framebufferem.</div>
<p>Plymouth můžete získat z repozitáře AUR. Nejlepší je použít <a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages.php?ID=26117">git verzi</a>, je totiž nejnovější a tedy i nejlépe funkční.
</p>
<p>Instrukce pro instalaci balíků z AURu jsou <a href="../en/Arch_User_Repository.html#Installing_packages" title="Arch User Repository">dostupné zde</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup>.
</p>
<h2><span class="mw-headline" id="Konfigurace">Konfigurace</span></h2>
<p>Nejdříve ze všeho nastavte téma pro plymouth. Plymouth přichází s výběrem témat:
</p>
<ol>
<li>Fade-in: "Jednoduché téma se slábnoucími a rozsvicujícími se mihotajícími se hvězdami"</li>
<li>Glow: "Korporátní téma s koláčovým grafem zobrazujícím boot následované barvitým vynořujícím se logem"</li>
<li>Solar: "Vesmírné téma s náhle se rozšiřující modrou "hvězdou"" a</li>
<li>Spinfinty: "Jednoduché téma zobrazující rotující znak nekonečna ve středu obrazovky"</li>
</ol>
<p>Nastavte požadované téma pomocí nástroje plymouth-set-default-theme, např:
</p>
<pre>$ su
# plymouth-set-default-theme spinfinity
</pre>
<p>Přidejte plymouth do pole <code>HOOKS</code> v souboru <code>mkinitcpio.conf</code>. <b>Musí</b> být přidán <i>až za</i> udev a autodetect, aby plymouth fungoval správně.
</p>
<pre># nano /etc/mkinitcpio.conf
</pre>
<p>Přidejte plymouth do pole <code>HOOKS</code>:
</p>
<pre>HOOKS="base udev autodetect plymouth ..."
</pre>
<p>Sestavte znovu obraz jádra:
</p>
<p>Pro nejnovější kernel (3.0+)
</p>
<pre># mkinitcpio -p linux
</pre>
<p>Je třeba zkonfigurovat Grub tak, aby pracoval s Plymouth:
</p>
<pre># nano /boot/grub/menu.lst
</pre>
<p>Pokud máte povolené KMS, odstraňte z řádky <code>kernel</code> veškeré <code>VGA=</code> záznamy. Pokud nemáte KMS, budete muset použít framebuffer a také přidat <code>VGA=</code> záznam. V obou případech přídejte na konec "quiet splash":
</p>
<pre>kernel /vmlinuz-linux root=/dev/disk/by-uuid/ff6e3888-b8f8-4a75-a08f-55ca30f4b330 ro quiet splash
</pre>
<p>Pozn: celý řáderk nekopírujte, na každém pc může být jiný , je zde uveden jen pro příklad!!!
Na konci bootovacího procesu musí být Plymouth démon zastaven. Toho můžete dosáhnout tímto příkazem v <code>rc.local</code>:
</p>
<pre># nano /etc/rc.local
</pre>
<p>a přidejte tento řádek
</p>
<pre>/bin/plymouth quit --retain-splash
</pre>
<p>Restartujte a užívejte si eye=candy start!
</p>
<h2>
<span id="Zm.C4.9Bna_t.C3.A9matu"></span><span class="mw-headline" id="Změna_tématu">Změna tématu</span>
</h2>
<p>Jak jsem se již zmínil výše, Plymouth příchází s několika tématy. Pokud budete chtít vyzkoušet jiná, jednoduše zadejte příkaz
</p>
<pre># plymouth-set-default-theme <i>název_téma</i>
</pre>
<p>Znovu sestavte obraz jádra:
Pro nejnovější kernel (3.0+)
</p>
<pre># mkinitcpio -p linux
</pre>
<p>A restartujte.
</p>
<h2>
<span id=".C5.98e.C5.A1en.C3.AD_chyb"></span><span class="mw-headline" id="Řešení_chyb">Řešení chyb</span>
</h2>
<p>Z nějakého důvodu na obou mých počítačích (notebook s grafickou kartou ATI a KMS, stolní počítač s kartou nVidia a framebufferem) příkaz pro ukončení Plymouthu zanechá v horní oblasti obrazovky malé černé čtverečky, které zastiňují okna pod nimi. Tento problém je způsoben volbou <code>--retain-splash</code>, která je potřebná pro zajištění souvislosti boot procesu, jak jen je to možné. Pokud jste zaznamenal tento problém, řešením je sestřelení Plymouthu <i>po</i> přihlášení, tehdy už není volba <code>--retain-splash</code> dále potřebná.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> To vyžaduje použití programu sudo. Instrukce pro instalaci a nastavení programu sudo můžete <a href="../en/Sudo.html" title="Sudo">nalézt zde</a>.</div>
<p>Upravte <code>/etc/rc.local</code> znovu a odstraňte řádek "/bin/plymouth quit --retain-splash".
</p>
<p>Pod svým uživatelem upravte <code>.xinitrc</code> a přidejte řádek pro sestřelení Plymouthu.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> To musí být <b>nad</b> řádkem, který startuje vaše sezení (např. <code>exec startxfce4</code>), jinak vaše desktopové sezení <b>nenastartuje</b>
</div>
<pre>$ nano ~/.xinitrc
</pre>
<p>A přidejte:
</p>
<pre>sudo /bin/plymouth quit &amp;
</pre>
<p>Všimněte si chybějícího <code>--retain-splash</code> a přidaného znaku &amp; na konci řádku. Je to nutné k tomu, aby xinitrc skript mohl spustit vaše desktopové sezení.
</p>
<p>Nyní si dejte práva pro zabití Plymouth démona bez hesla, to provedete úpravou souboru <code>/etc/sudoers</code>:
</p>
<pre>$ su
# EDITOR=nano visudo
</pre>
<p>A přidejte:
</p>
<pre><i>uzivatel</i>      ALL=(ALL) NOPASSWD: /bin/plymouth
</pre>
<p>Restartujte a vše by mělo být v pořádku.
</p>
<h2><span class="mw-headline" id="Credits">Credits</span></h2>
<p>Díky drf za jeho <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=81406">excelentní příspěvek ve fóru</a>, na základě kterého je tento článek založen
</p>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../cs/Category:Boot_process.html" title="Category:Boot process (Česky)">Boot process (Česky)</a></li>
<li><a href="../cs/Category:Eye_candy.html" title="Category:Eye candy (Česky)">Eye candy (Česky)</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_with_broken_section_links.html" title="Category:Pages with broken section links">Pages with broken section links</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Plymouth_(%C4%8Cesky)&amp;oldid=638582">https://wiki.archlinux.org/index.php?title=Plymouth_(Česky)&amp;oldid=638582</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 14 October 2020, at 07:16.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
