<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Intel graphics (Česky) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Intel_graphics_Česky rootpage-Intel_graphics_Česky skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Intel graphics (Česky)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<p>Jelikož Intel poskytuje a podporuje open source ovladače, grafické karty od něj jsou víceméně plug-and-play.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Modely"><span class="tocnumber">1</span> <span class="toctext">Modely</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Ovlada%C4%8D"><span class="tocnumber">2</span> <span class="toctext">Ovladač</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Instalace"><span class="tocnumber">3</span> <span class="toctext">Instalace</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Konfigurace"><span class="tocnumber">4</span> <span class="toctext">Konfigurace</span></a></li>
<li class="toclevel-1 tocsection-5">
<a href="#KMS_(Kernel_Mode_Setting)"><span class="tocnumber">5</span> <span class="toctext">KMS (Kernel Mode Setting)</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Vizte_t%C3%A9%C5%BE"><span class="tocnumber">5.1</span> <span class="toctext">Vizte též</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7">
<a href="#Tipy_a_triky"><span class="tocnumber">6</span> <span class="toctext">Tipy a triky</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#Nastaven%C3%AD_%C5%A1k%C3%A1lov%C3%A1n%C3%AD"><span class="tocnumber">6.1</span> <span class="toctext">Nastavení škálování</span></a></li>
<li class="toclevel-2 tocsection-9">
<a href="#Obejit%C3%AD_chyby_s_otv%C3%ADr%C3%A1n%C3%ADm_v%C3%ADka_laptopu"><span class="tocnumber">6.2</span> <span class="toctext">Obejití chyby s otvíráním víka laptopu</span></a>
<ul>
<li class="toclevel-3 tocsection-10"><a href="#%C5%98e%C5%A1en%C3%AD_#1"><span class="tocnumber">6.2.1</span> <span class="toctext">Řešení #1</span></a></li>
<li class="toclevel-3 tocsection-11"><a href="#%C5%98e%C5%A1en%C3%AD_#2"><span class="tocnumber">6.2.2</span> <span class="toctext">Řešení #2</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-12"><a href="#Probl%C3%A9m_s_KMS:_konzole_je_omezen%C3%A1_na_malou_oblast"><span class="tocnumber">6.3</span> <span class="toctext">Problém s KMS: konzole je omezená na malou oblast</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-13">
<a href="#%C5%98e%C5%A1en%C3%AD_probl%C3%A9m%C5%AF"><span class="tocnumber">7</span> <span class="toctext">Řešení problémů</span></a>
<ul>
<li class="toclevel-2 tocsection-14"><a href="#Glxgears_ukazuje_slab%C3%A9_v%C3%BDsledky"><span class="tocnumber">7.1</span> <span class="toctext">Glxgears ukazuje slabé výsledky</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Pr%C3%A1zdn%C3%A1_obrazovka_b%C4%9Bhem_bootu_p%C5%99i_%22Loading_modules%22"><span class="tocnumber">7.2</span> <span class="toctext">Prázdná obrazovka během bootu při "Loading modules"</span></a></li>
</ul>
</li>
</ul>
</div>

<h3><span class="mw-headline" id="Modely">Modely</span></h3>
<p>Je oblíbenou chybou myslet si, že je "Intel 945G" a "Intel GMA 945" ten samý grafický čip, pouze jinak nazvaný. To druhé defakto ani neexistuje. Intel používá "GMA" pro označení grafického jádra nebo-li GPU. Cokoliv jiného je ve skutečnosti model <b>čipsetu</b> na základní desce, např. "915G", "945GM", "G965" nebo "G45".
</p>
<p>Mezi ty běžnější GPU a jejich korespondující čipsety patří:
</p>
<ul>
<li>Intel GMA 900 (910, 915)</li>
<li>Intel GMA 950 (945)</li>
</ul>
<p>Čipset "i810" (opět, na základní desce; ne GPU) je opravdu velmi starý a byl vyráběn dlouho před řadou produktů 9xx, u níž začalo označování integrované grafiky pomocí GMA. Podobně mohou alternativně jména pro čipy 910, 915 a 945 obsahovat předponu <i>i</i>.
</p>
<p>Viz <a href="https://en.wikipedia.org/wiki/Intel_GMA#Table_of_GMA_graphics_cores_and_chipsets" class="extiw" title="wikipedia:Intel GMA">tento seznam</a>.
</p>
<h3>
<span id="Ovlada.C4.8D"></span><span class="mw-headline" id="Ovladač">Ovladač</span>
</h3>
<ul><li>xf86-video-intel</li></ul>
<h2><span class="mw-headline" id="Instalace">Instalace</span></h2>
<p>Předpokladem je <a href="../en/Xorg.html" title="Xorg">Xorg</a>.
</p>
<pre># pacman -S xf86-video-intel
</pre>
<h2><span class="mw-headline" id="Konfigurace">Konfigurace</span></h2>
<p>Od doby, co se o správu zařízení v Xorg začal starat HAL, není žádná potřeba pro jakýkoliv druh konfigurace. 
</p>
<p>Jediná věc, kterou byste měli udělat již na začátku (netýká se přímo konfigurace tohoto ovladače), je přidat svého uživatele do příslušné skupiny:
</p>
<pre># gpasswd -a jménouživatele video
</pre>
<h2>
<span id="KMS_.28Kernel_Mode_Setting.29"></span><span class="mw-headline" id="KMS_(Kernel_Mode_Setting)">KMS (Kernel Mode Setting)</span>
</h2>
<p><a href="../en/Kernel_mode_setting.html" class="mw-redirect" title="KMS">KMS</a> je podporován těmi čipsety od Intelu, které používají DRM ovladač i915, a od verze jádra 2.6.32 je povolen ve výchozím nastavení. Od xf86-video-intel 2.10 je použití KMS <a rel="nofollow" class="external text" href="https://archlinux.org/news/484/">povinné</a>. KMS se typicky inicializuje po bootstrapu jádra. Je nicméně možné zapnout KMS během samotného bootstrapu, v tom případě poběží celý proces bootování v nativním rozlišení.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Pokud používáte KMS, <i>musíte</i> z <code>/boot/grub/menu.lst</code> v řádku "kernel" odstranit jakoukoliv zmínku o "vga" nebo "video".</div>
<p>Přidejte moduly <code>intel_agp</code> a <code>i915</code> do řádku MODULES v <code>/etc/mkinitcpio.conf</code>:
</p>
<pre>MODULES="<b>intel_agp i915</b>"
</pre>
<p>Nyní nechte znovu vygenerovat initramfs:
</p>
<pre># mkinitcpio -p kernel26
</pre>
<p>Pokud byste někdy chtěli KMS vypnout, můžete bez nutnosti opětovného generování čehokoliv v <code>/boot/grub/menu.lst</code> GRUBu změnit volbu <code>i915.modeset</code> na 0:
</p>
<pre># (0) Arch Linux
title  Arch Linux
root   (hd0,0)
kernel /boot/vmlinuz26 root=/dev/... <b>i915.modeset=0</b>
initrd /boot/kernel26.img
</pre>
<p>Abyste ho vypnuli bez nutnosti upravovat <code>menu.lst</code>, zapněte počítač a až uvidíte obrazovku GRUBu, stiskněte nějakou klávesu, abyste tím zastavili odpočet. Vyberte jádro, které chcete nabootovat (zřejmě to, které je již vybrané) a skiskněte "e" pro "editaci". Nyní vyberte řádek začínající na "kernel" a stiskněte opět "e" pro úpravy. Nyní můžete přidat volbu <code>i915.modeset</code> a vypnout KMS tím, že ji nastavíte na 0. Stiskněte Enter a poté "b" pro nabootování tohoto jádra. Mějte na paměti, že toto je pouze dočasné, takže po dalším restartu bude KMS bez vašeho zásahu opět zapnuté.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Pokud během bootu s Intel GMA 950 dostáváte prázdnou obrazovku, downgradujte na kernel 2.6.31.6-1 nebo vypněte modesetting pomocí zmíněného parametru jádra.</div>
<h3>
<span id="Vizte_t.C3.A9.C5.BE"></span><span class="mw-headline" id="Vizte_též">Vizte též</span>
</h3>
<ul>
<li>
<a href="../en/Kernel_mode_setting.html" class="mw-redirect" title="KMS">KMS</a> (anglicky) — Článek o KMS na Arch Wiki</li>
<li>Fórum Arch Linuxu: <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=69083">HOWTO: Enable KMS with the stock 2.6.29-ARCH kernel</a>
</li>
<li>Fórum Arch Linuxu: <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=522665#p522665">Intel 945GM, Xorg, Kernel - performance</a>
</li>
</ul>
<h2><span class="mw-headline" id="Tipy_a_triky">Tipy a triky</span></h2>
<h3>
<span id="Nastaven.C3.AD_.C5.A1k.C3.A1lov.C3.A1n.C3.AD"></span><span class="mw-headline" id="Nastavení_škálování">Nastavení škálování</span>
</h3>
<p>Toto může být užitečné pro některé aplikace, které běží na celé obrazovce a nastavují si vlastní rozlišení.
</p>
<pre>xrandr --output LVDS1 --set PANEL_FITTING parametr
</pre>
<p>kde <tt>parametr</tt> může být
</p>
<ul>
<li>
<tt>center</tt>: rozlišení bude zachováno takové, jaké bylo definováno; nebude provedeno žádné škálování,</li>
<li>
<tt>full</tt>: škálovat rozlišení tak, aby využilo celou obrazovku nebo</li>
<li>
<tt>full_aspect</tt>: škálovat rozlišení na maximální možnou hodnotu ale zachovávat poměr stran.</li>
</ul>
<p>Pokud tohle nefunguje, můžete zkusit
</p>
<pre>xrandr --output LVDS1 --set "scaling mode" parametr
</pre>
<p>kde <tt>parametr</tt> je jeden z <tt>"Full"</tt>, <tt>"Center"</tt> nebo <tt>"Full aspect"</tt>.
</p>
<h3>
<span id="Obejit.C3.AD_chyby_s_otv.C3.ADr.C3.A1n.C3.ADm_v.C3.ADka_laptopu"></span><span class="mw-headline" id="Obejití_chyby_s_otvíráním_víka_laptopu">Obejití chyby s otvíráním víka laptopu</span>
</h3>
<h4>
<span id=".C5.98e.C5.A1en.C3.AD_.231"></span><span class="mw-headline" id="Řešení_#1">Řešení #1</span>
</h4>
<p>Na laptopech s grafickým čipsetem od Intelu se můžete setkat s nefunkčním displejem X, když zavřete víko laptopu pro jeho uspání, a opět ho otevřete. Vizte bug <a rel="nofollow" class="external free" href="https://bugs.freedesktop.org/show_bug.cgi?id=24970">https://bugs.freedesktop.org/show_bug.cgi?id=24970</a> pro více informací. 
</p>
<p>Zde je jedna možnost, jak tento problém obejít. Recept je založen na jednom podobném ze stránek Fedory: <a rel="nofollow" class="external free" href="https://fedoraproject.org/wiki/Common_F12_bugs#Display_cannot_be_reactivated_if_it_enters_sleep_mode_with_laptop_lid_closed">https://fedoraproject.org/wiki/Common_F12_bugs#Display_cannot_be_reactivated_if_it_enters_sleep_mode_with_laptop_lid_closed</a>
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> Toto řešení bude fungovat pouze v jednouživatelském systému. Můžete ho rozchodit i pro více uživatelů, pokud přidáte nějakou proceduru, která bude zjišťovat, který uživatel systém uvedl do stavu spánku.</div> 
<p>Nainstalujte acpid:
</p>
<pre># pacman -S acpid
</pre>
<p>Poté umístěte acpid před hal do sekce DAEMONS ve vašem souboru <code>/etc/rc.conf</code>.
</p>
<p>Vytvořte soubor <code>/etc/acpi/actions/reset-display.sh</code> s následujícím obsahem:
</p>
<pre> #!/bin/bash
 PATH="/bin:/usr/bin:/sbin:/usr/sbin"
 export DISPLAY=:0.0
 sleep 10 
 if grep open /proc/acpi/button/lid/LID/state
 then
   su "$(getent passwd $UID | cut -d: -f1)" -c "xrandr --output LVDS1 --off" 
   su "$(getent passwd $UID | cut -d: -f1)" -c "xrandr --output LVDS1 --auto" 
 fi
</pre>
<p><br>
kde <tt>$UID</tt> je UID uživatele (jímž jste vy), který uvedl laptop do stavu spánku. Hlavní rozdíl od původní metody z Fedořy je v použití příkazu <tt>sleep</tt>. Bez něj nebude stav tlačítka víčka ve chvíli, kdy ho bude skript <code>reset-display.sh</code> ověřovat, aktuální. V některých případech bude při běhu na síťový adaptér stačit menší prodleva (například 3 sekundy), 10 sekund ale bude fungovat vždy. Nezapomeňte učinit skript spustitelným:
</p>
<pre> # chmod +x /etc/acpi/actions/reset-display.sh
</pre>
<p>Poté musíme přiřadit tuto akci k události pro tlačítko víčka. Do souboru <code>/etc/acpi/handler.sh</code> pod <tt>button/lid)</tt> přidejte následující řádek:
</p>
<pre> /etc/acpi/actions/reset-display.sh
</pre>
<p>Nyní zrestartujte svůj laptop, případně pouze v následujícím pořadí restartujte tyto daemony:
</p>
<pre> # /etc/rc.d/hal stop
 # /etc/rc.d/acpid start
 # /etc/rc.d/hal start
</pre>
<h4>
<span id=".C5.98e.C5.A1en.C3.AD_.232"></span><span class="mw-headline" id="Řešení_#2">Řešení #2</span>
</h4>
<p>Jednodušší, méně spolehlivá obezlička je prostě uspat počítač znovu a opět ho probudit. To často tento problém vyřeší a navrátí X do funkčního stavu.
</p>
<h3>
<span id="Probl.C3.A9m_s_KMS:_konzole_je_omezen.C3.A1_na_malou_oblast"></span><span class="mw-headline" id="Problém_s_KMS:_konzole_je_omezená_na_malou_oblast">Problém s KMS: konzole je omezená na malou oblast</span>
</h3>
<p>Při bootu může být zapnutý jeden z video portů s nízkým rozlišením, který způsobí, že terminál využije pouze malou oblast obrazovky.
Pro opravu tohoto problému výslovně vypněte problematický port pomocí volby pro modul i915. Například přidejte do řádku kernel v <code>/boot/grub/menu.lst</code> následující:
</p>
<pre> video=SVIDEO-1:d
</pre>
<p>Pokud to takto nefunguje, můžete namísto SVIDEO-1 zkusit vypnout TV1 nebo VGA1.
</p>
<h2>
<span id=".C5.98e.C5.A1en.C3.AD_probl.C3.A9m.C5.AF"></span><span class="mw-headline" id="Řešení_problémů">Řešení problémů</span>
</h2>
<h3>
<span id="Glxgears_ukazuje_slab.C3.A9_v.C3.BDsledky"></span><span class="mw-headline" id="Glxgears_ukazuje_slabé_výsledky">Glxgears ukazuje slabé výsledky</span>
</h3>
<p>Pokud pro prověření grafického výkonu vašeho systému spustíte glxgears, může se vám stát, že glxgears ukazuje výsledky okolo <b>60 FPS</b>:
</p>
<pre>...
311 frames in 5.0 seconds = 61.973 FPS
311 frames in 5.0 seconds = 62.064 FPS
311 frames in 5.0 seconds = 62.026 FPS
...
</pre>
<p>To je způsobeno nikoliv regresí ve výkonu ale tím, že grafická karta používá <b>VSync</b>, což znamená, že dané výsledky označují počet snímků za sekundu vaší obrazovky.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong>  glxgears není benchmark pro porovnávání výkonu mezi dvěma nebo více systémy.</div>
<h3>
<span id="Pr.C3.A1zdn.C3.A1_obrazovka_b.C4.9Bhem_bootu_p.C5.99i_.22Loading_modules.22"></span><span class="mw-headline" id='Prázdná_obrazovka_během_bootu_při_"Loading_modules"'>Prázdná obrazovka během bootu při "Loading modules"</span>
</h3>
<p>Pokud používáte KMS s "pozdním startem" a obrazovka se během "Loading modules" vypne, může pomoci přidat i915 a intel_agp do initramfs. Viz <a href="#KMS_(Kernel_Mode_Setting)">KMS</a> výše.
</p>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../cs/Category:Graphics.html" title="Category:Graphics (Česky)">Graphics (Česky)</a></li></ul>
</div></div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Intel_graphics_(%C4%8Cesky)&amp;oldid=646863">https://wiki.archlinux.org/index.php?title=Intel_graphics_(Česky)&amp;oldid=646863</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 26 December 2020, at 12:02.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
