<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Parted (Русский) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Parted_Русский rootpage-Parted_Русский skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Parted (Русский)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Ссылки по теме</p>
<ul>
<li><a href="../ru/Fdisk.html" title="Fdisk (Русский)">fdisk (Русский)</a></li>
<li><a href="../en/GPT_fdisk.html" class="mw-redirect" title="Gdisk">gdisk</a></li>
<li><a href="../en/Partitioning.html" title="Partitioning">Partitioning</a></li>
</ul>
</div>
<p><a rel="nofollow" class="external text" href="https://www.gnu.org/software/parted/parted.html">GNU Parted</a> - это программа для создания и редактирования таблиц разделов. GParted это GUI для неё.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0"><span class="tocnumber">1</span> <span class="toctext">Установка</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5"><span class="tocnumber">2</span> <span class="toctext">Использование</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#%D0%A0%D0%B5%D0%B6%D0%B8%D0%BC_%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D0%BD%D0%BE%D0%B9_%D1%81%D1%82%D1%80%D0%BE%D0%BA%D0%B8"><span class="tocnumber">2.1</span> <span class="toctext">Режим командной строки</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%B0%D0%BA%D1%82%D0%B8%D0%B2%D0%BD%D1%8B%D0%B9_%D1%80%D0%B5%D0%B6%D0%B8%D0%BC"><span class="tocnumber">2.2</span> <span class="toctext">Интерактивный режим</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#%D0%9E%D0%BA%D1%80%D1%83%D0%B3%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5"><span class="tocnumber">3</span> <span class="toctext">Округление</span></a></li>
<li class="toclevel-1 tocsection-6">
<a href="#%D0%A0%D0%B0%D0%B7%D0%B1%D0%B8%D0%B5%D0%BD%D0%B8%D0%B5"><span class="tocnumber">4</span> <span class="toctext">Разбиение</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5_%D0%BD%D0%BE%D0%B2%D0%BE%D0%B9_%D1%82%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D1%8B_%D1%80%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB%D0%BE%D0%B2"><span class="tocnumber">4.1</span> <span class="toctext">Создание новой таблицы разделов</span></a></li>
<li class="toclevel-2 tocsection-8">
<a href="#%D0%A1%D1%85%D0%B5%D0%BC%D1%8B_%D1%80%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB%D0%BE%D0%B2"><span class="tocnumber">4.2</span> <span class="toctext">Схемы разделов</span></a>
<ul>
<li class="toclevel-3 tocsection-9"><a href="#UEFI/GPT_%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80%D1%8B"><span class="tocnumber">4.2.1</span> <span class="toctext">UEFI/GPT примеры</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="#BIOS/MBR_%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80%D1%8B"><span class="tocnumber">4.2.2</span> <span class="toctext">BIOS/MBR примеры</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-11">
<a href="#%D0%98%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D1%8F_%D1%80%D0%B0%D0%B7%D0%BC%D0%B5%D1%80%D0%B0_%D1%80%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB%D0%BE%D0%B2"><span class="tocnumber">4.3</span> <span class="toctext">Изменения размера разделов</span></a>
<ul>
<li class="toclevel-3 tocsection-12"><a href="#%D0%A3%D0%B2%D0%B5%D0%BB%D0%B8%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D1%80%D0%B0%D0%B7%D0%BC%D0%B5%D1%80%D0%B0_%D1%80%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB%D0%BE%D0%B2"><span class="tocnumber">4.3.1</span> <span class="toctext">Увеличение размера разделов</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="#%D0%A1%D0%B6%D0%B0%D1%82%D0%B8%D0%B5_%D1%80%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB%D0%BE%D0%B2"><span class="tocnumber">4.3.2</span> <span class="toctext">Сжатие разделов</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-14">
<a href="#%D0%9F%D1%80%D0%B5%D0%B4%D1%83%D0%BF%D1%80%D0%B5%D0%B6%D0%B4%D0%B5%D0%BD%D0%B8%D1%8F"><span class="tocnumber">5</span> <span class="toctext">Предупреждения</span></a>
<ul>
<li class="toclevel-2 tocsection-15"><a href="#%D0%92%D1%8B%D1%80%D0%B0%D0%B2%D0%BD%D0%B8%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5"><span class="tocnumber">5.1</span> <span class="toctext">Выравнивание</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-16">
<a href="#%D0%A1%D0%BE%D0%B2%D0%B5%D1%82%D1%8B_%D0%B8_%D0%BF%D1%80%D0%B8%D0%B5%D0%BC%D1%8B"><span class="tocnumber">6</span> <span class="toctext">Советы и приемы</span></a>
<ul>
<li class="toclevel-2 tocsection-17"><a href="#Dual_boot_%D1%81_Windows_XP"><span class="tocnumber">6.1</span> <span class="toctext">Dual boot с Windows XP</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#%D0%9F%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%BA%D0%B0_%D0%B2%D1%8B%D1%80%D0%B0%D0%B2%D0%BD%D0%B8%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F"><span class="tocnumber">6.2</span> <span class="toctext">Проверка выравнивания</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-19">
<a href="#%D0%A3%D1%81%D1%82%D1%80%D0%B0%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC"><span class="tocnumber">7</span> <span class="toctext">Устранение проблем</span></a>
<ul>
<li class="toclevel-2 tocsection-20"><a href="#%D0%A0%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB_FAT32_%D0%BF%D0%BE%D1%81%D0%BB%D0%B5_%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D1%8F_%D1%80%D0%B0%D0%B7%D0%BC%D0%B5%D1%80%D0%B0,_%D0%BD%D0%B5_%D1%80%D0%B0%D1%81%D0%BF%D0%BE%D0%B7%D0%BD%D0%B0%D0%B5%D1%82%D1%81%D1%8F_%D0%B2_Windows"><span class="tocnumber">7.1</span> <span class="toctext">Раздел FAT32 после изменения размера, не распознается в Windows</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#gparted_%D0%BD%D0%B0_Wayland_%D0%B2%D1%8B%D0%B7%D1%8B%D0%B2%D0%B0%D0%B5%D1%82_%D0%BE%D1%88%D0%B8%D0%B1%D0%BA%D1%83_%22cannot_open_display:_:0%22"><span class="tocnumber">7.2</span> <span class="toctext">gparted на Wayland вызывает ошибку "cannot open display: :0"</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-22"><a href="#%D0%A1%D0%BC%D0%BE%D1%82%D1%80%D0%B8%D1%82%D0%B5_%D1%82%D0%B0%D0%BA%D0%B6%D0%B5"><span class="tocnumber">8</span> <span class="toctext">Смотрите также</span></a></li>
</ul>
</div>

<h2>
<span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0"></span><span class="mw-headline" id="Установка">Установка</span>
</h2>
<p><a href="../ru/Help:Reading.html#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2" class="mw-redirect" title="Установите">Установите</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=parted">parted</a></span> пакет. Для графического интерфейса, <a href="../ru/Pacman.html#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2" class="mw-redirect" title="Установить">установить</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gparted">gparted</a></span> пакет, графический интерфейс для <i>parted</i>.
</p>
<h2>
<span id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5"></span><span class="mw-headline" id="Использование">Использование</span>
</h2>
<p>Parted имеет два режима: коммандная строка и интерактивный. Parted всегда должен начинаться с:
</p>
<pre># parted <i>device</i>
</pre>
<p>где <code><i>device</i></code> это жёсткий диск, который нужно отредактировать (например <code>/dev/sda</code>). Если не указать <code><i>device</i></code> аргумент, <i>parted</i> может предположить какое устройство вы хотите.
</p>
<h3>
<span id=".D0.A0.D0.B5.D0.B6.D0.B8.D0.BC_.D0.BA.D0.BE.D0.BC.D0.B0.D0.BD.D0.B4.D0.BD.D0.BE.D0.B9_.D1.81.D1.82.D1.80.D0.BE.D0.BA.D0.B8"></span><span class="mw-headline" id="Режим_командной_строки">Режим командной строки</span>
</h3>
<p>В режиме командной строки, он принимает одну или более команд. Например:
</p>
<pre># parted /dev/sda mklabel gpt mkpart P1 ext3 1MiB 8MiB 
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Параметры (такие как <code>--help</code>) можно указать только в командной строке.</div>
<h3>
<span id=".D0.98.D0.BD.D1.82.D0.B5.D1.80.D0.B0.D0.BA.D1.82.D0.B8.D0.B2.D0.BD.D1.8B.D0.B9_.D1.80.D0.B5.D0.B6.D0.B8.D0.BC"></span><span class="mw-headline" id="Интерактивный_режим">Интерактивный режим</span>
</h3>
<p>Интерактивный режим упрощает процесс разбиения и уменьшает ненужное повторение с помощью автоматического применения всех команд разбиения на указанное устройство. 
</p>
<p>Чтобы начать работу с устройством, выполните:
</p>
<pre># parted /dev/sd<i>x</i>
</pre>
<p>Вы заметите что префикс командной строки (<code>#</code>) отличается от <code>(parted)</code>: это также означает, что новая строка не является командой, которую нужно вводить вручную при запуске команд в примерах.
</p>
<p>Чтобы увидеть список доступных команд, введите:
</p>
<pre>(parted) help
</pre>
<p>Когда закончите, или если хотите сделать таблицу разделов или схему для другого устройства, выйдите из parted с помощью:
</p>
<pre>(parted) quit
</pre>
<p>После выхода, префикс командной строки измениться обратно на <code>#</code>.
</p>
<p>Если вы не указываете параметр команде, Parted подскажет вам его. Например:
</p>
<pre>(parted) mklabel
New disk label type? gpt
</pre>
<h2>
<span id=".D0.9E.D0.BA.D1.80.D1.83.D0.B3.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5"></span><span class="mw-headline" id="Округление">Округление</span>
</h2>
<p>Поскольку многие системы разделов имеют сложные ограничения, Parted обычно будет делать что-то немного другое, чем вы просили. (Например, создание раздела начиная с 10.352Mb, не с 10.4Mb) Если рассчитанные значения слишком сильно отличаются, Parted попросит у вас подтверждения. Если вы точно знаете, что хотите, или точно видите, что делает Parted, это может помоч указать конечные точки разделов в секторах. (с помощью "s" суффикса) и указать "unit s" команду, чтобы конечные точки раздела отображались в секторах.
</p>
<p>В parted-2.4, когда вы указываете начало и/или конец значения с использованием двоичных единиц IEC, например “MiB”, “GiB”, “TiB”, и т.д., parted обрабатывает эти значения как точные и равны тому же числу, указанному в байтах (то есть с суффиксом "B"), в том, что он не дает “полезный” диапозон. Сравните это с запросом на запуск раздела “4GB”, который может фактически разрешиться в некотором секторе до 500MB до или после этого момента. Таким образом, при создании раздела лучше указывать единицы байтов (“B”), сектора (“s”), или двоичные блоки IEC, такие как “MiB”, но не “MB”, “GB”, и т.д.
</p>
<h2>
<span id=".D0.A0.D0.B0.D0.B7.D0.B1.D0.B8.D0.B5.D0.BD.D0.B8.D0.B5"></span><span class="mw-headline" id="Разбиение">Разбиение</span>
</h2>
<h3>
<span id=".D0.A1.D0.BE.D0.B7.D0.B4.D0.B0.D0.BD.D0.B8.D0.B5_.D0.BD.D0.BE.D0.B2.D0.BE.D0.B9_.D1.82.D0.B0.D0.B1.D0.BB.D0.B8.D1.86.D1.8B_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.BE.D0.B2"></span><span class="mw-headline" id="Создание_новой_таблицы_разделов">Создание новой таблицы разделов</span>
</h3>
<p>Вам нужно (пере)создать таблицу разделов устройства, если она никогда ранее не разбивалась, или когда вы хотите изменить тип этих таблиц разделов. Пересоздание таблицы разделов устройства также будет полезно когда схема разделов требует реконструкции с нуля.
</p>
<p>Откройте каждое устройство, таблица разделов которого должна быть (пере)создана с помощью:
</p>
<pre># parted /dev/sd<i>x</i>
</pre>
<p>Затем создайте новую <a href="../en/Partitioning.html#GUID_Partition_Table" class="mw-redirect" title="GUID Partition Table">GUID Partition Table</a>, используйте следующую команду:
</p>
<pre>(parted) mklabel gpt
</pre>
<p>Чтобы создать новую <a href="/index.php?title=%D0%93%D0%BB%D0%B0%D0%B2%D0%BD%D1%83%D1%8E_%D0%97%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BE%D1%87%D0%BD%D1%83%D1%8E_%D0%97%D0%B0%D0%BF%D0%B8%D1%81%D1%8C&amp;action=edit&amp;redlink=1" class="new" title="Главную Загрузочную Запись (page does not exist)">Главную Загрузочную Запись</a>/MS-DOS таблицу разделов, используйте:
</p>
<pre>(parted) mklabel msdos
</pre>
<h3>
<span id=".D0.A1.D1.85.D0.B5.D0.BC.D1.8B_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.BE.D0.B2"></span><span class="mw-headline" id="Схемы_разделов">Схемы разделов</span>
</h3>
<p>Вы можете выбрать количество и размер разделов, на которые должны быть разделены устройства, и какие каталоги будут использоваться для монтирования разделов в установленной системе (также известной как <i>mount points</i>). Смотрите <a href="../ru/Partitioning.html#%D0%A1%D1%85%D0%B5%D0%BC%D1%8B_%D1%80%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB%D0%BE%D0%B2" class="mw-redirect" title="Разбиение">Разбиение#Схемы разделов</a> для необходимых разделов.
</p>
<p>Следующая команда будет использоваться для создания разделов:
</p>
<pre>(parted) mkpart <i>part-type-or-part-label</i> <i>fs-type</i> <i>start</i> <i>end</i>
</pre>
<ul>
<li>
<code><i>part-type-or-part-label</i></code> интерпретируется по-разному в зависимости от таблицы разделов:
<ul>
<li>MBR: параметр интерпретируется как <code><i>part-type</i></code>, который может быть <code>primary</code>, <code>extended</code> или <code>logical</code>.</li>
<li>GPT: параметр интерпретируется как <code><i>part-label</i></code>, который устанавливает <a href="../en/Persistent_block_device_naming.html#by-partlabel" class="mw-redirect" title="PARTLABEL">PARTLABEL</a> атрибут раздела. Метка раздела должна быть установлена всегда, так как <i>mkpart</i> не разрешает создавать разделы без метки. <div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Во многих туториалах в интернете используются команды которые начинаются с <code>mkpart primary</code> даже для GPT. Они не правильные, это установило бы "primary" как метку раздела.</div>
</li>
</ul>
</li>
<li>
<code><i>fs-type</i></code> - идентификатор, выбранный из числа перечисленных путем ввода <code>help mkpart</code> как наиболее близкое соответствие к файловой системе, которую вы будете использовать. Команда <i>mkpart</i> фактически не создает файловую систему: <code><i>fs-type</i></code> параметр будет просто использоваться <i>parted</i> чтобы установить 1-байтовый код, который используется загрузчиками для "предварительного просмотра" какие данные находятся в разделе, и при необходимости действовать соответствующим образом. Смотрите также <a href="https://en.wikipedia.org/wiki/%D0%A0%D0%B0%D0%B7%D0%B4%D0%B5%D0%BB_%D0%B4%D0%B8%D1%81%D0%BA%D0%B0#.D0.92.D0.B8.D0.B4.D1.8B_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.BE.D0.B2" class="extiw" title="wikipedia:Раздел диска">Wikipedia:Раздел_диска#Виды_разделов</a>.</li>
</ul>
<dl><dd><div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> Большинство <a href="https://en.wikipedia.org/wiki/File_system#Linux" class="extiw" title="wikipedia:File system">Linux native file systems</a> сопоставимы с тем же кодом типа раздела MBR (<a href="https://en.wikipedia.org/wiki/Partition_type#PID_83h" class="extiw" title="wikipedia:Partition type">0x83</a>), так что совершенно безопасно, например, использовать <code>ext2</code> для <i>ext4</i>- форматирования разделов.</div></dd></dl>
<ul>
<li>
<code><i>start</i></code> это начало раздела от начала устройства. Он состоит из числа, за которым следует <a rel="nofollow" class="external text" href="https://www.gnu.org/software/parted/manual/parted.html#unit">unit</a>, например <code>1MiB</code> означает начало с 1 MiB.</li>
<li>
<code><i>end</i></code> конец раздела от начала устройства (<i>not</i> из <code><i>start</i></code> значения). Он имеет тот же синтаксис, что и <code><i>start</i></code>, например <code>100%</code> означает конец в конце устройства (использовать все оставшееся пространство).</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> На диске с MBR таблицей разделов оставьте не менее 33 512-байт секторов (16.5 KiB) свободного нераспределенного пространства в конце диска, чтобы <a href="../en/GPT_fdisk.html#Convert_between_MBR_and_GPT" class="mw-redirect" title="Gdisk">конвертировать между MBR и GPT</a>.</div>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> Важно, чтобы разделы не перекрывали друг друга: если вы не хотите оставлять неиспользуемое место в устройстве, убедитесь, что каждый раздел начинается там, где заканчивается предыдущий.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> <i>parted</i> может выдать предупреждение вроде:
<pre>Warning: The resulting partition is not properly aligned for best performance.
Ignore/Cancel?
</pre>
В этом случае прочтите <a href="../ru/Partitioning.html#Partition_alignment" class="mw-redirect" title="Разбиение">Разбиение#Partition alignment</a> и следуйте <a href="#%D0%92%D1%8B%D1%80%D0%B0%D0%B2%D0%BD%D0%B8%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5">#Выравнивание</a> чтобы исправить это.</div>
<p>Следующая команда будет использоваться для отметки раздела, содержащего <code>/boot</code> директорию как загрузочную:
</p>
<pre>(parted) set <i>partition</i> boot on
</pre>
<ul>
<li>
<code><i>partition</i></code> - номер раздела, который должен быть отмечен (смотрите вывод команды <code>print</code>).</li>
<li>
<code>esp</code> это назначения для <code>boot</code> на GPT. <a rel="nofollow" class="external autonumber" href="https://www.gnu.org/software/parted/manual/html_node/set.html">[1]</a>
</li>
</ul>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a><b>This article or section needs expansion.</b><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Explain the <code>boot</code>, <code>legacy_boot</code> и <code>esp</code> флаги и их различное использование в MBR и GPT. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Parted_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)">Talk:Parted (Русский)#</a>)</div>
</div>
<h4>
<span id="UEFI.2FGPT_.D0.BF.D1.80.D0.B8.D0.BC.D0.B5.D1.80.D1.8B"></span><span class="mw-headline" id="UEFI/GPT_примеры">UEFI/GPT примеры</span>
</h4>
<p>В каждом случае специальный загрузочный <a href="../ru/EFI_system_partition.html" title="EFI system partition (Русский)">EFI_system_partition_(Русский)</a> is required.
</p>
<p>При создании нового системного раздела EFI используйте следующие команды (рекомендуемый размер - не менее 260 MiB):
</p>
<pre>(parted) mkpart "EFI system partition" fat32 1MiB 261MiB
(parted) set 1 esp on
</pre>
<p>Оставшаяся схема разделов полностью зависит от вас. Для другого раздела, использующего 100% оставшегося пространства
</p>
<pre>(parted) mkpart "<i>my partition label</i>" ext4 261MiB 100%
</pre>
<p>Для <code>/</code> (20 GiB) и <code>/home</code> (все оставшееся пространство) разделов:
</p>
<pre>(parted) mkpart "root partition" ext4 261MiB 20.5GiB
(parted) mkpart "home partition" ext4 20.5GiB 100%
</pre>
<p>Для <code>/</code> (20 GiB), swap (4 GiB), и <code>/home</code> (все оставшееся пространство) разделов:
</p>
<pre>(parted) mkpart "root partition" ext4 261MiB 20.5GiB
(parted) mkpart "swap partition" linux-swap 20.5GiB 24.5GiB
(parted) mkpart "home partition" ext4 24.5GiB 100%
</pre>
<h4>
<span id="BIOS.2FMBR_.D0.BF.D1.80.D0.B8.D0.BC.D0.B5.D1.80.D1.8B"></span><span class="mw-headline" id="BIOS/MBR_примеры">BIOS/MBR примеры</span>
</h4>
<p>Для минимального одного основного раздела, использующего все доступное дисковое пространство, будет использоваться следующая команда:
</p>
<pre>(parted) mkpart primary ext4 1MiB 100%
(parted) set 1 boot on
</pre>
<p>В следующем случае, 20 GiB <code>/</code> будет создан раздел, за которым последует <code>/home</code> раздел, используя все оставшееся пространство:
</p>
<pre>(parted) mkpart primary ext4 1MiB 20GiB
(parted) set 1 boot on
(parted) mkpart primary ext4 20GiB 100%
</pre>
<p>В последнем примере, <code>/boot</code> (100 MiB), <code>/</code> (20 GiB), swap (4 GiB), and <code>/home</code> (все оставшееся пространство) разделы будут созданы:
</p>
<pre>(parted) mkpart primary ext3 1MiB 100MiB
(parted) set 1 boot on
(parted) mkpart primary ext3 100MiB 20GiB
(parted) mkpart primary linux-swap 20GiB 24GiB
(parted) mkpart primary ext3 24GiB 100%
</pre>
<h3>
<span id=".D0.98.D0.B7.D0.BC.D0.B5.D0.BD.D0.B5.D0.BD.D0.B8.D1.8F_.D1.80.D0.B0.D0.B7.D0.BC.D0.B5.D1.80.D0.B0_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.BE.D0.B2"></span><span class="mw-headline" id="Изменения_размера_разделов">Изменения размера разделов</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> ext2/3/4 разделы, размер которых изменяется, должны быть размонтированы и не использоваться. Трудно и опасно пытаться редактировать корневую файловую систему в работающей ОС; вместо этого используйте live media/rescue систему.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> 
<ul>
<li>Вы можете переместить конец раздела только с помощью <code>parted</code>.</li>
<li>В parted v4.2 <i>resizepart</i> может потребоваться использование <a href="#%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%B0%D0%BA%D1%82%D0%B8%D0%B2%D0%BD%D1%8B%D0%B9_%D1%80%D0%B5%D0%B6%D0%B8%D0%BC">#Интерактивный режим</a>.<a rel="nofollow" class="external autonumber" href="https://bugs.launchpad.net/ubuntu/+source/parted/+bug/1270203">[2]</a>
</li>
<li>Эти инструкции применимы к разделам, имеющим ext2, ext3, ext4, или btrfs файловые системы.</li>
</ul>
</div>
<p>Если вы увеличиваете раздел, вы должны сначала изменить размер раздела, а затем изменить размер файловой системы на нем, в то время как для сжатия файловая система должна быть изменена перед разделом, чтобы избежать потери данных.
</p>
<h4>
<span id=".D0.A3.D0.B2.D0.B5.D0.BB.D0.B8.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D1.80.D0.B0.D0.B7.D0.BC.D0.B5.D1.80.D0.B0_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.BE.D0.B2"></span><span class="mw-headline" id="Увеличение_размера_разделов">Увеличение размера разделов</span>
</h4>
<p>Чтобы увеличить размер (в интерактивном режиме parted):
</p>
<pre>(parted) resizepart <i>number</i> <i>end</i>
</pre>
<p>Где <code><i>number</i></code> - номер раздела, который вы увеличиваете, и <code><i>end</i></code> - новый конец раздела (который должен быть больше старого).
</p>
<p>Затем чтобы увеличить (ext2/3/4) файловую систему на разделах:
</p>
<pre># resize2fs /dev/<i>sdaX</i> <i>[size]</i>
</pre>
<p>Или увеличить Btrfs файловую систему:
</p>
<pre># btrfs filesystem resize /dev/<i>sdaX</i> <i>[size]</i>
</pre>
<p>Где <code><i>sdaX</i></code> обозначает раздел, который вы увеличиваете, и <code><i>[size]</i></code> - новый размер раздела. Примечание; <code><i>[size]</i></code> опциональный, по умолчанию: заполнить оставшееся место на разделе.
</p>
<h4>
<span id=".D0.A1.D0.B6.D0.B0.D1.82.D0.B8.D0.B5_.D1.80.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB.D0.BE.D0.B2"></span><span class="mw-headline" id="Сжатие_разделов">Сжатие разделов</span>
</h4>
<p>Чтобы сжать ext2/3/4 файловую систему на разделе:
</p>
<pre># resize2fs /dev/<i>sdaX</i> <i>size</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> В отличие от parted, <span class="plainlinks archwiki-template-man" title="$ man 8 resize2fs"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/resize2fs.8">resize2fs(8)</a></span> использует K, M, G и T что обозначает KiB, MiB, GiB и TiB. Документация <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=e2fsprogs">e2fsprogs</a></span> неверно ссылается на кибибайты, мебибайты, гибибайты и тебибайт как "степень двойки  килобайты,  мегабайты,  гигабайты,  терабайты".</div>
<p>Чтобы сжать Btrfs файловую систему:
</p>
<pre># btrfs filesystem resize /dev/<i>sdaX</i> <i>size</i>
</pre>
<p>Где <code><i>sdaX</i></code> обозначает раздел, который вы сжимаете, и <code><i>size</i></code> - новый размер раздела.
</p>
<p>Затем сожмите раздел (в интерактивном режиме parted):
</p>
<pre>(parted) resizepart <i>number</i> <i>end</i>
</pre>
<p>Где <code><i>number</i></code> - номер раздела, который вы сжимаете, и <code><i>end</i></code> - новый конец раздела (который должен быть меньше старого конца).
</p>
<p>Когда закончите, используйте <i>resizepart</i> команду из <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=util-linux">util-linux</a></span> сообщающая ядру о новом размере:
</p>
<pre># resizepart <i>device</i> <i>number</i> <i>size</i>
</pre>
<p>Где <code><i>device</i></code> - устройство, на котором находиться раздел, <code><i>number</i></code> - номер раздела и <code><i>size</i></code> - новый размер раздела, в 512-байт секторах.
</p>
<h2>
<span id=".D0.9F.D1.80.D0.B5.D0.B4.D1.83.D0.BF.D1.80.D0.B5.D0.B6.D0.B4.D0.B5.D0.BD.D0.B8.D1.8F"></span><span class="mw-headline" id="Предупреждения">Предупреждения</span>
</h2>
<p>Parted will always warn you before doing something that is potentially dangerous, unless the command is one of those that is inherently dangerous (e.g. <i>rm</i>, <i>mklabel</i> and <i>mkpart</i>).
</p>
<h3>
<span id=".D0.92.D1.8B.D1.80.D0.B0.D0.B2.D0.BD.D0.B8.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5"></span><span class="mw-headline" id="Выравнивание">Выравнивание</span>
</h3>
<p>При создании раздела, <i>parted</i> может предупредить о неправильном выравнивании раздела, но не поможет с правильным выравнивание. Например:
</p>
<pre>(parted) mkpart primary fat16 0 32M
Warning: The resulting partition is not properly aligned for best performance.
Ignore/Cancel?                                                     
</pre>
<p>Предупреждение означает, что начало раздела не выровнено. Введите "Ignore" что проигнорировать, вывести таблицу разделов по секторам, чтобы увидеть, где она начинается, и удалить/пересоздать раздел с начала сектора округляя до увеличения степени до 2, пока предупреждение не прекратится. В качестве одного из примеров, на флешке с секторами 512B, Parted найдёт разделы начинающиеся на секторах которые кратны 2048, что соответствует выравниванию в 1 MiB.
</p>
<p>Если вы хотите <i>parted</i> может попытаться рассчитать для вас правильное выравнивание, укажите начальную позицию как 0% вместо некоторого конкретного значения. Чтобы сделать один большой ext4 раздел, ваша команда должна выглядить так:
</p>
<pre>(parted) mkpart primary ext4 0% 100%
</pre>
<h2>
<span id=".D0.A1.D0.BE.D0.B2.D0.B5.D1.82.D1.8B_.D0.B8_.D0.BF.D1.80.D0.B8.D0.B5.D0.BC.D1.8B"></span><span class="mw-headline" id="Советы_и_приемы">Советы и приемы</span>
</h2>
<h3>
<span id="Dual_boot_.D1.81_Windows_XP"></span><span class="mw-headline" id="Dual_boot_с_Windows_XP">Dual boot с Windows XP</span>
</h3>
<p>Если вы имеете Windows XP разделы которые вы хотите переместить с диска на диск, а также ваш загрузочный раздел, вы можете легко сделать это с помощью GParted и оставаться на Windows счастливым, просто удалив следующий ключ реестра ДО перемещения раздела:
</p>
<pre>HKEY_LOCAL_MACHINE\SYSTEM\MountedDevices
</pre>
<p>Ссылка на источник <a rel="nofollow" class="external text" href="http://gparted-forum.surf4.info/viewtopic.php?pid=8347#p8347">здесь</a>.
</p>
<h3>
<span id=".D0.9F.D1.80.D0.BE.D0.B2.D0.B5.D1.80.D0.BA.D0.B0_.D0.B2.D1.8B.D1.80.D0.B0.D0.B2.D0.BD.D0.B8.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F"></span><span class="mw-headline" id="Проверка_выравнивания">Проверка выравнивания</span>
</h3>
<p>На существующем размеченном диске, вы можите использовать <i>parted</i> чтобы проверить выравнивание разделов на диске. Например, проверить выравнивание раздела 1 на <code>/dev/sda</code>:
</p>
<pre># parted /dev/sda
(parted) align-check optimal 1
1 aligned
</pre>
<h2>
<span id=".D0.A3.D1.81.D1.82.D1.80.D0.B0.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BF.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC"></span><span class="mw-headline" id="Устранение_проблем">Устранение проблем</span>
</h2>
<h3>
<span id=".D0.A0.D0.B0.D0.B7.D0.B4.D0.B5.D0.BB_FAT32_.D0.BF.D0.BE.D1.81.D0.BB.D0.B5_.D0.B8.D0.B7.D0.BC.D0.B5.D0.BD.D0.B5.D0.BD.D0.B8.D1.8F_.D1.80.D0.B0.D0.B7.D0.BC.D0.B5.D1.80.D0.B0.2C_.D0.BD.D0.B5_.D1.80.D0.B0.D1.81.D0.BF.D0.BE.D0.B7.D0.BD.D0.B0.D0.B5.D1.82.D1.81.D1.8F_.D0.B2_Windows"></span><span class="mw-headline" id="Раздел_FAT32_после_изменения_размера,_не_распознается_в_Windows">Раздел FAT32 после изменения размера, не распознается в Windows</span>
</h3>
<p>По состоянию на декабрь 2018 г, в parted была ошибка, <a rel="nofollow" class="external text" href="https://bugzilla.gnome.org/show_bug.cgi?id=759916">patched in git</a> 2016-04-15, но всё ещё присутствовала в Arch Linux (и ряду других дистрибутивов) из-за того, что не было официального релиза parted с 2014-07-28.<a rel="nofollow" class="external autonumber" href="https://git.savannah.gnu.org/cgit/parted.git/">[3]</a> Эта проблема была решена в upstream после выпуска новой разделенной версии в 2019-08-12, и решена в Arch с 3.3-1 выпуска parted в 2019-10-11.<a rel="nofollow" class="external autonumber" href="https://github.com/archlinux/svntogit-packages/commit/6edbc6009e4f460d0ab8553da2d86b6db4e8c7a8">[4]</a>
</p>
<p>Для старых сборок, однострочный обходной путь был упомянут в отчете об ошибке, но в отчете также указывалось, что он не работал должным образом для всех. <a rel="nofollow" class="external autonumber" href="https://bugzilla.gnome.org/show_bug.cgi?id=759916#c21">[5]</a><a rel="nofollow" class="external autonumber" href="https://bugzilla.gnome.org/show_bug.cgi?id=759916#c22">[6]</a>
</p>
<p>Следует отметить, что этот вопрос во многом не коснулся gparted, поскольку проект включил патч в свою сборку от gparted версии 0.26.0-1 (выпущенной в 2016-04-29).<a rel="nofollow" class="external autonumber" href="https://sourceforge.net/projects/gparted/files/gparted-live-stable/0.26.0-1/">[7]</a>
</p>
<h3>
<span id="gparted_.D0.BD.D0.B0_Wayland_.D0.B2.D1.8B.D0.B7.D1.8B.D0.B2.D0.B0.D0.B5.D1.82_.D0.BE.D1.88.D0.B8.D0.B1.D0.BA.D1.83_.22cannot_open_display:_:0.22"></span><span class="mw-headline" id='gparted_на_Wayland_вызывает_ошибку_"cannot_open_display:_:0"'>gparted на Wayland вызывает ошибку "cannot open display: :0"</span>
</h3>
<p>Установить <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xorg-xhost">xorg-xhost</a></span>.
</p>
<p>Данная проблема возникает потому, что <code>xwayland</code> получает отказ в доступе от gparted запущенном от имени <code>root</code>. разработчики gparted реализовали <a rel="nofollow" class="external autonumber" href="http://gparted-forum.surf4.info/viewtopic.php?id=17682">[8]</a> небольшой обходной путь, который временно добавляет <code>root</code> в список пользователей, которым разрешёно подключаться <code>xwayland</code> пока приложение запущено.
</p>
<h2>
<span id=".D0.A1.D0.BC.D0.BE.D1.82.D1.80.D0.B8.D1.82.D0.B5_.D1.82.D0.B0.D0.BA.D0.B6.D0.B5"></span><span class="mw-headline" id="Смотрите_также">Смотрите также</span>
</h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://www.gnu.org/software/parted/manual/">GNU parted - Parted User's Manual</a></li>
<li><a rel="nofollow" class="external text" href="http://rainbow.chard.org/2013/01/30/how-to-align-partitions-for-best-performance-using-parted/">How to align partitions for best performance using parted</a></li>
<li><a rel="nofollow" class="external text" href="http://positon.org/resize-an-ext3-ext4-partition">Resize an ext3/ext4 partition</a></li>
<li><a rel="nofollow" class="external text" href="http://gparted-forum.surf4.info/">Official GParted forums</a></li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../ru/Category:File_systems.html" title="Category:File systems (Русский)">File systems (Русский)</a></li>
<li><a href="../ru/Category:System_recovery.html" title="Category:System recovery (Русский)">System recovery (Русский)</a></li>
<li><a href="../ru/Category:Commands.html" title="Category:Commands (Русский)">Commands (Русский)</a></li>
<li><a href="../ru/Category:GNU.html" title="Category:GNU (Русский)">GNU (Русский)</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Parted_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;oldid=648290">https://wiki.archlinux.org/index.php?title=Parted_(Русский)&amp;oldid=648290</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 5 January 2021, at 19:48.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
