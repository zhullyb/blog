<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Professional audio (Русский) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Professional_audio_Русский rootpage-Professional_audio_Русский skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Professional audio (Русский)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="../ru/Sound_system.html" title="Sound system (Русский)">Sound system (Русский)</a></li>
<li><a href="../en/Envy24control.html" title="Envy24control">envy24control</a></li>
</ul>
</div>
<p>Современные Linux системы способны удовлетворить любые ваши (полу-)профессиональные аудио потребности. При использовании хорошего аппаратного обеспечения и надлежащей конфигурации можно добиться временной задержки от 5 мс до 1 мс.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#%D0%9D%D0%B0%D1%87%D0%B0%D0%BB%D0%BE_%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B"><span class="tocnumber">1</span> <span class="toctext">Начало работы</span></a>
<ul>
<li class="toclevel-2 tocsection-2">
<a href="#%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%8B"><span class="tocnumber">1.1</span> <span class="toctext">Настройка системы</span></a>
<ul>
<li class="toclevel-3 tocsection-3"><a href="#%D0%9A%D0%BE%D0%BD%D1%82%D1%80%D0%BE%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9_%D0%BF%D0%B5%D1%80%D0%B5%D1%87%D0%B5%D0%BD%D1%8C"><span class="tocnumber">1.1.1</span> <span class="toctext">Контрольный перечень</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-4">
<a href="#JACK"><span class="tocnumber">1.2</span> <span class="toctext">JACK</span></a>
<ul>
<li class="toclevel-3 tocsection-5"><a href="#FireWire"><span class="tocnumber">1.2.1</span> <span class="toctext">FireWire</span></a></li>
<li class="toclevel-3 tocsection-6"><a href="#Jack_Flash"><span class="tocnumber">1.2.2</span> <span class="toctext">Jack Flash</span></a></li>
<li class="toclevel-3 tocsection-7"><a href="#Quickscan_JACK_script"><span class="tocnumber">1.2.3</span> <span class="toctext">Quickscan JACK script</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="#Desktop_Effects_vs_JACK"><span class="tocnumber">1.2.4</span> <span class="toctext">Desktop Effects vs JACK</span></a></li>
<li class="toclevel-3 tocsection-9"><a href="#%D0%9E%D0%B1%D1%89%D0%B8%D0%B9_%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80"><span class="tocnumber">1.2.5</span> <span class="toctext">Общий пример</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-10">
<a href="#%D0%A0%D0%B5%D0%B6%D0%B8%D0%BC_%D1%80%D0%B5%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%B3%D0%BE_%D0%B2%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%B8_%D1%8F%D0%B4%D1%80%D0%B0"><span class="tocnumber">2</span> <span class="toctext">Режим реального времени ядра</span></a>
<ul>
<li class="toclevel-2 tocsection-11"><a href="#AUR"><span class="tocnumber">2.1</span> <span class="toctext">AUR</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-12"><a href="#MIDI"><span class="tocnumber">3</span> <span class="toctext">MIDI</span></a></li>
<li class="toclevel-1 tocsection-13"><a href="#%D0%9F%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5_%D0%BE%D0%BA%D1%80%D1%83%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F"><span class="tocnumber">4</span> <span class="toctext">Переменные окружения</span></a></li>
<li class="toclevel-1 tocsection-14"><a href="#%D0%A1%D0%BE%D0%B2%D0%B5%D1%82%D1%8B_%D0%B8_%D1%85%D0%B8%D1%82%D1%80%D0%BE%D1%81%D1%82%D0%B8"><span class="tocnumber">5</span> <span class="toctext">Советы и хитрости</span></a></li>
<li class="toclevel-1 tocsection-15">
<a href="#%D0%90%D0%BF%D0%BF%D0%B0%D1%80%D0%B0%D1%82%D0%BD%D0%BE%D0%B5_%D0%BE%D0%B1%D0%B5%D1%81%D0%BF%D0%B5%D1%87%D0%B5%D0%BD%D0%B8%D0%B5"><span class="tocnumber">6</span> <span class="toctext">Аппаратное обеспечение</span></a>
<ul>
<li class="toclevel-2 tocsection-16"><a href="#M-Audio_Delta_1010"><span class="tocnumber">6.1</span> <span class="toctext">M-Audio Delta 1010</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#M-Audio_Fast_Track_Pro"><span class="tocnumber">6.2</span> <span class="toctext">M-Audio Fast Track Pro</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#PreSonus_Firepod"><span class="tocnumber">6.3</span> <span class="toctext">PreSonus Firepod</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#PreSonus_AudioBox_USB"><span class="tocnumber">6.4</span> <span class="toctext">PreSonus AudioBox USB</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#Tascam_US-122"><span class="tocnumber">6.5</span> <span class="toctext">Tascam US-122</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#RME_Babyface"><span class="tocnumber">6.6</span> <span class="toctext">RME Babyface</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-22">
<a href="#%D0%9D%D0%B5%D1%81%D0%B2%D0%BE%D0%B1%D0%BE%D0%B4%D0%BD%D1%8B%D0%B5_%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F"><span class="tocnumber">7</span> <span class="toctext">Несвободные приложения</span></a>
<ul>
<li class="toclevel-2 tocsection-23"><a href="#Steinberg'%D0%BE%D0%B2%D1%8B%D0%B5_SDK"><span class="tocnumber">7.1</span> <span class="toctext">Steinberg'овые SDK</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-24"><a href="#%D0%9F%D1%80%D0%BE%D0%B5%D0%BA%D1%82_Arch_Linux_Pro_Audio"><span class="tocnumber">8</span> <span class="toctext">Проект Arch Linux Pro Audio</span></a></li>
<li class="toclevel-1 tocsection-25"><a href="#Linux_%D0%B8_Arch_Linux_Pro_Audio_%D0%B2_%D0%BD%D0%BE%D0%B2%D0%BE%D1%81%D1%82%D1%8F%D1%85"><span class="tocnumber">9</span> <span class="toctext">Linux и Arch Linux Pro Audio в новостях</span></a></li>
<li class="toclevel-1 tocsection-26"><a href="#Mailing_list"><span class="tocnumber">10</span> <span class="toctext">Mailing list</span></a></li>
</ul>
</div>

<h2>
<span id=".D0.9D.D0.B0.D1.87.D0.B0.D0.BB.D0.BE_.D1.80.D0.B0.D0.B1.D0.BE.D1.82.D1.8B"></span><span class="mw-headline" id="Начало_работы">Начало работы</span>
</h2>
<p>Некоторые основные профессиональные аудио приложения уже доступны из официального репозитория или репозитория сообщества Arch Linux. Для всего остального вы можете либо добавить бинарный репозиторий (смотрите ниже) либо, если вы предпочитаете компиляцию, поискать приложение в AUR. Никто не останавливает вас от непосредственной сборки новых выпусков, но, с тем же успехом, вы могли бы пользоваться LFS.
</p>
<p>Начните с установки <a href="../en/JACK_Audio_Connection_Kit.html" class="mw-redirect" title="JACK">JACK</a>.
</p>
<p>Следующие пакеты являются хорошим базисом для построения полнофункциональной профессиональной аудио системы: 
</p>
<ul>
<li><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=qjackctl">qjackctl</a></span></li>
<li><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=patchage">patchage</a></span></li>
<li><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ardour">ardour</a></span></li>
<li><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=qtractor">qtractor</a></span></li>
<li><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=hydrogen">hydrogen</a></span></li>
<li><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=musescore">musescore</a></span></li>
<li><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=rosegarden">rosegarden</a></span></li>
<li><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=qsynth">qsynth</a></span></li>
<li><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=jsampler">jsampler</a></span></li>
<li><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lmms">lmms</a></span></li>
<li><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=calf">calf</a></span></li>
<li><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=dssi">dssi</a></span></li>
<li><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=guitarix">guitarix</a></span></li>
</ul>
<p>Другие пакеты, которые могут вам понадобиться, доступны через <a href="../ru/Arch_User_Repository.html" title="Arch User Repository (Русский)">AUR</a>:
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=qsampler">qsampler</a></span> (also see <a href="../en/LinuxSampler.html" title="LinuxSampler">LinuxSampler</a>)</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/mhwaveedit/">mhwaveedit</a></span><sup><small>AUR</small></sup>
</li>
<li><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=carla">carla</a></span></li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/rakarrack-git/">rakarrack-git</a></span><sup><small>AUR</small></sup>
</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/XCFA/">XCFA</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/ArchWiki:Requests.html#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">ссылка недействительна</a>: package not found]</sup>
</li>
<li><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=yoshimi">yoshimi</a></span></li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/wineasio/">wineasio</a></span><sup><small>AUR</small></sup>
</li>
<li><a rel="nofollow" class="external text" href="https://github.com/abique/vst-bridge">vst-bridge</a></li>
</ul>
<p>Смотрите также <a href="../en/List_of_applications.html#%D0%90%D1%83%D0%B4%D0%B8%D0%BE%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%8B" class="mw-redirect" title="List of applications (Русский)">List of applications (Русский)#Аудиосистемы</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">ссылка недействительна</a>: раздел не найден]</sup>, <a href="../en/List_of_applications.html#%D0%A0%D0%B5%D0%B4%D0%B0%D0%BA%D1%82%D0%BE%D1%80%D1%8B_%D0%B0%D1%83%D0%B4%D0%B8%D0%BE" class="mw-redirect" title="List of applications (Русский)">List of applications (Русский)#Редакторы аудио</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">ссылка недействительна</a>: раздел не найден]</sup>, и <a rel="nofollow" class="external text" href="https://github.com/nodiscc/awesome-linuxaudio">awesome-linuxaudio</a>.
</p>
<h3>
<span id=".D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D1.8B"></span><span class="mw-headline" id="Настройка_системы">Настройка системы</span>
</h3>
<p>Могут оказаться полезными следующие часто используемые настройки системы:
</p>
<ul>
<li>Добавление себя в <a href="../ru/Users_and_groups.html#%D0%93%D1%80%D1%83%D0%BF%D0%BF%D1%8B" title="Users and groups (Русский)">группу</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">ссылка недействительна</a>: раздел не найден]</sup> <i>audio</i>.</li>
<li>Добавление <a href="../en/Kernel_parameters.html" class="mw-redirect" title="Kernel parameters (Русский)">параметра ядра</a> <code>threadirqs</code>.</li>
<li>Установка ядра <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/linux-rt/">linux-rt</a></span><sup><small>AUR</small></sup>.</li>
<li>Настройка регулятора <a href="../en/CPU_frequency_scaling.html" class="mw-redirect" title="CPU frequency scaling (Русский)">cpufreq</a> на <i>performance</i> (производительность).</li>
<li>Добавление параметра <i>noatime</i> в <a href="../ru/Fstab.html" title="Fstab (Русский)">fstab</a> (смотрите <a href="../en/Improving_performance.html#Mount_options" title="Improving performance">Improving performance#Mount options</a>).</li>
</ul>
<p>Настройка в реальном времени в основном автоматизирована. Нет больше необходимости вносить правки в файлы вроде <code>/etc/security/limits.conf</code> для получения доступа реального времени. Тем не менее, если вам необходимо изменить настройки, смотрите <code>/etc/security/limits.d/99-audio.conf</code> и <code>/usr/lib/udev/rules.d/40-hpet-permissions.rules</code> (эти файлы поставляются с пакетами <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=jack">jack</a></span> или <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=jack2">jack2</a></span>). Дополнительно, вы можете захотеть увеличить максимально запрашиваемую частоту прерывания RTC (по умолчанию 64 Hz), запустив <a href="../en/Systemd/FAQ.html#How_can_I_make_a_script_start_during_the_boot_process?" class="mw-redirect" title="Systemd FAQ">следующее при загрузке системы</a>:
</p>
<pre>echo 2048 &gt; /sys/class/rtc/rtc0/max_user_freq
echo 2048 &gt; /proc/sys/dev/hpet/max-user-freq
</pre>
<p>По умолчанию, частота обращения к swap определяется параметром "swappiness" и имеет значение 60. При уменьшении этого числа до 10, система будет ждать гораздо дольше перед тем, как попытается начать запись на диск.
Далее, параметр <i>inotify</i> следит за изменениями, вносимыми в файлы, и сообщает о них приложениям при соответствующих запросах. Когда ведётся работа с большим объёмом аудио данных, требуется множество контролёров, поэтому необходимо увеличить их число.
Две этих настройки можно произвести в файле <code>/etc/sysctl.d/99-sysctl.conf</code>.
</p>
<pre>vm.swappiness = 10
fs.inotify.max_user_watches = 524288
</pre>
<p>Вы также можете захотеть увеличить таймер задержки PCI для звуковой карты формата PCI и повысить значение таймера задержки всех остальных PCI устройств (по умолчанию 64).
</p>
<pre>$ setpci -v -d *:* latency_timer=<b>b0</b>
$ setpci -v -s <i>$SOUND_CARD_PCI_ID</i> latency_timer=<b>ff</b> # eg. SOUND_CARD_PCI_ID=03:00.0 (see below)
</pre>
<p>Значение SOUND_CARD_PCI_ID может быть получено таким образом:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ lspci ¦ grep -i audio</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"><b>03:00.0</b> Multimedia audio controller: Creative Labs SB Audigy (rev 03)
<b>03:01.0</b> Multimedia audio controller: VIA Technologies Inc. VT1720/24 [Envy24PT/HT] PCI Multi-Channel Audio Controller (rev 01)</pre>
<h4>
<span id=".D0.9A.D0.BE.D0.BD.D1.82.D1.80.D0.BE.D0.BB.D1.8C.D0.BD.D1.8B.D0.B9_.D0.BF.D0.B5.D1.80.D0.B5.D1.87.D0.B5.D0.BD.D1.8C"></span><span class="mw-headline" id="Контрольный_перечень">Контрольный перечень</span>
</h4>
<p>Представленные ниже пункты по большей части приведены для того, чтобы вы могли удостовериться, что у вас работающая мультимедиа система:
</p>
<ul><li>Тщательно ли я настроил звук? Смотрите <a href="../ru/Advanced_Linux_Sound_Architecture.html" title="Advanced Linux Sound Architecture (Русский)">ALSA</a> или <a href="../en/Open_Sound_System.html" class="mw-redirect" title="OSS">OSS</a>.</li></ul>
<pre>$ speaker-test
</pre>
<ul><li>Включен ли я в группу audio? Смотрите <a href="../ru/Advanced_Linux_Sound_Architecture.html" title="Advanced Linux Sound Architecture (Русский)">ALSA</a> или <a href="../en/Open_Sound_System.html" class="mw-redirect" title="OSS">OSS</a>.</li></ul>
<pre>$ groups | grep audio
</pre>
<ul><li>Захвачено ли устройство с помощью PulseAudio, OSS или чего-то иного?</li></ul>
<pre>$ lsof +c 0 /dev/snd/pcm* /dev/dsp*
</pre>
<p>-ИЛИ-
</p>
<pre>$ fuser -fv /dev/snd/pcm* /dev/dsp*  
</pre>
<ul><li>Работают ли PAM-security (подключаемые модули аутентификации) и режим реального времени?</li></ul>
<p>Смотрите: <a href="../en/Realtime_process_management.html#PAM-enabled_login" class="mw-redirect" title="Realtime for Users">Realtime for Users#PAM-enabled login</a> (Обратите особое внимание, особенно если вы не запускали KDM, GDM или Slim.)
</p>
<ul><li>Перезагрузился ли я после всех проделанных изменений?</li></ul>
<h3><span class="mw-headline" id="JACK">JACK</span></h3>
<p>Главная задача здесь заключена в поиске лучшего соотношения размера буффера (buffer size) и частот (periods), которое может обеспечить ваше программное обеспечение. Разумнее всего начинать со значения <b>Frames/Period = 256</b>. Попробуйте использовать <b>Periods/Buffer = 3</b> для встроенных и USB устройств. Наиболее распространённые значения: 256/3, 256/2, 128/3.
</p>
<p>Кроме того, частота семплирования должна совпадать с частотой семплирования аппаратного обеспечения. Для проверки возможности поддержки вашим устройством частоты семплирования и битрейта:
</p>
<pre>$ cat /proc/asound/card0/codec#0
</pre>
<p>Измените <i>card0</i> и <i>codec#0</i> на ваши значения. Следует обратить внимание на <b>rates</b> или <i>VRA</i> в <b>Extended ID</b>. Современные устройства чаще всего обладают частотой семплирования <b>48000 Hz</b>. Чуть менее распространены значения 44100 Hz и 96000 Hz.
</p>
<p>Почти всегда при записи или сведении с использованием внешних устройств требуется работа в режиме реального времени (<b>realtime</b>). Также, вам, возможно, захочется установить максимальный приоритет (как минимум в 10 раз меньше чем ограничения системы, определённые в файле <code>/etc/security/limits.d/99-audio.conf</code>; наивысший для самого устройства).
</p>
<p>Запустите jack с опциями, которые вы получили ранее:
</p>
<pre>$ /usr/bin/jackd -R -P89 -dalsa -dhw:0 -r48000 -p256 -n3
</pre>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=qjackctl">qjackctl</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=cadence">cadence</a></span> и <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=patchage">patchage</a></span> могут быть использованы как графическая оболочка для контроля за статусом JACK и упрощением его настройки. 
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Как только вы закончите конфигурацию JACK, проверьте ваши настройки, запустив различные аудио приложения. Я потратил целый день, разбираясь с проблемой работы JACK xrun с LMMS, что в конце концов оказалось проблемой с последним.</div>
<p><i>Дополнительная информация: <a rel="nofollow" class="external text" href="http://www.linux-magazine.com/content/download/63041/486886/version/1/file/JACK_Audio_Server.pdf">Linux Magazine article</a></i>
</p>
<h4><span class="mw-headline" id="FireWire">FireWire</span></h4>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Дополнительные действия не требуются, так как большинство вещей было автоматизировано, особенно с введением <a rel="nofollow" class="external text" href="https://ieee1394.wiki.kernel.org/articles/j/u/j/Juju_Migration_e8a6.html">нового стека FireWire</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">устаревшая ссылка</a> 2020-08-04]</sup>, отказом от HAL и большей концентрации на <a href="../en/Udev.html" title="Udev">udev</a>. Вам не требуется редактировать права устройств, но если вы столкнулись с проблемами и подозреваете, что причина кроется в этом, ознакомьтесь с <code>/lib/udev/rules.d/60-ffado.rules</code> и, если необходимо, создайте и разместите свои правки в <code>/etc/udev/rules.d/60-ffado.rules</code>.</div>
<p>JACK(2) построен против FFADO, вам только нужно установить его с пакетом <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libffado">libffado</a></span>.
</p>
<p>Для проверки возможности запустить FireWire  вам следует:
</p>
<ul><li>Убедиться, что загружены необходимые модули ядра:</li></ul>
<pre># modprobe firewire-core firewire-ohci
</pre>
<ul><li>Сможет ли ваш чипсет инициировать устройство?</li></ul>
<p><a rel="nofollow" class="external free" href="http://www.ffado.org/?q=node/622">http://www.ffado.org/?q=node/622</a>
</p>
<ul><li>Сможет ли ваш чипсет позволить устройству работать на полную мощность?</li></ul>
<p>Мы не можем сказать это наверняка, особенно для устройств, построенных на базе Ricoh (проблема кроссплатформенности). В большинстве случаев устройство работает хорошо, но иногда можно столкнуться с забавными причудами. Если это случилось с вами, то вам можно только посочувствовать.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Как указано Takashi Sakamoto <a rel="nofollow" class="external text" href="http://mailman.alsa-project.org/pipermail/alsa-devel/2014-September/081731.html">в списке рассылки alsa-devel</a>, если вы используете бэкенд FireWire с jackd, модуль DICE будет несовместим. Если вы увидели строку как эта:
<pre>Warning (dice_eap.cpp)[1811] read: No routes found. Base 0x7, offset 0x4000
</pre>
вам необходимо отключить модуль "snd_dice".</div>
<h4><span class="mw-headline" id="Jack_Flash">Jack Flash</span></h4>
<p>Если после настройки jack вы обнаружили, что Flash больше не воспроизводит звук.
</p>
<p>Чтобы дать возможность flash работать с jack, вам нужно <a href="../ru/Pacman.html#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2" class="mw-redirect" title="Установить">установить</a> пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/libflashsupport-jack/">libflashsupport-jack</a></span><sup><small>AUR</small></sup>.
</p>
<p>Вы также можете использовать более гибкий способ для настройки возможности программам Alsa (включая Flash) проигрывать звук при запущенном jack:
</p>
<p>Во-первых, вы должны установить плагин jack для Alsa, <a href="../ru/Pacman.html#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2" class="mw-redirect" title="Установить">установив</a> пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=alsa-plugins">alsa-plugins</a></span>. Активируйте его отредактировав (или создав) <code>/etc/asound.conf</code> (настройка для всей системы), чтобы в нём были следующие строки:
</p>
<pre># convert alsa API over jack API
# use it with
# % aplay foo.wav

# use this as default
pcm.!default {
    type plug
    slave { pcm "jack" }
}

ctl.mixer0 {
    type hw
    card 1
}

# pcm type jack
pcm.jack {
    type jack
    playback_ports {
        0 system:playback_1
        1 system:playback_2
    }
    capture_ports {
        0 system:capture_1
        1 system:capture_2
    }
}
</pre>
<p>Перезагрузка или иные действия не требуются. Просто отредактируйте конфигурационные файлы alsa, запустите jack.
</p>
<h4><span class="mw-headline" id="Quickscan_JACK_script">Quickscan JACK script</span></h4>
<p>Вероятно, большинство людей захотят работать с JACK в режиме реального времени; однако, для этого требуется крутить слишком много ручек и настроек. 
</p>
<p>Отличный способ проверить системную конфигурацию после настройки JACK'а — это запустить скрипт Quickscan.
</p>
<p><a rel="nofollow" class="external free" href="https://github.com/raboof/realtimeconfigquickscan/blob/master/realTimeConfigQuickScan.pl">https://github.com/raboof/realtimeconfigquickscan/blob/master/realTimeConfigQuickScan.pl</a>
</p>
<p>Вывод данного скрипта покажет вам узкие места(бутылочное горло) в системе и/или железе, и укажет места, где можно найти более подробную информацию по этому поводу.
</p>
<h4><span class="mw-headline" id="Desktop_Effects_vs_JACK">Desktop Effects vs JACK</span></h4>
<p>In addition to the factors listed under the System Configuration section above as well as the settings checked by realTimeConfigQuickScan.pl, it is also worth noting that desktop environments can cause xruns and hence JACK audio glitches, especially memory/process intensive ones and those desktops that utilize composited desktop effects. It is recommended you disable desktop effects when using JACK. You are likely to get the least xruns and best performance by running a lightweight desktop or just a window manager instead.
</p>
<h4>
<span id=".D0.9E.D0.B1.D1.89.D0.B8.D0.B9_.D0.BF.D1.80.D0.B8.D0.BC.D0.B5.D1.80"></span><span class="mw-headline" id="Общий_пример">Общий пример</span>
</h4>
<p>Общий пример настройки доступен по ссылке <a href="../en/JACK_Audio_Connection_Kit.html#A_shell-based_example_setup" title="JACK Audio Connection Kit">JACK Audio Connection Kit#A shell-based example setup</a>.
</p>
<h2>
<span id=".D0.A0.D0.B5.D0.B6.D0.B8.D0.BC_.D1.80.D0.B5.D0.B0.D0.BB.D1.8C.D0.BD.D0.BE.D0.B3.D0.BE_.D0.B2.D1.80.D0.B5.D0.BC.D0.B5.D0.BD.D0.B8_.D1.8F.D0.B4.D1.80.D0.B0"></span><span class="mw-headline" id="Режим_реального_времени_ядра">Режим реального времени ядра</span>
</h2>
<p>С недавнего времени основное ядро Linux предоставляет хорошие возможности для использования его в режиме реального времени. Основное ядро (с параметром <code>CONFIG_PREEMPT=y</code>, используемое в Арч по умолчанию) в худшем случае может работать с задержкой <a rel="nofollow" class="external text" href="https://rt.wiki.kernel.org/index.php/Frequently_Asked_Questions#What_are_real-time_capabilities_of_the_stock_2.6_linux_kernel.3F">до 10мс</a> (время между моментом аппаратного прерывания и моментом, соответствующим получению прерывания выполняющимся потоком), хотя, конечно же, некоторые драйверы устройств могут внести задержки намного бо́льшие, чем системные. В зависимости от вашего аппаратного обеспечения и драйверов (и требований), вы, возможно, захотите ядро с возможностями жёсткого режима реального времени.
</p>
<p>Патч <a rel="nofollow" class="external text" href="https://rt.wiki.kernel.org/index.php/RT_PREEMPT_HOWTO">RT_PREEPMT</a> от Инго Молнара (Ingo Molnar) и Томаса Глейкснера (Thomas Gleixner) является интересным вариантом для жёстких задержек и приложений режима реального времени, достигаемых в профессиональном аудио промышленного масштаба. 
Большинство аудио специфичных дистрибутивов Linux поставляются с применением данного патча. Режим вытесняющей многозадачности реального времени ядра также позволяет настроить приоритеты прерываний (IRQ) обработки потоков и помогает обеспечить плавный звук почти независимо от нагрузки.
</p>
<p>Если вы собираетесь компилировать собственное ядро, помните, что удаление модулей/опций не следует приравнивать к «лёгкости и простоте» ядра. Образ ядра, конечно же, уменьшится, но в современных системах это не такая проблема, какая она была в 1995-м. 
</p>
<p>В любом случае, вы должны обеспечить следующие параметры:
</p>
<ul>
<li>
<b>Timer Frequency</b> установить в значение <b>1000Hz</b> (CONFIG_HZ_1000=y; если вы не задаёте <i>MIDI</i>, вы можете это игнорировать)</li>
<li>
<b>APM</b> в значение <b>DISABLED</b> (CONFIG_APM=n; Могут быть трудности с некоторым оборудованием - по умолчанию в x86_64)</li>
</ul>
<p>Если вы хотите действительно лёгкую систему, мы предлагаем вам пойти своим путём и развернуть систему один раз с статической аппаратной поддержкой. Однако, вам понадобится выбрать архитектуру процессора. Выбор «Core 2 Duo» с подбором соответствующего аппаратного обеспечения может послужить хорошим подспорьем для оптимизации; но тем меньше будет выигрыш, чем ниже архитектура.
</p>
<p>Основные проблемы с режимом реального времени ядра:
</p>
<ul><li>Гиперпоточность (hyperthreading) (если имеются подозрения, отключите в BIOS)</li></ul>
<p>Также имеются готовые скомпилированные с патчами ядра, доступные в ABS и AUR.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Прежде чем вы решите использовать патченное ядро, загляните по ссылке: <a rel="nofollow" class="external text" href="http://jackaudio.org/faq/realtime_vs_realtime_kernel.html">http://jackaudio.org/faq/realtime_vs_realtime_kernel.html (англ.)</a>.</div>
<h3><span class="mw-headline" id="AUR">AUR</span></h3>
<p>Из репозитория <a href="../en/Arch_User_Repository.html" class="mw-redirect" title="AUR">AUR</a> вам доступны следующие варианты:
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/linux-rt/">linux-rt</a></span><sup><small>AUR</small></sup>
</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/linux-rt-lts/">linux-rt-lts</a></span><sup><small>AUR</small></sup> (долгосрочная поддержка, стабильный выпуск)</li>
</ul>
<p>Два первых - это стандартные ядра с патчем CONFIG_PREEMPT_RT, в то время как -ice включают некоторые патчи, которые работают не на всех конфигурациях.
</p>
<dl><dd><i>Смотрите: <a rel="nofollow" class="external text" href="https://rt.wiki.kernel.org/">Real-Time Linux Wiki</a></i></dd></dl>
<h2><span class="mw-headline" id="MIDI">MIDI</span></h2>
<p>Для уменьшения дрожания MIDI при использовании внешнего MIDI оснащения jack2, должна быть использована опция Xalsarawmidi. При этом вам также потребуется использовать a2jmidid.
</p>
<p>Вы можете проверить насколько сильно дрожание с помощью <a rel="nofollow" class="external text" href="https://github.com/koppi/alsa-midi-latency-test">alsa-midi-latency-test</a>. PCI и PCIe карты зачастую показывают лучшие результаты по сравнению с устройствами USB MIDI.
</p>
<p>При работе с MIDI настоятельно рекомендуется установить a2j (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=a2jmidid">a2jmidid</a></span>) - связующее звено между alsa midi и jack midi. Это позволит вам соединить приложения, которые связаны только с alsa midi, с приложениями, которые связаны только с jack midi. Laditray также может запускать/останавливать a2j.
</p>
<dl><dd><i>Смотрите: <a href="../en/JACK_Audio_Connection_Kit.html#MIDI" class="mw-redirect" title="JACK">JACK#MIDI</a></i></dd></dl>
<h2>
<span id=".D0.9F.D0.B5.D1.80.D0.B5.D0.BC.D0.B5.D0.BD.D0.BD.D1.8B.D0.B5_.D0.BE.D0.BA.D1.80.D1.83.D0.B6.D0.B5.D0.BD.D0.B8.D1.8F"></span><span class="mw-headline" id="Переменные_окружения">Переменные окружения</span>
</h2>
<p>Если вы что-то устанавливаете в нестандартный каталог, зачастую необходимо настроить переменные путей окружения, чтобы приложения знали где искать (для плагинов и других библиотек). Обычно это относится к VST, так как пользователи могут иметь Wine или внешние пути Windows.
</p>
<p>Как правило, плагины Linux (LADSPA, LV2, DSSI, LXVST) располагаются по стандартным путям, поэтому не требуется их экспортировать. Но если это не так, убедитесь, что добавили эти стандартные пути, так как Arch ничего не будет делать для <i>dssi</i> или <i>ladspa</i>, и приложений вроде <i>dssi-vst</i>, и не будет смотреть где-то ещё, если найдет предустановленные пути.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.bashrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">...
export VST_PATH=/usr/lib/vst:/usr/local/lib/vst:~/.vst:/someother/custom/dir
export LXVST_PATH=/usr/lib/lxvst:/usr/local/lib/lxvst:~/.lxvst:/someother/custom/dir
export LADSPA_PATH=/usr/lib/ladspa:/usr/local/lib/ladspa:~/.ladspa:/someother/custom/dir
export LV2_PATH=/usr/lib/lv2:/usr/local/lib/lv2:~/.lv2:/someother/custom/dir
export DSSI_PATH=/usr/lib/dssi:/usr/local/lib/dssi:~/.dssi:/someother/custom/dir</pre>
<h2>
<span id=".D0.A1.D0.BE.D0.B2.D0.B5.D1.82.D1.8B_.D0.B8_.D1.85.D0.B8.D1.82.D1.80.D0.BE.D1.81.D1.82.D0.B8"></span><span class="mw-headline" id="Советы_и_хитрости">Советы и хитрости</span>
</h2>
<ul><li>Отключите WiFi и закройте все приложения, нетребующиеся для записи, такие как браузер. Многие отмечали, что отключение WiFi сказывается на производительности JACK.</li></ul>
<ul><li>Известно, что некоторое USB аудио аппаратное обеспечение не работает с портами USB 3, попробуйте вместо этого использовать порты USB 2/1.</li></ul>
<ul><li>Могут случаться ошибки IRQ, что создаёт проблемы. Пример, видео аппаратное обеспечение, резервирующее шину, приводящее к ненужным прерываниям в системном пути ввода-вывода. Смотрите обсуждение в <a rel="nofollow" class="external text" href="http://subversion.ffado.org/wiki/IrqPriorities">FFADO IRQ Priorities How-To</a>. Если вы используете ядро реального времени или свежее ядро, вы можете использовать <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=rtirq">rtirq</a></span> для настройки приоритетов обработки потоков IRQ.</li></ul>
<ul><li>Не используйте службу <b>irqbalance</b>, или будьте с ней очень осторожны <a rel="nofollow" class="external autonumber" href="http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_MRG/1.3/html/Realtime_Tuning_Guide/sect-Realtime_Tuning_Guide-General_System_Tuning-Interrupt_and_Process_Binding.html">[1]</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">устаревшая ссылка</a> 2020-08-04]</sup>.</li></ul>
<ul><li>Если вам необходимо использовать несколько аудио устройств с JACK2, можно воспользоваться вспомогательными программами <b>alsa_in</b> и <b>alsa_out</b> для скрытия лишних устройств и показывать их как вывод в JACK patchbay.</li></ul>
<ul><li>Некоторые службы/процессы могут неожиданно вызывать <b>xruns</b>. Если вам это не нужно, отключите их. Без вопросов.</li></ul>
<pre>$ ls /var/run/daemons
$ top # or htop, ps aux, whatever you are comfortable with
$ killall -9 $processname
# systemctl stop $daemonname
</pre>
<ul><li>Если <i>xruns</i> было запущено много раз, особенно с <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nvidia">nvidia</a></span>, отключите дросселирование GPU. Сделать это можно с помощью апплета управления картой и для nvidia это "prefer maximum performance" (спасибо за письмо в LAU от Frank Kober).</li></ul>
<ul><li>Если вы хотите узнать больше о ALSA: <a rel="nofollow" class="external free" href="http://www.volkerschatz.com/noise/alsa.html">http://www.volkerschatz.com/noise/alsa.html</a>
</li></ul>
<h2>
<span id=".D0.90.D0.BF.D0.BF.D0.B0.D1.80.D0.B0.D1.82.D0.BD.D0.BE.D0.B5_.D0.BE.D0.B1.D0.B5.D1.81.D0.BF.D0.B5.D1.87.D0.B5.D0.BD.D0.B8.D0.B5"></span><span class="mw-headline" id="Аппаратное_обеспечение">Аппаратное обеспечение</span>
</h2>
<p>Подавляющее большинство звуковых карт и аудио устройств не потребуют дополнительных настроек или пакетов для работы. Просто укажите используемое гнездо звуковой карты и перезагрузите систему.
</p>
<p>Но это справедливо не для всех устройств, в частности для тех что перечислены ниже.
</p>
<h3><span class="mw-headline" id="M-Audio_Delta_1010">M-Audio Delta 1010</span></h3>
<p>Серия звуковых карт M-Audio Delta основана на аудио чипсете VIA Ice1712.
Карты, основанные на этом чипе, требуют установки пакета alsa-tools, так
как в нём содержится приложение <a href="../en/Envy24control.html" title="Envy24control">envy24control</a>. <a href="../en/Envy24control.html" title="Envy24control">Envy24control</a> - это
микшер/контроллер аппаратного уровня. Вы <i>можете</i> использовать alsa-mixer,
но, поверьте, вы сохраните кучу нервов, если не будете пробовать этого. Обратите
внимание, в этом разделе отсутствует информация о настройке или использовании MIDI.
</p>
<p>Запустите приложение-микшер:
</p>
<pre>$ envy24control
</pre>
<p>Это приложение может показаться очень запутанным; смотрите <a href="../en/Envy24control.html" title="Envy24control">envy24control</a> для
объяснения по работе с ним. Тем не менее, ниже приведёна очень простая работающая
конфигурация для мультитрекинга с Ardour.
</p>
<ol>
<li>На вкладках "Monitor Inputs" и "Monitor PCMs" установите значение 20 для всех контролируемых входов и PCM's.</li>
<li>На вкладке "Patchbay / Router" для всех значений выберите выход PCM.</li>
<li>На вкладке "Hardware Settings" убедитесь, что настройки Master Clock совпадают с настройками Qjackctl. Если это не так, то ваш xruns не контролируется!</li>
</ol>
<h3><span class="mw-headline" id="M-Audio_Fast_Track_Pro">M-Audio Fast Track Pro</span></h3>
<p>The M-Audio Fast Track Pro - это аудио интерфейс USB 4x4, работающий с характеристиками 24 бит/96 кГц. Из-за ограничений USB 1, это устройство требует дополнительной настройки для получения доступа ко всем его функциям. Устройство может работать в одном из двух режимов:
</p>
<ul>
<li>Конфигурация 1, или "Режим совместимости классов" ("Class compliant mode") - с усечённой функциональностью, только 16 бит, 48 кГц, аналоговый вход (2 канала) и цифровой/аналоговый выход (4 канала).</li>
<li>Конфигурация 2 - с доступом ко всем функциям интерфейса.</li>
</ul>
<p>В настоящий момент, с обычным ядром оно запускается в конфигурации 2, но если вы хотите дополнительно проверить, так ли это, вы можете обратиться к логам ядра в поисках записей вида:
</p>
<pre>usb-audio: Fast Track Pro switching to config #2
usb-audio: Fast Track Pro config OK
</pre>
<p>С интерфейсом потребуется проделать несколько дополнительных операций для переключения режима. Это производится с помощью опции <code>device_setup</code> в процессе загрузке модуля. Рекомендуемый способ настройки интерфейса осуществляется с использованием файла в <code>modprobe.d</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/ftp.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">options snd_usb_audio vid=0x763 pid=0x2012 device_setup=XXX index=YYY enable=1
</pre>
<p>где <code>vid</code> и <code>pid</code> - идентификаторы поставщика и продукта для M-Audio Fast Track Pro, <code>index</code> - это требуемый номер устройства и <code>device_setup</code> - требуемая настройка устройства. Возможные значения для <code>device_setup</code>:
</p>
<table class="wikitable">
<caption>device modes
</caption>
<tbody>
<tr>
<th>device_setup value</th>
<th>bit depth</th>
<th>frequency</th>
<th>analog output</th>
<th>digital output</th>
<th>analog input</th>
<th>digital input</th>
<th>IO mode
</th>
</tr>
<tr>
<td>0x0</td>
<td>16 bit</td>
<td>48kHz</td>
<td>+</td>
<td>+</td>
<td>+</td>
<td>+</td>
<td>4x4
</td>
</tr>
<tr>
<td>0x9</td>
<td>24 bit</td>
<td>48kHz</td>
<td>+</td>
<td>+</td>
<td>+</td>
<td>-</td>
<td>2x4
</td>
</tr>
<tr>
<td>0x13</td>
<td>24 bit</td>
<td>48kHz</td>
<td>+</td>
<td>+</td>
<td>-</td>
<td>+</td>
<td>2x4
</td>
</tr>
<tr>
<td>0x5</td>
<td>24 bit</td>
<td>96kHz</td>
<td>*</td>
<td>*</td>
<td>*</td>
<td>*</td>
<td>2x0 or 0x2
</td>
</tr>
</tbody>
</table>
<p><br>
Режим 24 бита/96 кГц является особенным: он предоставляет все входы/выходы, но вы можете открыть только 4 интерфейса одновременно. Если вы, например, откроете выходной интерфейс и следом попытаетесь открыть второй такой же или входной интерфейс, то увидите запись об ошибке в логах ядра:
</p>
<pre>cannot submit datapipe for urb 0, error -28: not enough bandwidth
</pre>
<p>что является нормальным, потому что это устройство USB 1 и не может обеспечить достаточную пропускную способность такого качества для более чем одного (2-канального) источника/получателя одновременно.
</p>
<p>В зависимости от значения <code>index</code> будет установлено два устройства: <code>hwYYY:0</code> и <code>hwYYY:1</code>, которые будут содержать доступные входы и выходы. Первое устройство, скорее всего, будет содержать в себе аналоговый выход и цифровой вход, в то время как второй — аналоговый вход и цифровой  выход. Чтобы узнать, где и как устройства соединены, — если они настроены правильно, — вы можете проверить <code>/proc/asound/cardYYY/stream{0,1} </code>. Ниже приведён список наиболее важных конечных точек (endpoints), которые помогут правильно определить соединения карты (легко перепутать аналоговые и цифровые входные или выходные соединения, прежде чем привыкаешь к устройству):
</p>
<pre>EP 3 (аналоговый выход (analogue output) = разъём TRS задней панели зеркально отображается на выходах RCA 1 и 2 задней панели)
EP 4 (цифровой выход (digital output) = выход S/PDIF задней панели зеркально отображается на выходах RCA 3 и 4 задней панели)
EP 5 (аналоговый вход (analogue input) = балансный разъём TRS или XLR микрофона, небалансная линия TS на передней панели)
EP 6 (цифровой вход (digital input) = вход S/PDIF задней панели)
</pre>
<p>This .asoundrc file enables 24-bit IO on the fast-track pro (and I'm sure it could be modified to work with other 3-byte usb devices) within the context of jack's 32-bit interface while routing default alsa traffic to jack outputs on the audio interface. Alsa will be in S24_3BE mode but jack can plug S32_LE data in and out of the interface and other alsa programs will be able to plug almost anything into jack.
</p>
<pre>### ~/.asoundrc
### default alsa config file, for a fast-track pro configured in 24-bit mode as so:
### options snd_usb_audio device_setup=0x9
### invoke jack with: (if you use -r48000, change the rate in the plugs as well)
### $jackd -dalsa -P"hw:Pro" -C"hw:Pro,1" -r44100

## setup input and output plugs so jack can write S24_3BE data to the audio interface

pcm.maud0 {
	type hw
	card Pro
	 }

#jack_out plug makes sure that S32_LE data can be written to hw:Pro
pcm.jack_out{
	type plug
	format S32_LE
	channels 2
	rate 44100
	slave pcm.maud0
}

pcm.maud1 {
	type hw
	card Pro
	device 1
}
## jack_in plug makes sure that hw:Pro,1 can read S32_LE data
pcm.jack_in {
	type plug
	format S32_LE
	channels 2
	rate 44100
	slave pcm.maud1
}
#####
# route default alsa traffic through jack system io

pcm.jack {
    type jack
    playback_ports {
        0 system:playback_1
        1 system:playback_2
    }
    capture_ports {
        0 system:capture_1
        1 system:capture_2
    }
} 
pcm.amix {
	type asym
	playback.pcm "jack"
	capture.pcm "jack"
	}
pcm.!default {
	type plug
	slave.pcm amix
}
</pre>
<h3><span class="mw-headline" id="PreSonus_Firepod">PreSonus Firepod</span></h3>
<ol>
<li>Запуск: либо из командной строки, либо Qjackctl; драйвер называется firewire.</li>
<li>Характеристики: карта содержит 8/8 XLR предусилителей плюс стереопара, итого получается 10 каналов.</li>
<li>Сопряжение: карты могут соединяться вместе без каких-либо проблем.</li>
<li>Настройка оборудования: ничего особенного; меняйте настройки в Qjackctl по своему усмотрению.</li>
</ol>
<p>Уровни громкости аппаратные, а маршрутизация может быть выполнена в Qjackctl, даже если между собой сопряжено множество карт, — это не проблема. Ffadomixer пока ещё не работает с данной картой; надеемся, в будущем мы сможем контролировать больше аспектов карты через программный интерфейс как этот.
</p>
<h3><span class="mw-headline" id="PreSonus_AudioBox_USB">PreSonus AudioBox USB</span></h3>
<ol>
<li>Startup: ALSA именует устройство как "USB".</li>
<li>Specs: Два моно входа TRS+XLR, два моно выхода TRS, MIDI вход и выход, плюс отдельный стерео канал для наушников. Присутствуют регуляторы для управления обоими входами, основным выходом, и для наушников, всего четыре.</li>
<li>Hardware: Работает очень хорошо, и аудио и MIDI. Не управляется программным микшером.</li>
</ol>
<h3><span class="mw-headline" id="Tascam_US-122">Tascam US-122</span></h3>
<p><i><b>Данные настройки неприменимы для US-122L</b></i>
</p>
<ol>
<li>Требуемые пакеты: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=alsa-tools">alsa-tools</a></span> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=alsa-firmware">alsa-firmware</a></span> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/fxload/">fxload</a></span><sup><small>AUR</small></sup>
</li>
<li>Правила udev: создайте следующий файл правил, затем перезагрузите правила udev, <a href="../ru/Udev.html#%D0%97%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B0_%D0%BD%D0%BE%D0%B2%D1%8B%D1%85_%D0%BF%D1%80%D0%B0%D0%B2%D0%B8%D0%BB" title="Udev (Русский)">Udev (Русский)#Загрузка новых правил</a>
</li>
</ol>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/udev/rules.d/51-tascam-us-122.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">SUBSYSTEMS=="usb", ACTION=="add", ATTRS{idProduct}=="8006", ATTRS{idVendor}=="1604", RUN+="/bin/sh -c '/sbin/fxload -D %N -s /usr/share/alsa/firmware/usx2yloader/tascam_loader.ihx -I /usr/share/alsa/firmware/usx2yloader/us122fw.ihx'"
SUBSYSTEMS=="usb", ACTION=="add", ATTRS{idProduct}=="8007", ATTRS{idVendor}=="1604", RUN+="/bin/sh -c '/usr/bin/usx2yloader'"
</pre>
<p>Подключите устройство.
После этого устройство должно начать работать. Программного управления микшером нет.
</p>
<h3><span class="mw-headline" id="RME_Babyface">RME Babyface</span></h3>
<p>Хорошо работает при малых задержках (~5мс) с <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=alsa-utils">alsa-utils</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=jack2">jack2</a></span> и <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/linux-rt/">linux-rt</a></span><sup><small>AUR</small></sup>. Запуск ALSA только со стандартным ядром может привести к появлению треска при меньших задержках.
</p>
<p>Для распознавания устройства и его работы, версия прошивки должна быть &gt;= 200, который обладает режимом класса совместимости (Class Compliant Mode). Для перехода в режим совместимости классов (Class Compliant Mode) зажмите кнопки "Select" и "Recall" при подсоединении Babyface к компьютеру через USB. После этого оно должно быть распознано.
</p>
<p>Для проверки распознавания устройства смотрите:
</p>
<pre>grep -i baby /proc/asound/cards
</pre>
<p>Для получения большей информации о режиме совместимости классов (Class Compliant Mode), посетите сайт RME. На нём имеется PDF, который рассказывает обо всех функциях.
</p>
<p>Для Babyface не требуется особых настроек Jack. Но если вы захотите воспользоваться встроенным входом/выходом MIDI, вам нужно установить "MIDI Driver" в положение "seq" и, при необходимости, отключить "Enable Alsa Sequencer Support" для использования его в комбинации с другими устройствами MIDI (например, USB Midi клавиатура).
</p>
<h2>
<span id=".D0.9D.D0.B5.D1.81.D0.B2.D0.BE.D0.B1.D0.BE.D0.B4.D0.BD.D1.8B.D0.B5_.D0.BF.D1.80.D0.B8.D0.BB.D0.BE.D0.B6.D0.B5.D0.BD.D0.B8.D1.8F"></span><span class="mw-headline" id="Несвободные_приложения">Несвободные приложения</span>
</h2>
<h3>
<span id="Steinberg.27.D0.BE.D0.B2.D1.8B.D0.B5_SDK"></span><span class="mw-headline" id="Steinberg'овые_SDK">Steinberg'овые SDK</span>
</h3>
<p>Естественно, мы не можем распространять заголовки ни VST, ни ASIO в форме бинарных пакетов. Тем не менее, всякий раз, когда вы собираете программу, которая будет работать с плагинами VST в виде Windows-библиотек <i>.dll</i>, проверьте следующие пакеты (которые не требуют использования какого-либо SDK):
</p>
<ul>
<li>dssi-vst</li>
<li>fst</li>
<li>vestige</li>
</ul>
<p>С учётом вышесказанного, если вы собираете программу, которая будет работать с нативными <i>.so</i> VST плагинами, то в этом случае выхода нет. Для таких случаев Арч позволяет нам поддерживать единую локальную базу данных приложений. Мы можем «установить» общесистемную SDK — достаточно лишь скачать и поместить файл в директорию установленного пакета.
</p>
<p><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages.php?O=0&amp;K=steinberg-&amp;do_Search=">Получить их можно в AUR</a>
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> <i>Steinberg не запрещает распространять конечные продукты и не диктует лицензию, под которой они должны распространяться. Существует много плагинов с лицензией GPL. Таким образом, распространение бинарных пакетов или программного обеспечения, собранного с данными несвободными заголовками не проблема, потому что заголовки являются лишь временными зависимостями для сборки.</i>
</div>
<h2>
<span id=".D0.9F.D1.80.D0.BE.D0.B5.D0.BA.D1.82_Arch_Linux_Pro_Audio"></span><span class="mw-headline" id="Проект_Arch_Linux_Pro_Audio">Проект Arch Linux Pro Audio</span>
</h2>
<p>Да, у нас есть и такое. Задумайтесь над "Planet CCRMA" или "Pro Audio Overlay", меньше научной коннотации: <a rel="nofollow" class="external text" href="http://archaudio.org">ArchAudio</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">устаревшая ссылка</a> 2020-08-04]</sup>.
</p>
<p>Что значит, что сие является репозиторием дополнений, т.е. вы должны поработать над разумной установкой и настройкой Archlinux.
</p>
<p>Это относительно новое течение, хотя инициатива была проявлена ещё примерно в 2006/2007г. 
</p>
<p>История: <a rel="nofollow" class="external free" href="https://bbs.archlinux.org/viewtopic.php?id=30547">https://bbs.archlinux.org/viewtopic.php?id=30547</a>
</p>
<p>По всем вопросам, связанными с Arch- и ArchAudio- проблемами можно обратиться в наш <b>IRC</b>: #archaudio @ Freenode
</p>
<h2>
<span id="Linux_.D0.B8_Arch_Linux_Pro_Audio_.D0.B2_.D0.BD.D0.BE.D0.B2.D0.BE.D1.81.D1.82.D1.8F.D1.85"></span><span class="mw-headline" id="Linux_и_Arch_Linux_Pro_Audio_в_новостях">Linux и Arch Linux Pro Audio в новостях</span>
</h2>
<ul><li>
<a rel="nofollow" class="external text" href="https://www.linux.com/learn/tutorials/607117-build-a-serious-multimedia-production-workstation-with-arch-linux">Построй систему для производства серьёзной мультимедиа продукции с Arch</a><sup>[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">устаревшая ссылка</a> 2020-08-04]</sup> - Linux.com статья, июль 2012</li></ul>
<ul><li>
<a rel="nofollow" class="external text" href="http://www.linuxjournal.com/content/arch-tale">Практика использования Arch</a> - Статья от музыканта и писателя Dave Phillips, октябрь 2011</li></ul>
<ul><li>
<a rel="nofollow" class="external text" href="http://www.itwire.com/opinion-and-analysis/open-sauce/36698-from-windows-to-linux-a-sound-decision">С Windows на Linux: разумное решение</a> - интервью с Geoff "songshop" Beasley, февраль 2010</li></ul>
<h2><span class="mw-headline" id="Mailing_list">Mailing list</span></h2>
<ul><li>
<a rel="nofollow" class="external text" href="http://lists.linuxaudio.org/listinfo/linux-audio-user">Linux-audio-user -- A list for linux audio users</a> The Linux pro-audio related mailing list with much traffic and a huge subscriber community of users and developers.</li></ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../ru/Category:Sound.html" title="Category:Sound (Русский)">Sound (Русский)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li>
<li><a href="../en/Category:Pages_with_broken_section_links.html" title="Category:Pages with broken section links">Pages with broken section links</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Professional_audio_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;oldid=645132">https://wiki.archlinux.org/index.php?title=Professional_audio_(Русский)&amp;oldid=645132</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 13 December 2020, at 14:19.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
