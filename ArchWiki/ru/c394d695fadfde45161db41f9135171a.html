<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Network configuration (Русский)/Ethernet (Русский) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Network_configuration_Русский_Ethernet_Русский rootpage-Network_configuration_Русский skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Network configuration (Русский)/Ethernet (Русский)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"><span class="subpages">&lt; <a href="../ru/Network_configuration.html" title="Network configuration (Русский)">Network configuration (Русский)</a></span></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Состояние перевода:</strong> На этой странице представлен перевод статьи <a href="../en/Network_configuration/Ethernet.html" title="Network configuration/Ethernet">Network configuration/Ethernet</a>. Дата последней синхронизации: 3 октября 2020. Вы можете <a href="../ru/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (Русский)">помочь</a> синхронизировать перевод, если в английской версии произошли <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Network_configuration/Ethernet&amp;diff=0&amp;oldid=636318">изменения</a>.</div>
<p>В данной статье описывается настройка <a href="https://en.wikipedia.org/wiki/ru:Ethernet" class="extiw" title="wikipedia:ru:Ethernet">Ethernet</a>, общие вопросы о настройке сети описываются в статье <a href="../ru/Network_configuration.html" class="mw-redirect" title="Настройка сети">Настройка сети</a>.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#%D0%94%D1%80%D0%B0%D0%B9%D0%B2%D0%B5%D1%80_%D1%83%D1%81%D1%82%D1%80%D0%BE%D0%B9%D1%81%D1%82%D0%B2%D0%B0"><span class="tocnumber">1</span> <span class="toctext">Драйвер устройства</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#%D0%9F%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%BA%D0%B0_%D1%81%D0%BE%D1%81%D1%82%D0%BE%D1%8F%D0%BD%D0%B8%D1%8F"><span class="tocnumber">1.1</span> <span class="toctext">Проверка состояния</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#%D0%97%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B0_%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D1%8F"><span class="tocnumber">1.2</span> <span class="toctext">Загрузка модуля</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4">
<a href="#%D0%A1%D0%BE%D0%B2%D0%B5%D1%82%D1%8B_%D0%B8_%D1%80%D0%B5%D0%BA%D0%BE%D0%BC%D0%B5%D0%BD%D0%B4%D0%B0%D1%86%D0%B8%D0%B8"><span class="tocnumber">2</span> <span class="toctext">Советы и рекомендации</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#ifplugd_%D0%B4%D0%BB%D1%8F_%D0%BD%D0%BE%D1%83%D1%82%D0%B1%D1%83%D0%BA%D0%BE%D0%B2"><span class="tocnumber">2.1</span> <span class="toctext">ifplugd для ноутбуков</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6">
<a href="#%D0%A0%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC"><span class="tocnumber">3</span> <span class="toctext">Решение проблем</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#%D0%A1%D0%BC%D0%B5%D0%BD%D0%B0_%D0%BA%D0%BE%D0%BC%D0%BF%D1%8C%D1%8E%D1%82%D0%B5%D1%80%D0%B0_%D0%BF%D1%80%D0%B8_%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B8_%D0%BA%D0%B0%D0%B1%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D0%B3%D0%BE_%D0%BC%D0%BE%D0%B4%D0%B5%D0%BC%D0%B0"><span class="tocnumber">3.1</span> <span class="toctext">Смена компьютера при использовании кабельного модема</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#%D0%AF%D0%B2%D0%BD%D0%BE%D0%B5_%D1%83%D0%B2%D0%B5%D0%B4%D0%BE%D0%BC%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BE_%D0%BF%D0%B5%D1%80%D0%B5%D0%B3%D1%80%D1%83%D0%B6%D0%B5%D0%BD%D0%BD%D0%BE%D1%81%D1%82%D0%B8"><span class="tocnumber">3.2</span> <span class="toctext">Явное уведомление о перегруженности</span></a></li>
<li class="toclevel-2 tocsection-9">
<a href="#Realtek:_%D0%BD%D0%B5%D1%82_%D1%81%D0%BE%D0%B5%D0%B4%D0%B8%D0%BD%D0%B5%D0%BD%D0%B8%D1%8F_/_%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC%D0%B0_WOL"><span class="tocnumber">3.3</span> <span class="toctext">Realtek: нет соединения / проблема WOL</span></a>
<ul>
<li class="toclevel-3 tocsection-10"><a href="#%D0%92%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D1%81%D0%B5%D1%82%D0%B5%D0%B2%D0%BE%D0%B3%D0%BE_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D0%B0_%D0%B2_Linux"><span class="tocnumber">3.3.1</span> <span class="toctext">Включение сетевого интерфейса в Linux</span></a></li>
<li class="toclevel-3 tocsection-11"><a href="#%D0%9E%D1%82%D0%BA%D0%B0%D1%82/%D0%B7%D0%B0%D0%BC%D0%B5%D0%BD%D0%B0_%D0%B4%D1%80%D0%B0%D0%B9%D0%B2%D0%B5%D1%80%D0%B0_%D0%B4%D0%BB%D1%8F_Windows"><span class="tocnumber">3.3.2</span> <span class="toctext">Откат/замена драйвера для Windows</span></a></li>
<li class="toclevel-3 tocsection-12"><a href="#%D0%92%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_WOL_%D0%B2_%D0%B4%D1%80%D0%B0%D0%B9%D0%B2%D0%B5%D1%80%D0%B5_%D0%B4%D0%BB%D1%8F_Windows"><span class="tocnumber">3.3.3</span> <span class="toctext">Включение WOL в драйвере для Windows</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="#%D0%92%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_LAN_Boot_ROM_%D0%B2_BIOS/CMOS"><span class="tocnumber">3.3.4</span> <span class="toctext">Включение LAN Boot ROM в BIOS/CMOS</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-14"><a href="#%D0%94%D0%BB%D1%8F_%D1%87%D0%B8%D0%BF%D1%81%D0%B5%D1%82%D0%BE%D0%B2_Atheros_%D0%BE%D1%82%D1%81%D1%83%D1%82%D1%81%D1%82%D0%B2%D1%83%D0%B5%D1%82_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81"><span class="tocnumber">3.4</span> <span class="toctext">Для чипсетов Atheros отсутствует интерфейс</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Broadcom_BCM57780"><span class="tocnumber">3.5</span> <span class="toctext">Broadcom BCM57780</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Realtek_RTL8111/8168B"><span class="tocnumber">3.6</span> <span class="toctext">Realtek RTL8111/8168B</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#%D0%9C%D0%B0%D1%82%D0%B5%D1%80%D0%B8%D0%BD%D1%81%D0%BA%D0%B0%D1%8F_%D0%BF%D0%BB%D0%B0%D1%82%D0%B0_Gigabyte_%D1%81_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D0%BE%D0%BC_Realtek_8111/8168/8411"><span class="tocnumber">3.7</span> <span class="toctext">Материнская плата Gigabyte с интерфейсом Realtek 8111/8168/8411</span></a></li>
</ul>
</li>
</ul>
</div>

<h2>
<span id=".D0.94.D1.80.D0.B0.D0.B9.D0.B2.D0.B5.D1.80_.D1.83.D1.81.D1.82.D1.80.D0.BE.D0.B9.D1.81.D1.82.D0.B2.D0.B0"></span><span class="mw-headline" id="Драйвер_устройства">Драйвер устройства</span>
</h2>
<h3>
<span id=".D0.9F.D1.80.D0.BE.D0.B2.D0.B5.D1.80.D0.BA.D0.B0_.D1.81.D0.BE.D1.81.D1.82.D0.BE.D1.8F.D0.BD.D0.B8.D1.8F"></span><span class="mw-headline" id="Проверка_состояния">Проверка состояния</span>
</h3>
<p>Диспетчер устройств <a href="../ru/Udev.html" title="Udev (Русский)">udev</a> должен определить вашу <a href="https://en.wikipedia.org/wiki/ru:%D0%A1%D0%B5%D1%82%D0%B5%D0%B2%D0%B0%D1%8F_%D0%BF%D0%BB%D0%B0%D1%82%D0%B0" class="extiw" title="wikipedia:ru:Сетевая плата">сетевую плату</a> и автоматически загрузить необходимый <a href="../ru/Kernel_module.html" class="mw-redirect" title="Модули ядра">модуль ядра</a> при старте системы. Найдите пункт "Ethernet controller" (или похожий) в выводе команды <code>lspci -v</code>. Там должна быть информация о том, какой модуль ядра содержит драйвер для вашей сетевой платы. Например:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ lspci -v</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">02:00.0 Ethernet controller: Attansic Technology Corp. L1 Gigabit Ethernet Adapter (rev b0)
 	...
 	Kernel driver in use: atl1
 	Kernel modules: atl1
</pre>
<p>Затем проверьте, был ли загружен драйвер, при помощи команды <code>dmesg | grep <i>имя-модуля</i></code>. Например:
</p>
<pre>$ dmesg | grep atl1
    ...
    atl1 0000:02:00.0: eth0 link is up 100 Mbps full duplex
</pre>
<p>Пропустите следующий раздел, если драйвер был успешно загружен. В противном случае необходимо узнать, какой модуль требуется для вашей конкретной модели.
</p>
<h3>
<span id=".D0.97.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.BA.D0.B0_.D0.BC.D0.BE.D0.B4.D1.83.D0.BB.D1.8F"></span><span class="mw-headline" id="Загрузка_модуля">Загрузка модуля</span>
</h3>
<p>Найдите в интернете необходимый для вашего чипсета модуль/драйвер. Когда вы узнаете, какой модуль необходимо использовать, попробуйте <a href="../ru/Kernel_module.html#%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D1%8F%D0%BC%D0%B8_%D0%B2%D1%80%D1%83%D1%87%D0%BD%D1%83%D1%8E" class="mw-redirect" title="Модули ядра">загрузить его вручную</a>. Если вы увидите сообщение об ошибке, говорящее, что модуль не найден, возможно, драйвер не включён в состав ядра Arch. Вы можете осуществить поиск имени модуля в <a href="../ru/Arch_User_Repository.html" title="Arch User Repository (Русский)">AUR</a>.
</p>
<p>Если <i>udev</i> не определяет и не загружает нужный модуль автоматически во время старта системы, обратитесь к разделу <a href="../ru/Kernel_module.html#%D0%90%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5_%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D1%8F%D0%BC%D0%B8" class="mw-redirect" title="Модули ядра">Модули ядра#Автоматическое управление модулями</a>.
</p>
<h2>
<span id=".D0.A1.D0.BE.D0.B2.D0.B5.D1.82.D1.8B_.D0.B8_.D1.80.D0.B5.D0.BA.D0.BE.D0.BC.D0.B5.D0.BD.D0.B4.D0.B0.D1.86.D0.B8.D0.B8"></span><span class="mw-headline" id="Советы_и_рекомендации">Советы и рекомендации</span>
</h2>
<h3>
<span id="ifplugd_.D0.B4.D0.BB.D1.8F_.D0.BD.D0.BE.D1.83.D1.82.D0.B1.D1.83.D0.BA.D0.BE.D0.B2"></span><span class="mw-headline" id="ifplugd_для_ноутбуков">ifplugd для ноутбуков</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> <a href="../en/Dhcpcd.html" title="Dhcpcd">dhcpcd</a> предоставляет ту же возможность "из коробки"</div>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ifplugd">ifplugd</a></span> из <a href="../ru/Official_repositories.html" title="Official repositories (Русский)">официальных репозиториев</a> - это демон, который автоматически настроит ваше устройство Ethernet при подключении кабеля и удалит конфигурацию при его отключении. Это полезно для ноутбуков со встроенными сетевыми адаптерами, поскольку интерфейс будет настроен лишь при реальном подключении кабеля. Другой вариант использования - когда вам необходимо лишь перезапустить сеть, но не компьютер, без необходимости делать это в оболочке.
</p>
<p>По умолчанию ifplugd настроен на работу с устройством <code>eth0</code>. Эта и другие настройки, такие как время задержки, можно изменить в файле <code>/etc/ifplugd/ifplugd.conf</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Пакет <a href="../en/Netctl.html" class="mw-redirect" title="Netctl (Русский)">netctl</a> содержит службу <code>netctl-ifplugd@.service</code>, в ином случае можно воспользоваться <code>ifplugd@.service</code> из пакета <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ifplugd">ifplugd</a></span>. К примеру, <a href="../ru/Systemd.html#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D1%8E%D0%BD%D0%B8%D1%82%D0%BE%D0%B2" class="mw-redirect" title="Включите">включите</a> <code>ifplugd@eth0.service</code>.
</div>
<h2>
<span id=".D0.A0.D0.B5.D1.88.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BF.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC"></span><span class="mw-headline" id="Решение_проблем">Решение проблем</span>
</h2>
<h3>
<span id=".D0.A1.D0.BC.D0.B5.D0.BD.D0.B0_.D0.BA.D0.BE.D0.BC.D0.BF.D1.8C.D1.8E.D1.82.D0.B5.D1.80.D0.B0_.D0.BF.D1.80.D0.B8_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B8_.D0.BA.D0.B0.D0.B1.D0.B5.D0.BB.D1.8C.D0.BD.D0.BE.D0.B3.D0.BE_.D0.BC.D0.BE.D0.B4.D0.B5.D0.BC.D0.B0"></span><span class="mw-headline" id="Смена_компьютера_при_использовании_кабельного_модема">Смена компьютера при использовании кабельного модема</span>
</h3>
<p>Некоторые провайдеры кабельных интернет-услуг (например, videotron) настраивают кабельный модем на работу только с одним клиентом-компьютером по MAC-адресу его сетевого интерфейса. Как только модем запомнит MAC-адрес первого подключенного компьютера или оборудования, он ни при каких обстоятельствах не будет отвечать на запросы, идущие с других MAC-адресов. Таким образом, если вы поменяете один компьютер на другой (или поставите маршрутизатор), новый компьютер (или маршрутизатор) не будет работать с кабельным модемом, поскольку он имеет MAC-адрес, отличный от предыдущего. Для сброса кабельного модема с тем, чтобы он стал работать с новым компьютером, необходимо выключить питание кабельного модема и включить его опять. Как только он перезагрузится и подключится к сети (загорятся соответствующие индикаторы), перезагрузите вновь подключенный компьютер, чтобы он выполнил запрос DHCP, или вручную заставьте его запросить новый адрес DHCP.
</p>
<p>Если это не поможет, необходимо скопировать MAC-адрес изначальной машины. См. также <a href="../ru/MAC_address_spoofing.html" class="mw-redirect" title="Подмена MAC-адреса">Подмена MAC-адреса</a>.
</p>
<h3>
<span id=".D0.AF.D0.B2.D0.BD.D0.BE.D0.B5_.D1.83.D0.B2.D0.B5.D0.B4.D0.BE.D0.BC.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BE_.D0.BF.D0.B5.D1.80.D0.B5.D0.B3.D1.80.D1.83.D0.B6.D0.B5.D0.BD.D0.BD.D0.BE.D1.81.D1.82.D0.B8"></span><span class="mw-headline" id="Явное_уведомление_о_перегруженности">Явное уведомление о перегруженности</span>
</h3>
<p>Явное уведомление о перегруженности (<a href="https://en.wikipedia.org/wiki/ru:Explicit_Congestion_Notification" class="extiw" title="wikipedia:ru:Explicit Congestion Notification">Explicit Congestion Notification</a>, ECN) может стать причиной проблем с передачей информации на старых/плохих маршрутизаторах. Для <a rel="nofollow" class="external text" href="https://github.com/systemd/systemd/issues/9748">systemd 239</a> это касается как входящего, так и исходящего трафика.
</p>
<p>Чтобы включать ECN только по требованию входящих соединений (безопасно, настройка ядра по-умолчанию), выполните:
</p>
<pre># sysctl net.ipv4.tcp_ecn=2
</pre>
<p>Для полного отключения ECN (например, чтобы проверить, действительно ли причина возникших проблем в ECN):
</p>
<pre># sysctl net.ipv4.tcp_ecn=0
</pre>
<p>Подробную информацию можно получить в <a rel="nofollow" class="external text" href="https://www.kernel.org/doc/html/latest/networking/ip-sysctl.html">документации ядра</a>.
</p>
<h3>
<span id="Realtek:_.D0.BD.D0.B5.D1.82_.D1.81.D0.BE.D0.B5.D0.B4.D0.B8.D0.BD.D0.B5.D0.BD.D0.B8.D1.8F_.2F_.D0.BF.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC.D0.B0_WOL"></span><span class="mw-headline" id="Realtek:_нет_соединения_/_проблема_WOL">Realtek: нет соединения / проблема WOL</span>
</h3>
<p>Пользователи с сетевыми платами, основанными на Realtek 8168 8169 8101 8111(C) (отдельными/встроенными) могут заметить проблему, что карта, кажется, отключена во время загрузки системы, и лампочка-индикатор не горит. Такое часто встречается на машинах с двумя операционными системами, на которых также установлена Windows. Похоже, что причиной являются обычные официальные драйверы Realtek (датирующие все после мая 2007 г.) под Windows. Эти новые драйверы отключают функцию Wake-On-LAN, отключая сетевую плату при завершении работы Windows, и она остается выключенной до следующей загрузки Windows. Вы сможете заметить это, если индикатор подключения не горит, пока не будет загружена Windows; во время ее завершения работы индикатор выключается. В нормальном состоянии лампочка всегда должна гореть, пока система работает, даже во время POST. Эта проблема также затрагивает другие операционные системы, не имеющие новейших драйверов (например, Live CD). Есть несколько способов решения этой проблемы.
</p>
<h4>
<span id=".D0.92.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D1.81.D0.B5.D1.82.D0.B5.D0.B2.D0.BE.D0.B3.D0.BE_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D0.B0_.D0.B2_Linux"></span><span class="mw-headline" id="Включение_сетевого_интерфейса_в_Linux">Включение сетевого интерфейса в Linux</span>
</h4>
<p>Включите сетевой интерфейс, следуя инструкциям в статье <a href="../ru/Network_configuration.html#%D0%92%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B8_%D0%BE%D1%82%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D1%81%D0%B5%D1%82%D0%B5%D0%B2%D1%8B%D1%85_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D0%BE%D0%B2" title="Network configuration (Русский)">Network configuration#Включение и отключение сетевых интерфейсов</a>.
</p>
<h4>
<span id=".D0.9E.D1.82.D0.BA.D0.B0.D1.82.2F.D0.B7.D0.B0.D0.BC.D0.B5.D0.BD.D0.B0_.D0.B4.D1.80.D0.B0.D0.B9.D0.B2.D0.B5.D1.80.D0.B0_.D0.B4.D0.BB.D1.8F_Windows"></span><span class="mw-headline" id="Откат/замена_драйвера_для_Windows">Откат/замена драйвера для Windows</span>
</h4>
<p>Вы можете откатить ваш драйвер сетевой платы в Windows на тот, который предоставляет Microsoft (если это возможно), или откатить/установить официальный драйвер Realtek, имеющий дату выпуска ранее мая 2007 г. (может найтись на компакт-диске, идущем в комплекте с вашим аппаратным обеспечением).
</p>
<h4>
<span id=".D0.92.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_WOL_.D0.B2_.D0.B4.D1.80.D0.B0.D0.B9.D0.B2.D0.B5.D1.80.D0.B5_.D0.B4.D0.BB.D1.8F_Windows"></span><span class="mw-headline" id="Включение_WOL_в_драйвере_для_Windows">Включение WOL в драйвере для Windows</span>
</h4>
<p>Наверное, самое лучшее и быстрое решение - изменить эту настройку в драйвере Windows. Тогда это затронет всю систему, в том числе Arch (а также live CD и другие операционные системы). В менеджере устройств Windows найдите ваш сетевой адаптер Realtek и сделайте на нем двойной щелчок мыши. Во вкладке "Дополнительно" измените значение "Wake-on-LAN после завершения работы" (Wake-on-LAN after shutdown) на "Включено".
</p>
<p>В Windows XP (пример):
</p>
<pre>Кликните правой кнопкой мыши на "Мой компьютер" и зайдите в "Свойства"
--&gt; Вкладка "Аппаратное обеспечение" (Hardware)
  --&gt; Менеджер устройств
    --&gt; Сетевые адаптеры
      --&gt; "двойной клик" на Realtek ...
        --&gt; Вкладка "Дополнительно"
          --&gt; Wake-On-Lan после завершения работы
            --&gt; Включено
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> В новых драйверах Realtek для Windows (протестировано на <i>Realtek 8111/8169 LAN Driver v5.708.1030.2008</i>, датированном 2009/01/22, от GIGABYTE) доступ к этой опции может быть немного иным, например, <i>Shutdown Wake-On-LAN --&gt; Включено</i>. Похоже, что ее переключение в значение <code>Отключено</code> не дает эффекта (вы увидите, что индикатор соединения по-прежнему выключается при завершении работы Windows). Довольно грязный обходной путь - загрузиться в Windows и просто перезагрузить (reset) систему (плохой restart/shutdown), что не даст драйверу Windows никаких шансов отключить LAN. Лампочка будет по-прежнему гореть, а адаптер LAN останется доступен после POST до тех пор, пока вы опять не запустите Windows и правильно завершите его работу</div>
<h4>
<span id=".D0.92.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_LAN_Boot_ROM_.D0.B2_BIOS.2FCMOS"></span><span class="mw-headline" id="Включение_LAN_Boot_ROM_в_BIOS/CMOS">Включение LAN Boot ROM в BIOS/CMOS</span>
</h4>
<p>Похоже, что установка <i>Интегрированная периферия (Integrated Peripherals) --&gt; Встроенный (Onboard) LAN Boot ROM --&gt; Включено</i> в BIOS/CMOS возобновляет работу чипа Realtek LAN при загрузке системы, несмотря на то, что драйвер Windows делает обратное при завершении работы ОС.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Этот способ был несколько раз протестирован на материнской плате GIGABYTE GA-G31M-ES2L с BIOS версии F8, выпущенным 2009/02/05</div>
<h3>
<span id=".D0.94.D0.BB.D1.8F_.D1.87.D0.B8.D0.BF.D1.81.D0.B5.D1.82.D0.BE.D0.B2_Atheros_.D0.BE.D1.82.D1.81.D1.83.D1.82.D1.81.D1.82.D0.B2.D1.83.D0.B5.D1.82_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81"></span><span class="mw-headline" id="Для_чипсетов_Atheros_отсутствует_интерфейс">Для чипсетов Atheros отсутствует интерфейс</span>
</h3>
<p>Пользователи некоторых чипов Atheros ethernet сообщают, что они не работают "из коробки" (с установочного носителя февраля 2014 г.). Помогает установка пакета <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/backports-patched/">backports-patched</a></span><sup><small>AUR</small></sup> из AUR.
</p>
<h3><span class="mw-headline" id="Broadcom_BCM57780">Broadcom BCM57780</span></h3>
<p>Этот чипсет Broadcom иногда работает плохо, если не указать порядок загрузки модулей. Необходимые модули — <code>broadcom</code> и <code>tg3</code>, и загружаться они должны именно в таком порядке.
</p>
<p>Если в вашем компьютере используется этот чипсет, сделайте следующее:
</p>
<ul><li>Найдите вашу сетевую плату в выводе <i>lspci</i>:</li></ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ lspci | grep Ethernet</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">02:00.0 Ethernet controller: Broadcom Corporation NetLink BCM57780 Gigabit Ethernet PCIe (rev 01)
</pre>
<ul><li>Если Ethernet-соединение не функционирует, отключите кабель и выполните команды:</li></ul>
<pre># modprobe -r tg3
# modprobe broadcom
# modprobe tg3
</pre>
<ul><li>Подключите обратно сетевой кабель и проверьте работу модуля:</li></ul>
<pre>$ dmesg | grep tg3
</pre>
<ul><li>Если это решило проблему, сделайте изменения постоянными, добавив модули <code>broadcom</code> и <code>tg3</code> (в этом порядке) в массив <code>MODULES</code>:</li></ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/mkinitcpio.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">MODULES=(.. broadcom tg3 ..)
</pre>
<ul><li>Пересоберите initramfs:</li></ul>
<pre># mkinitcpio -p linux
</pre>
<ul><li>В качестве альтернативы можно создать файл <code>/etc/modprobe.d/broadcom.conf</code> со следующим содержимым:</li></ul>
<pre>softdep tg3 pre: broadcom
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Этот способ может помочь и для других чипсетов, например, BCM57760</div>
<h3>
<span id="Realtek_RTL8111.2F8168B"></span><span class="mw-headline" id="Realtek_RTL8111/8168B">Realtek RTL8111/8168B</span>
</h3>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;"># lspci | grep Ethernet</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">03:00.0 Ethernet controller: Realtek Semiconductor Co., Ltd. RTL8111/8168B PCI Express Gigabit Ethernet controller (rev 02)
</pre>
<p>За распознавание и работу этого сетевого интерфейса отвечает модуль <code>r8169</code>, однако некоторые ревизии данного драйвера работают с ошибками — происходит постоянное включение/выключение устройства. Для решения проблемы можно установить модуль <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=r8168">r8168</a></span>. Если <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=r8168">r8168</a></span> не загружается автоматически менеджером <a href="../ru/Udev.html" title="Udev (Русский)">udev</a>, то нужно <a href="../ru/Kernel_module.html#%D0%97%D0%B0%D0%BF%D1%80%D0%B5%D1%82_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B8" class="mw-redirect" title="Модули ядра">запретить загрузку</a> модуля <code>r8169</code>. Подробнее загрузка модулей описана в статье <a href="../ru/Kernel_module.html#%D0%90%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5_%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D1%8F%D0%BC%D0%B8" class="mw-redirect" title="Модули ядра">Модули ядра#Автоматическое управление модулями</a>.
</p>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a><b>The factual accuracy of this article or section is disputed.</b><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> "некоторые ревизии"; причиной также может быть неправильно настроенный DNS-сервер (например), а не драйвер (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Network_configuration_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)/Ethernet_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)">Talk:Network configuration (Русский)/Ethernet (Русский)#</a>)</div>
</div>
<p>Ещё одной проблемой некоторых ревизий драйвера этого адаптера является плохая поддержка IPv6. В случае зависания страниц и низкой скорости подключения может помочь <a href="../ru/IPv6.html#%D0%9E%D1%82%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D0%BE%D0%BD%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D1%81%D1%82%D0%B8" title="IPv6 (Русский)">отключение функциональности IPv6</a>.
</p>
<h3>
<span id=".D0.9C.D0.B0.D1.82.D0.B5.D1.80.D0.B8.D0.BD.D1.81.D0.BA.D0.B0.D1.8F_.D0.BF.D0.BB.D0.B0.D1.82.D0.B0_Gigabyte_.D1.81_.D0.B8.D0.BD.D1.82.D0.B5.D1.80.D1.84.D0.B5.D0.B9.D1.81.D0.BE.D0.BC_Realtek_8111.2F8168.2F8411"></span><span class="mw-headline" id="Материнская_плата_Gigabyte_с_интерфейсом_Realtek_8111/8168/8411">Материнская плата Gigabyte с интерфейсом Realtek 8111/8168/8411</span>
</h3>
<p>При загрузке с выключенным (настройка по умолчанию) <a href="https://en.wikipedia.org/wiki/ru:IOMMU" class="extiw" title="wikipedia:ru:IOMMU">IOMMU</a> могут возникнуть проблемы с сетевым интерфейсом на материнских платах Gigabyte (например, <i>Gigabyte GA-990FXA-UD3</i>). Сетевое подключение будет неустойчивым, с малой пропускной способностью или отсутствовать вовсе. Сказанное в равной мере касается как встроенных интерфейсов, так и внешних сетевых плат на шине PCI, поскольку настройки IOMMU влияют на все сетевые интерфейсы материнской платы. Если <a href="../en/PCI_passthrough_via_OVMF.html#Setting_up_IOMMU" title="PCI passthrough via OVMF">включить</a> IOMMU и загрузиться с установочного устройства, то на секунду появится сообщение об ошибке AMD I-10/xhci, после чего загрузка продолжится обычным образом. В результате сетевой интерфейс будет функционировать нормально (даже с модулем <code>r8169</code>).
</p>
<p>Если добавить <a href="../en/Kernel_parameters.html" class="mw-redirect" title="Kernel parameters (Русский)">параметр ядра</a> <code>iommu=soft</code>, то при загрузке сообщение об ошибке будет подавляться.
</p>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../ru/Category:Network_configuration.html" title="Category:Network configuration (Русский)">Network configuration (Русский)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Accuracy.html" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Network_configuration_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)/Ethernet_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;oldid=637052">https://wiki.archlinux.org/index.php?title=Network_configuration_(Русский)/Ethernet_(Русский)&amp;oldid=637052</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 3 October 2020, at 05:08.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
