<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Bumblebee (Русский) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Bumblebee_Русский rootpage-Bumblebee_Русский skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Bumblebee (Русский)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="../en/PRIME.html" title="PRIME">PRIME</a></li>
<li><a href="../ru/Nvidia-xrun.html" title="Nvidia-xrun (Русский)">Nvidia-xrun (Русский)</a></li>
<li><a href="../ru/NVIDIA_Optimus.html" title="NVIDIA Optimus (Русский)">NVIDIA Optimus (Русский)</a></li>
<li><a href="../en/Nouveau.html" class="mw-redirect" title="Nouveau (Русский)">Nouveau (Русский)</a></li>
<li><a href="../ru/NVIDIA.html" title="NVIDIA (Русский)">NVIDIA (Русский)</a></li>
<li><a href="../ru/Intel_graphics.html" title="Intel graphics (Русский)">Intel graphics (Русский)</a></li>
</ul>
</div>
<p>Из <a rel="nofollow" class="external text" href="https://github.com/Bumblebee-Project/Bumblebee/wiki/FAQ">FAQ</a> Bumblebee:
</p>
<p><i>Bumblebee — решение, позволяющее задействовать NVIDIA Optimus в ноутбуках с GNU/Linux, что включает в себя два графических адаптера с двумя разными профилями энергопотребления, использующих общий фреймбуфер.</i>
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Рассмотрите <a href="../ru/Nvidia-xrun.html" title="Nvidia-xrun (Русский)">nvidia-xrun (Русский)</a> или <a href="../en/PRIME.html" title="PRIME">PRIME</a> в качестве альтернативы, так как у Bumblebee присутствуют значительные проблемы с производительностью<a rel="nofollow" class="external autonumber" href="https://github.com/Witko/nvidia-xrun/issues/4#issuecomment-153386837">[1]</a><a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?pid=1822926">[2]</a> и не планируется поддержка <a href="../en/Vulkan.html" title="Vulkan">Vulkan</a><a rel="nofollow" class="external autonumber" href="https://github.com/Bumblebee-Project/Bumblebee/issues/769#issuecomment-218016574">[3]</a>.</div>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a><b>This article or section needs expansion.</b><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Что такое "<a rel="nofollow" class="external text" href="https://github.com/felixdoerre/primus_vk">primus_vk</a>" и как его можно использовать с Bumblebee? См. также <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/primus-vk-git/">primus-vk-git</a></span><sup><small>AUR</small></sup> (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Bumblebee_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)">Talk:Bumblebee (Русский)#</a>)</div>
</div>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Bumblebee:_Optimus_%D0%B4%D0%BB%D1%8F_Linux"><span class="tocnumber">1</span> <span class="toctext">Bumblebee: Optimus для Linux</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0"><span class="tocnumber">2</span> <span class="toctext">Установка</span></a></li>
<li class="toclevel-1 tocsection-3">
<a href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5"><span class="tocnumber">3</span> <span class="toctext">Использование</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#%D0%A2%D0%B5%D1%81%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5"><span class="tocnumber">3.1</span> <span class="toctext">Тестирование</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#%D0%97%D0%B0%D0%BF%D1%83%D1%81%D0%BA_%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC"><span class="tocnumber">3.2</span> <span class="toctext">Запуск программ</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6">
<a href="#%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0"><span class="tocnumber">4</span> <span class="toctext">Настройка</span></a>
<ul>
<li class="toclevel-2 tocsection-7">
<a href="#%D0%9E%D0%BF%D1%82%D0%B8%D0%BC%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F_%D1%81%D0%BA%D0%BE%D1%80%D0%BE%D1%81%D1%82%D0%B8"><span class="tocnumber">4.1</span> <span class="toctext">Оптимизация скорости</span></a>
<ul>
<li class="toclevel-3 tocsection-8"><a href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_VirtualGL_%D0%B2_%D0%BA%D0%B0%D1%87%D0%B5%D1%81%D1%82%D0%B2%D0%B5_'%D0%BC%D0%BE%D1%81%D1%82%D0%B0'"><span class="tocnumber">4.1.1</span> <span class="toctext">Использование VirtualGL в качестве 'моста'</span></a></li>
<li class="toclevel-3 tocsection-9"><a href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_Primus"><span class="tocnumber">4.1.2</span> <span class="toctext">Использование Primus</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-10">
<a href="#%D0%AD%D0%BD%D0%B5%D1%80%D0%B3%D0%BE%D1%81%D0%B1%D0%B5%D1%80%D0%B5%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5"><span class="tocnumber">4.2</span> <span class="toctext">Энергосбережение</span></a>
<ul>
<li class="toclevel-3 tocsection-11"><a href="#%D0%9D%D0%B5%D0%BA%D0%BE%D1%80%D1%80%D0%B5%D0%BA%D1%82%D0%BD%D0%B0%D1%8F_%D0%B8%D0%BD%D0%B8%D1%86%D0%B8%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F_%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D0%BA%D0%B0_%D0%B2%D0%B8%D0%B4%D0%B5%D0%BE%D0%BA%D0%B0%D1%80%D1%82%D1%8B_NVIDIA"><span class="tocnumber">4.2.1</span> <span class="toctext">Некорректная инициализация запуска видеокарты NVIDIA</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-12">
<a href="#%D0%A0%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC"><span class="tocnumber">5</span> <span class="toctext">Решение проблем</span></a>
<ul>
<li class="toclevel-2 tocsection-13"><a href="#%5BVGL%5D_ERROR:_Could_not_open_display_:8"><span class="tocnumber">5.1</span> <span class="toctext">[VGL] ERROR: Could not open display :8</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Xlib:_extension_%22GLX%22_missing_on_display_%22:0.0%22"><span class="tocnumber">5.2</span> <span class="toctext">Xlib: extension "GLX" missing on display ":0.0"</span></a></li>
<li class="toclevel-2 tocsection-15">
<a href="#%5BERROR%5DCannot_access_secondary_GPU:_No_devices_detected"><span class="tocnumber">5.3</span> <span class="toctext">[ERROR]Cannot access secondary GPU: No devices detected</span></a>
<ul>
<li class="toclevel-3 tocsection-16"><a href="#NVIDIA(0):_Failed_to_assign_any_connected_display_devices_to_X_screen_0"><span class="tocnumber">5.3.1</span> <span class="toctext">NVIDIA(0): Failed to assign any connected display devices to X screen 0</span></a></li>
<li class="toclevel-3 tocsection-17"><a href="#Failed_to_initialize_the_NVIDIA_GPU_at_PCI:1:0:0_(GPU_fallen_off_the_bus_/_RmInitAdapter_failed!)"><span class="tocnumber">5.3.2</span> <span class="toctext">Failed to initialize the NVIDIA GPU at PCI:1:0:0 (GPU fallen off the bus / RmInitAdapter failed!)</span></a></li>
<li class="toclevel-3 tocsection-18"><a href="#Could_not_load_GPU_driver"><span class="tocnumber">5.3.3</span> <span class="toctext">Could not load GPU driver</span></a></li>
<li class="toclevel-3 tocsection-19"><a href="#NOUVEAU(0):_%5Bdrm%5D_failed_to_set_drm_interface_version"><span class="tocnumber">5.3.4</span> <span class="toctext">NOUVEAU(0): [drm] failed to set drm interface version</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-20"><a href="#/dev/dri/card0:_failed_to_set_DRM_interface_version_1.4:_Permission_denied"><span class="tocnumber">5.4</span> <span class="toctext">/dev/dri/card0: failed to set DRM interface version 1.4: Permission denied</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#ERROR:_ld.so:_object_'libdlfaker.so'_from_LD_PRELOAD_cannot_be_preloaded:_ignored"><span class="tocnumber">5.5</span> <span class="toctext">ERROR: ld.so: object 'libdlfaker.so' from LD_PRELOAD cannot be preloaded: ignored</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#Fatal_IO_error_11_(Resource_temporarily_unavailable)_on_X_server"><span class="tocnumber">5.6</span> <span class="toctext">Fatal IO error 11 (Resource temporarily unavailable) on X server</span></a></li>
</ul>
</li>
</ul>
</div>

<h2>
<span id="Bumblebee:_Optimus_.D0.B4.D0.BB.D1.8F_Linux"></span><span class="mw-headline" id="Bumblebee:_Optimus_для_Linux">Bumblebee: Optimus для Linux</span>
</h2>
<p><a rel="nofollow" class="external text" href="https://www.nvidia.com/object/optimus_technology.html">Optimus</a> реализует <a rel="nofollow" class="external text" href="https://hybrid-graphics-linux.tuxfamily.org/index.php?title=Hybrid_graphics">технологию гибридной графики</a> без аппаратного коммутатора. Интегрированная видеокарта выводит на экран,в то время,как дискретная видеокарта занимается рендерингом, который требует более высокой вычислительной мощности графического процессора. Технология NVIDIA Optimus дает большую производительность, сберегая при этом заряд батареи, подключая дискретный графический процессор, когда это требуется.
</p>
<p>Bumblebee — программное решение, базирующееся на VirtualGL и драйверах ядра, позволяющее использовать дискретный GPU, не имеющий физического подключения к экрану.
</p>
<p>Bumblebee реализует технологию Optimus в два шага: 
</p>
<ul>
<li>Дискретная видеокарта производит рендеринг на виртуальном дисплее, в то время как выводом на экран занимается интегрированная видеокарта.</li>
<li>Дискретная видеокарта отключается от питания, когда ее вычислительная способность не требуется.</li>
</ul>
<h2>
<span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0"></span><span class="mw-headline" id="Установка">Установка</span>
</h2>
<p>Перед установкой Bumblebee убедитесь, что поддержка NVIDIA Optimus включена в настройках BIOS, а дисплей подключён к интегрированной видеокарте.
</p>
<p><a href="../ru/Help:Reading.html#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2" class="mw-redirect" title="Установите">Установите</a>:
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=bumblebee">bumblebee</a></span> — Основной пакет, содержащий демон и клиентское ПО.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mesa">mesa</a></span> — Свободную реализацию спецификации <b>OpenGL</b>.</li>
<li>Соответствующую версию драйвера NVIDIA, см. <a href="../en/NVIDIA.html#Installation" title="NVIDIA">NVIDIA#Installation</a>.</li>
<li>Опционально установите <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xf86-video-intel">xf86-video-intel</a></span> — драйвер <a href="../ru/Xorg.html" title="Xorg (Русский)">Xorg (Русский)</a> для Intel.</li>
</ul>
<p>Также включите репозиторий <a href="../ru/Official_repositories.html#multilib" class="mw-redirect" title="Multilib (Русский)">multilib</a> для поддержки 32-битных приложений и установите:
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lib32-virtualgl">lib32-virtualgl</a></span> — виртуальный дисплей для рендеринга в 32-битных приложениях.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lib32-nvidia-utils">lib32-nvidia-utils</a></span> или <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/lib32-nvidia-340xx-utils/">lib32-nvidia-340xx-utils</a></span><sup><small>AUR</small></sup> (должен соответствовать версии обычного драйвера NVIDIA).</li>
</ul>
<p>Чтобы использовать Bumblebee, необходимо добавить обычного <i>пользователя</i> в группу <code>bumblebee</code>:
</p>
<pre># gpasswd -a <i>user</i> bumblebee
</pre>
<p>Также <a href="../ru/Systemd.html#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D1%8E%D0%BD%D0%B8%D1%82%D0%BE%D0%B2" class="mw-redirect" title="Включите">включите</a> службу <code>bumblebeed.service</code>, перезагрузите систему и см. раздел <a href="#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5">#Использование</a>.
</p>
<h2>
<span id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5"></span><span class="mw-headline" id="Использование">Использование</span>
</h2>
<h3>
<span id=".D0.A2.D0.B5.D1.81.D1.82.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5"></span><span class="mw-headline" id="Тестирование">Тестирование</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong>  Для использования <code>glxgears</code> и <code>glxspheres32</code>, <code>glxspheres64</code> требуется установить пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=mesa-demos">mesa-demos</a></span>
</div>
<p>Протестируйте bumblebee: 
</p>
<pre>$ optirun glxgears -info
</pre>
<p>Если это не сработало
</p>
<ul><li>64-битная система:</li></ul>
<pre>$ optirun glxspheres64
</pre>
<ul><li>32-битная система:</li></ul>
<pre>$ optirun glxspheres32
</pre>
<p><br>
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong>  Если <code>glxgears</code> не запустилось,а <code>glxspheresXX</code> работает, используйте <code>glxspheresXX</code> во всех случаях</div>
<h3>
<span id=".D0.97.D0.B0.D0.BF.D1.83.D1.81.D0.BA_.D0.BF.D1.80.D0.BE.D0.B3.D1.80.D0.B0.D0.BC.D0.BC"></span><span class="mw-headline" id="Запуск_программ">Запуск программ</span>
</h3>
<pre>$ optirun [options] application [application-options]
</pre>
<p>Для примера, запуск <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=firefox">firefox</a></span> с параметром 'www.yandex.ru':
</p>
<pre>$ optirun firefox www.yandex.ru
</pre>
<p>Для просмотра документации и всех опций <code>optirun</code> используйте следующую команду: 
</p>
<pre>$ man optirun
</pre>
<h2>
<span id=".D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0"></span><span class="mw-headline" id="Настройка">Настройка</span>
</h2>
<p>Вы можете настраивать bumblebee под свои нужды, редактируя <code>/etc/bumblebee/bumblebee.conf</code>
</p>
<h3>
<span id=".D0.9E.D0.BF.D1.82.D0.B8.D0.BC.D0.B8.D0.B7.D0.B0.D1.86.D0.B8.D1.8F_.D1.81.D0.BA.D0.BE.D1.80.D0.BE.D1.81.D1.82.D0.B8"></span><span class="mw-headline" id="Оптимизация_скорости">Оптимизация скорости</span>
</h3>
<h4>
<span id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_VirtualGL_.D0.B2_.D0.BA.D0.B0.D1.87.D0.B5.D1.81.D1.82.D0.B2.D0.B5_.27.D0.BC.D0.BE.D1.81.D1.82.D0.B0.27"></span><span class="mw-headline" id="Использование_VirtualGL_в_качестве_'моста'">Использование VirtualGL в качестве 'моста'</span>
</h4>
<p>Bumblebee отрисовывает, используя дискретную видеокарту NVIDIA на виртуальном дисплее  с помощью VirtualGL,а затем отрисовка происходит на 'реальном' дисплее, когда интегрированная видеокарта передает изображение на <code>X Server</code>. Для увеличения скорости передачи <code>'Виртуальный дисплей'-&gt;'X Server'</code> можно использовать различные методы сжатия,вызывая <code>optirun</code> с опцией <code>-c</code>
</p>
<pre>$ optirun -c compress-method application [application-options]
</pre>
<p>Методы со сжатием:
</p>
<ul>
<li><code>jpeg</code></li>
<li><code>rgb</code></li>
<li><code>yuv</code></li>
</ul>
<p>Методы без сжатия
</p>
<ul>
<li><code>proxy</code></li>
<li><code>xv</code></li>
</ul>
<p>Таблица производительности с <a href="../en/ASUS_N550JV.html" title="ASUS N550JV">ASUS N550JV</a> приложение для тестирования: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/unigine-heaven/">unigine-heaven</a></span><sup><small>AUR</small></sup>:
</p>
<table class="wikitable">
<tbody>
<tr>
<th>Command</th>
<th>FPS</th>
<th>Score</th>
<th>Min FPS</th>
<th>Max FPS
</th>
</tr>
<tr>
<td>optirun unigine-heaven</td>
<td>25.0</td>
<td>630</td>
<td>16.4</td>
<td>36.1
</td>
</tr>
<tr>
<td>optirun -c jpeg unigine-heaven</td>
<td>24.2</td>
<td>610</td>
<td>9.5</td>
<td>36.8
</td>
</tr>
<tr>
<td>optirun -c rgb unigine-heaven</td>
<td>25.1</td>
<td>632</td>
<td>16.6</td>
<td>35.5
</td>
</tr>
<tr>
<td>optirun -c yuv unigine-heaven</td>
<td>24.9</td>
<td>626</td>
<td>16.5</td>
<td>35.8
</td>
</tr>
<tr>
<td>optirun -c proxy unigine-heaven</td>
<td>25.0</td>
<td>629</td>
<td>16.0</td>
<td>36.1
</td>
</tr>
<tr>
<td>optirun -c xv unigine-heaven</td>
<td>22.9</td>
<td>577</td>
<td>15.4</td>
<td>32.2
</td>
</tr>
</tbody>
</table>
<p><br>
Для использования метода сжатия по-умолчанию выставьте переменную <code>VGLTransport</code> c параметром <code><i>compress-method</i></code> в <code>/etc/bumblebee/bumblebee.conf</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/bumblebee/bumblebee.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[...]
[optirun]
VGLTransport=proxy
[...]</pre>
<h4>
<span id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_Primus"></span><span class="mw-headline" id="Использование_Primus">Использование Primus</span>
</h4>
<p><a rel="nofollow" class="external text" href="https://www.github.com/amonakov/primus">Primus</a> позволяет увеличить производительность и энергосбережение за счет неиспользования VirtualGL.
Преимущества <a rel="nofollow" class="external text" href="https://www.github.com/amonakov/primus">Primus</a> перед стандартным <code>Optirun</code>:
</p>
<ul>
<li>уменьшенное использование дополнительных ресурсов (увеличена частота кадров) и оптимизированное решение (без сетевых процессов или процессов сжатия)</li>
<li>отсутствие бага с преждевременным выключением GPU</li>
<li>более стабильный,нежели <code>Optirun</code>, а также более прост в отладке</li>
<li>дискретная видеокарта используется только для обработки OpenGL,вся остальная информация обрабатывается и хранится в интегрированном графическом процессоре</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Для использования <code>primus</code> понадобится пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=primus">primus</a></span>.</div>
<ul><li>Для запуска 32-битных приложений на 64-битной машине понадобится пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lib32-primus">lib32-primus</a></span> (Должен быть подключен <a href="../ru/Official_repositories.html#multilib" class="mw-redirect" title="Multilib (Русский)">Multilib (Русский)</a>)</li></ul>
<p>Пример запуска <code>glxspheres32</code>:
</p>
<pre>$ primusrun glxspheres32
</pre>
<p>Для запуска приложения с ипользованием VirtualGL используйте:
</p>
<pre>$ optirun -b primus glxspheres32
</pre>
<h3>
<span id=".D0.AD.D0.BD.D0.B5.D1.80.D0.B3.D0.BE.D1.81.D0.B1.D0.B5.D1.80.D0.B5.D0.B6.D0.B5.D0.BD.D0.B8.D0.B5"></span><span class="mw-headline" id="Энергосбережение">Энергосбережение</span>
</h3>
<p>Для регулировки потребления энергии на десктопном ПК используется пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=bbswitch">bbswitch</a></span>
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong>  Bumblebee не умеет регулировать потребление энергии на ПК самостоятельно.</div>
<p>Для настройки включения и отключения видеокарты редактируйте опции <code>load_state</code> и <code>unload_state</code>. Подробнее смотрите <a rel="nofollow" class="external text" href="https://github.com/Bumblebee-Project/bbswitch">BBSwitch-документация</a>.
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/bbswitch.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">options bbswitch load_state=0 unload_state=1</pre>
<h4>
<span id=".D0.9D.D0.B5.D0.BA.D0.BE.D1.80.D1.80.D0.B5.D0.BA.D1.82.D0.BD.D0.B0.D1.8F_.D0.B8.D0.BD.D0.B8.D1.86.D0.B8.D0.B0.D0.BB.D0.B8.D0.B7.D0.B0.D1.86.D0.B8.D1.8F_.D0.B7.D0.B0.D0.BF.D1.83.D1.81.D0.BA.D0.B0_.D0.B2.D0.B8.D0.B4.D0.B5.D0.BE.D0.BA.D0.B0.D1.80.D1.82.D1.8B_NVIDIA"></span><span class="mw-headline" id="Некорректная_инициализация_запуска_видеокарты_NVIDIA">Некорректная инициализация запуска видеокарты NVIDIA</span>
</h4>
<p>Если ваша видеокарта NVidia некорректно запускается после последнего выключения, то следует выставить опцию <code>TurnCardOffAtExit=false</code> в <code>/etc/bumblebee/bumblebee.conf</code> - видеокарта будет выключаться каждый раз после отключения демона bumblebee. 
Для того,чтобы видеокарта NVidia постоянно работала,следует включить соответствующий сервис:
</p>
<pre># systemctl enable nvidia-enable.service
</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/nvidia-enable.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=Enable NVIDIA card
DefaultDependencies=no

[Service]
Type=oneshot
ExecStart=/bin/sh -c 'echo ON &gt; /proc/acpi/bbswitch'

[Install]
WantedBy=shutdown.target</pre>
<p>Для более подробного разбора всех возможностей Bumblebee посетите английскую ветку wiki: <a href="../en/Bumblebee.html" title="Bumblebee">bumblebee</a>
</p>
<h2>
<span id=".D0.A0.D0.B5.D1.88.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BF.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC"></span><span class="mw-headline" id="Решение_проблем">Решение проблем</span>
</h2>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Пожалуйста, сообщайте об ошибках на GitHub-странице <a rel="nofollow" class="external text" href="https://github.com/Bumblebee-Project/Bumblebee">Bumblebee-Project</a> в соответствии с его <a rel="nofollow" class="external text" href="https://github.com/Bumblebee-Project/Bumblebee/wiki/Reporting-Issues">вики-разделом</a>.</div>
<h3>
<span id=".5BVGL.5D_ERROR:_Could_not_open_display_:8"></span><span class="mw-headline" id="[VGL]_ERROR:_Could_not_open_display_:8">[VGL] ERROR: Could not open display :8</span>
</h3>
<p>Проблема заключается в VirtualGL, в этом случае можно использовать primus
</p>
<pre>$ optirun -b primus wine windows program.exe
</pre>
<p>Если использование драйвера NVIDIA решило проблему,то отредактируйте файл <code>/etc/bumblebee/xorg.conf.nvidia</code> и измените опцию <code>ConnectedMonitor</code> на <code>CRT-0</code>.
</p>
<h3>
<span id="Xlib:_extension_.22GLX.22_missing_on_display_.22:0.0.22"></span><span class="mw-headline" id='Xlib:_extension_"GLX"_missing_on_display_":0.0"'>Xlib: extension "GLX" missing on display ":0.0"</span>
</h3>
<p>Если вы установили видеодрайвер с сайта NVIDIA, то проделайте следующее: 
</p>
<p>1. Удалите драйвер:
</p>
<pre># ./NVIDIA-Linux-*.run --uninstall
</pre>
<p>2. Удалите сгенерированный NVIDIA конфигурационный файл Xorg:
</p>
<pre># rm /etc/X11/xorg.conf
</pre>
<p>3. Установите корректный видеодрайвер — см. раздел <a href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0">#Установка</a>.
</p>
<h3>
<span id=".5BERROR.5DCannot_access_secondary_GPU:_No_devices_detected"></span><span class="mw-headline" id="[ERROR]Cannot_access_secondary_GPU:_No_devices_detected">[ERROR]Cannot access secondary GPU: No devices detected</span>
</h3>
<p>В некоторых случаях запуск <code>optirun</code> возвращает сообщение об ошибке вида:
</p>
<pre>[ERROR]Cannot access secondary GPU - error: [XORG] (EE) No devices detected.
[ERROR]Aborting because fallback start is disabled.
</pre>
<p>В этом случае вам следует переместить файл <code>/etc/X11/xorg.conf.d/20-intel.conf</code> куда-нибудь в другое место,а затем <a href="../ru/Systemd.html#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D1%8E%D0%BD%D0%B8%D1%82%D0%BE%D0%B2" class="mw-redirect" title="Перезапустите">перезапустите</a> the bumblebeed демона и это должно сработать. Если же вам нужны настройки модулей Intel, то соедините файл <code>/etc/X11/xorg.conf.d/20-intel.conf</code> c <code>/etc/X11/xorg.conf</code>.
</p>
<p>Закомментируйте строку <code>Drive</code> в <code>/etc/X11/xorg.conf.d/10-monitor.conf</code>.
</p>
<p>Если вы используете драйвер <code>nouveau</code> попробуйте поменять его на <code>nvidia</code> драйвер.
</p>
<p>Вам требуется обозначить видеокарту (в конфигурационных файлах <code>/etc/X11/xorg.conf.d</code>), используя корректный <code>BusID</code> получив его выводом команды <code>lspci</code>;
</p>
<pre>Section "Device"
    Identifier "nvidiagpu1"
    Driver "nvidia"
    BusID "PCI:0:1:0"
EndSection
</pre>
<h4>
<span id="NVIDIA.280.29:_Failed_to_assign_any_connected_display_devices_to_X_screen_0"></span><span class="mw-headline" id="NVIDIA(0):_Failed_to_assign_any_connected_display_devices_to_X_screen_0">NVIDIA(0): Failed to assign any connected display devices to X screen 0</span>
</h4>
<p>Если консоль возвращает сообщения об ошибке вида:
</p>
<pre>[ERROR]Cannot access secondary GPU - error: [XORG] (EE) NVIDIA(0): Failed to assign any connected display devices to X screen 0
[ERROR]Aborting because fallback start is disabled.
</pre>
<p>Вы должны поменять эту строку в <code>/etc/bumblebee/xorg.conf.nvidia</code>:
</p>
<pre>Option "ConnectedMonitor" "DFP"
</pre>
<p>На:
</p>
<pre>Option "ConnectedMonitor" "CRT"
</pre>
<h4>
<span id="Failed_to_initialize_the_NVIDIA_GPU_at_PCI:1:0:0_.28GPU_fallen_off_the_bus_.2F_RmInitAdapter_failed.21.29"></span><span class="mw-headline" id="Failed_to_initialize_the_NVIDIA_GPU_at_PCI:1:0:0_(GPU_fallen_off_the_bus_/_RmInitAdapter_failed!)">Failed to initialize the NVIDIA GPU at PCI:1:0:0 (GPU fallen off the bus / RmInitAdapter failed!)</span>
</h4>
<p>Добавьте <code>rcutree.rcu_idle_gp_delay=1</code> в <a href="../en/Kernel_parameters.html" title="Kernel parameters">kernel parameters</a> из <a href="../en/Arch_boot_process.html#Boot_loader" class="mw-redirect" title="Bootloader">bootloader</a> конфигурации (подробнее <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=169742">BBS post</a> для примера).
</p>
<h4><span class="mw-headline" id="Could_not_load_GPU_driver">Could not load GPU driver</span></h4>
<p>Если консоль возвращает сообщения об ошибке вида:
</p>
<pre>[ERROR]Cannot access secondary GPU - error: Could not load GPU driver
</pre>
<p>И вы пробуете загрузить модуль nvidia, но получаете это:
</p>
<pre>modprobe nvidia
modprobe: ERROR: could not insert 'nvidia': Exec format error
</pre>
<p><br>
Это происходит потому,что видеодрайвер не может синхронизироваться с ядром, к примеру,если вы установили последний драйвер nvidia, но не можете обновить ядро. Полное обновление системы поможет исправить эту проблему. Если проблема не ушла,то попробуйте вручную скомпилировать пакеты nvidia для своего ядра.
Потребуются: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nvidia-dkms">nvidia-dkms</a></span> или скомпилированный <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nvidia">nvidia</a></span> из <a href="../ru/Arch_Build_System.html" title="Arch Build System (Русский)">ABS</a>.
</p>
<h4>
<span id="NOUVEAU.280.29:_.5Bdrm.5D_failed_to_set_drm_interface_version"></span><span class="mw-headline" id="NOUVEAU(0):_[drm]_failed_to_set_drm_interface_version">NOUVEAU(0): [drm] failed to set drm interface version</span>
</h4>
<p>Примите во внимание то,что nouveau драйвер в стадии тестирования. Как написано тут: <a rel="nofollow" class="external text" href="https://github.com/Bumblebee-Project/Bumblebee/issues/438#issuecomment-22005923">here</a>, лучшим выходом будет - установка официального драйвера nvidia.
</p>
<h3>
<span id=".2Fdev.2Fdri.2Fcard0:_failed_to_set_DRM_interface_version_1.4:_Permission_denied"></span><span class="mw-headline" id="/dev/dri/card0:_failed_to_set_DRM_interface_version_1.4:_Permission_denied">/dev/dri/card0: failed to set DRM interface version 1.4: Permission denied</span>
</h3>
<p>Это можно решить, добавив в <code>/etc/bumblebee/xorg.conf.nvidia</code> несколько строк. (Подробнее <a rel="nofollow" class="external text" href="https://github.com/Bumblebee-Project/Bumblebee/issues/580">тут</a>):
</p>
<pre>Section "Screen"
    Identifier "Default Screen"
    Device "DiscreteNvidia"
EndSection
</pre>
<h3>
<span id="ERROR:_ld.so:_object_.27libdlfaker.so.27_from_LD_PRELOAD_cannot_be_preloaded:_ignored"></span><span class="mw-headline" id="ERROR:_ld.so:_object_'libdlfaker.so'_from_LD_PRELOAD_cannot_be_preloaded:_ignored">ERROR: ld.so: object 'libdlfaker.so' from LD_PRELOAD cannot be preloaded: ignored</span>
</h3>
<p>Вы пытаетесь запустить 32-битное приложение. Решит проблему запуск приложения через <code>primus</code>
</p>
<h3>
<span id="Fatal_IO_error_11_.28Resource_temporarily_unavailable.29_on_X_server"></span><span class="mw-headline" id="Fatal_IO_error_11_(Resource_temporarily_unavailable)_on_X_server">Fatal IO error 11 (Resource temporarily unavailable) on X server</span>
</h3>
<p>Измените параметр <code>KeepUnusedXServer</code> в <code>/etc/bumblebee/bumblebee.conf</code> c <code>false</code> на <code>true</code>. Программа запустится в фоновом режиме и bumblebee не будет 'видеть' её.
</p>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../ru/Category:Graphics.html" title="Category:Graphics (Русский)">Graphics (Русский)</a></li>
<li><a href="../ru/Category:X_server.html" title="Category:X server (Русский)">X server (Русский)</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Bumblebee_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;oldid=615400">https://wiki.archlinux.org/index.php?title=Bumblebee_(Русский)&amp;oldid=615400</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 24 May 2020, at 08:42.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
