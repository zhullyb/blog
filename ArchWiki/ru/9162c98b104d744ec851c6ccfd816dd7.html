<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>pacman (Русский)/Tips and tricks (Русский) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Pacman_Русский_Tips_and_tricks_Русский rootpage-Pacman_Русский skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">pacman (Русский)/Tips and tricks (Русский)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"><span class="subpages">&lt; <a href="../ru/Pacman.html" title="Pacman (Русский)">Pacman (Русский)</a></span></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<p><span></span>
</p>
<div class="archwiki-template-meta-related-articles-start">
<p>Ссылки по теме</p>
<ul>
<li><a href="../ru/Mirrors.html" class="mw-redirect" title="Зеркала">Зеркала</a></li>
<li><a href="../en/Creating_packages.html" class="mw-redirect" title="Создание пакетов">Создание пакетов</a></li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Состояние перевода:</strong> На этой странице представлен перевод статьи <a href="../en/Pacman/Tips_and_tricks.html" title="Pacman/Tips and tricks">pacman/Tips and tricks</a>. Дата последней синхронизации: 4 декабря 2020. Вы можете <a href="../ru/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (Русский)">помочь</a> синхронизировать перевод, если в английской версии произошли <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Pacman/Tips_and_tricks&amp;diff=0&amp;oldid=642986">изменения</a>.</div>
<p>Полезные советы, которые расширят возможности используемых утилит и самого pacman, можно найти в статьях <a href="../ru/Core_utilities.html" class="mw-redirect" title="Базовые утилиты">Базовые утилиты</a> и <a href="../ru/Bash.html" title="Bash (Русский)">Bash</a>.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#%D0%9E%D0%B1%D1%81%D0%BB%D1%83%D0%B6%D0%B8%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5"><span class="tocnumber">1</span> <span class="toctext">Обслуживание</span></a>
<ul>
<li class="toclevel-2 tocsection-2">
<a href="#%D0%A1%D0%BF%D0%B8%D1%81%D0%BE%D0%BA_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2"><span class="tocnumber">1.1</span> <span class="toctext">Список пакетов</span></a>
<ul>
<li class="toclevel-3 tocsection-3"><a href="#%D0%A1_%D0%B2%D0%B5%D1%80%D1%81%D0%B8%D0%B5%D0%B9"><span class="tocnumber">1.1.1</span> <span class="toctext">С версией</span></a></li>
<li class="toclevel-3 tocsection-4">
<a href="#%D0%A1_%D1%80%D0%B0%D0%B7%D0%BC%D0%B5%D1%80%D0%BE%D0%BC"><span class="tocnumber">1.1.2</span> <span class="toctext">С размером</span></a>
<ul>
<li class="toclevel-4 tocsection-5"><a href="#%D0%9F%D0%BE_%D0%BE%D1%82%D0%B4%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D1%81%D1%82%D0%B8"><span class="tocnumber">1.1.2.1</span> <span class="toctext">По отдельности</span></a></li>
<li class="toclevel-4 tocsection-6"><a href="#%D0%A1_%D0%B7%D0%B0%D0%B2%D0%B8%D1%81%D0%B8%D0%BC%D0%BE%D1%81%D1%82%D1%8F%D0%BC%D0%B8"><span class="tocnumber">1.1.2.2</span> <span class="toctext">С зависимостями</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-7"><a href="#%D0%A1_%D0%B4%D0%B0%D1%82%D0%BE%D0%B9"><span class="tocnumber">1.1.3</span> <span class="toctext">С датой</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="#%D0%9D%D0%B5_%D0%B2_%D0%B3%D1%80%D1%83%D0%BF%D0%BF%D0%B5_%D0%B8%D0%BB%D0%B8_%D1%80%D0%B5%D0%BF%D0%BE%D0%B7%D0%B8%D1%82%D0%BE%D1%80%D0%B8%D0%B8"><span class="tocnumber">1.1.4</span> <span class="toctext">Не в группе или репозитории</span></a></li>
<li class="toclevel-3 tocsection-9"><a href="#%D0%92_%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B5"><span class="tocnumber">1.1.5</span> <span class="toctext">В разработке</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-10"><a href="#%D0%9F%D1%80%D0%BE%D1%81%D0%BC%D0%BE%D1%82%D1%80_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2"><span class="tocnumber">1.2</span> <span class="toctext">Просмотр пакетов</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#%D0%A1%D0%BF%D0%B8%D1%81%D0%BE%D0%BA_%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%B0_%D1%81_%D1%80%D0%B0%D0%B7%D0%BC%D0%B5%D1%80%D0%BE%D0%BC"><span class="tocnumber">1.3</span> <span class="toctext">Список файлов пакета с размером</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#%D0%9F%D0%BE%D0%B8%D1%81%D0%BA_%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2_%D0%B1%D0%B5%D0%B7_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%B0-%D0%B2%D0%BB%D0%B0%D0%B4%D0%B5%D0%BB%D1%8C%D1%86%D0%B0"><span class="tocnumber">1.4</span> <span class="toctext">Поиск файлов без пакета-владельца</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#%D0%9E%D1%82%D1%81%D0%BB%D0%B5%D0%B6%D0%B8%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%B0%D0%BC%D0%B8_%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2-%D1%81%D0%B8%D1%80%D0%BE%D1%82"><span class="tocnumber">1.5</span> <span class="toctext">Отслеживание созданных пакетами файлов-сирот</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#%D0%A3%D0%B4%D0%B0%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BD%D0%B5%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D1%83%D0%B5%D0%BC%D1%8B%D1%85_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2"><span class="tocnumber">1.6</span> <span class="toctext">Удаление неиспользуемых пакетов</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#%D0%A3%D0%B4%D0%B0%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B2%D1%81%D0%B5%D1%85_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2,_%D0%BA%D1%80%D0%BE%D0%BC%D0%B5_%D0%B1%D0%B0%D0%B7%D0%BE%D0%B2%D1%8B%D1%85"><span class="tocnumber">1.7</span> <span class="toctext">Удаление всех пакетов, кроме базовых</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#%D0%A1%D0%BF%D0%B8%D1%81%D0%BE%D0%BA_%D0%B7%D0%B0%D0%B2%D0%B8%D1%81%D0%B8%D0%BC%D0%BE%D1%81%D1%82%D0%B5%D0%B9_%D0%BD%D0%B5%D1%81%D0%BA%D0%BE%D0%BB%D1%8C%D0%BA%D0%B8%D1%85_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2"><span class="tocnumber">1.8</span> <span class="toctext">Список зависимостей нескольких пакетов</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#%D0%A1%D0%BF%D0%B8%D1%81%D0%BE%D0%BA_%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D1%91%D0%BD%D0%BD%D1%8B%D1%85_%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2_%D0%B4%D0%BB%D1%8F_%D1%80%D0%B5%D0%B7%D0%B5%D1%80%D0%B2%D0%BD%D0%BE%D0%B3%D0%BE_%D0%BA%D0%BE%D0%BF%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F"><span class="tocnumber">1.9</span> <span class="toctext">Список изменённых файлов для резервного копирования</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#%D0%A0%D0%B5%D0%B7%D0%B5%D1%80%D0%B2%D0%BD%D0%B0%D1%8F_%D0%BA%D0%BE%D0%BF%D0%B8%D1%8F_%D0%B1%D0%B0%D0%B7%D1%8B_%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85_pacman"><span class="tocnumber">1.10</span> <span class="toctext">Резервная копия базы данных pacman</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#%D0%9F%D1%80%D0%BE%D1%81%D0%BC%D0%BE%D1%82%D1%80_%D1%81%D0%BF%D0%B8%D1%81%D0%BA%D0%B0_%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D0%B9_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%B0"><span class="tocnumber">1.11</span> <span class="toctext">Просмотр списка изменений пакета</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-20">
<a href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%B8_%D0%B2%D0%BE%D1%81%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5"><span class="tocnumber">2</span> <span class="toctext">Установка и восстановление</span></a>
<ul>
<li class="toclevel-2 tocsection-21"><a href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2_%D1%81_CD/DVD_%D0%B8%D0%BB%D0%B8_USB-%D0%BD%D0%B0%D0%BA%D0%BE%D0%BF%D0%B8%D1%82%D0%B5%D0%BB%D1%8F"><span class="tocnumber">2.1</span> <span class="toctext">Установка пакетов с CD/DVD или USB-накопителя</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#%D0%A1%D0%BE%D0%B1%D1%81%D1%82%D0%B2%D0%B5%D0%BD%D0%BD%D1%8B%D0%B9_%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9_%D1%80%D0%B5%D0%BF%D0%BE%D0%B7%D0%B8%D1%82%D0%BE%D1%80%D0%B8%D0%B9"><span class="tocnumber">2.2</span> <span class="toctext">Собственный локальный репозиторий</span></a></li>
<li class="toclevel-2 tocsection-23">
<a href="#%D0%A1%D0%B5%D1%82%D0%B5%D0%B2%D0%BE%D0%B9_%D0%BA%D1%8D%D1%88_pacman_%D1%81_%D1%81%D0%BE%D0%B2%D0%BC%D0%B5%D1%81%D1%82%D0%BD%D1%8B%D0%BC_%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF%D0%BE%D0%BC"><span class="tocnumber">2.3</span> <span class="toctext">Сетевой кэш pacman с совместным доступом</span></a>
<ul>
<li class="toclevel-3 tocsection-24"><a href="#%D0%9A%D1%8D%D1%88_%D1%82%D0%BE%D0%BB%D1%8C%D0%BA%D0%BE_%D0%BD%D0%B0_%D1%87%D1%82%D0%B5%D0%BD%D0%B8%D0%B5"><span class="tocnumber">2.3.1</span> <span class="toctext">Кэш только на чтение</span></a></li>
<li class="toclevel-3 tocsection-25"><a href="#%D0%A0%D0%B0%D1%81%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D1%91%D0%BD%D0%BD%D1%8B%D0%B9_%D0%BA%D1%8D%D1%88_%D1%82%D0%BE%D0%BB%D1%8C%D0%BA%D0%BE_%D0%BD%D0%B0_%D1%87%D1%82%D0%B5%D0%BD%D0%B8%D0%B5"><span class="tocnumber">2.3.2</span> <span class="toctext">Распределённый кэш только на чтение</span></a></li>
<li class="toclevel-3 tocsection-26"><a href="#%D0%9A%D1%8D%D1%88_%D0%BD%D0%B0_%D1%87%D1%82%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B8_%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D1%8C"><span class="tocnumber">2.3.3</span> <span class="toctext">Кэш на чтение и запись</span></a></li>
<li class="toclevel-3 tocsection-27"><a href="#%D0%94%D0%B2%D1%83%D1%85%D1%81%D1%82%D0%BE%D1%80%D0%BE%D0%BD%D0%BD%D0%B8%D0%B9_%D0%BA%D1%8D%D1%88_%D0%BD%D0%B0_%D0%BE%D1%81%D0%BD%D0%BE%D0%B2%D0%B5_rsync"><span class="tocnumber">2.3.4</span> <span class="toctext">Двухсторонний кэш на основе rsync</span></a></li>
<li class="toclevel-3 tocsection-28"><a href="#%D0%94%D0%B8%D0%BD%D0%B0%D0%BC%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B9_%D0%BE%D0%B1%D1%80%D0%B0%D1%82%D0%BD%D1%8B%D0%B9_%D0%BF%D1%80%D0%BE%D0%BA%D1%81%D0%B8-%D0%BA%D1%8D%D1%88_%D0%BD%D0%B0_%D0%BE%D1%81%D0%BD%D0%BE%D0%B2%D0%B5_nginx"><span class="tocnumber">2.3.5</span> <span class="toctext">Динамический обратный прокси-кэш на основе nginx</span></a></li>
<li class="toclevel-3 tocsection-29"><a href="#%D0%9A%D1%8D%D1%88%D0%B8%D1%80%D1%83%D1%8E%D1%89%D0%B8%D0%B9_%D0%BF%D1%80%D0%BE%D0%BA%D1%81%D0%B8-%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80_Pacoloco"><span class="tocnumber">2.3.6</span> <span class="toctext">Кэширующий прокси-сервер Pacoloco</span></a></li>
<li class="toclevel-3 tocsection-30"><a href="#%D0%9A%D1%8D%D1%88%D0%B8%D1%80%D1%83%D1%8E%D1%89%D0%B8%D0%B9_%D0%BF%D1%80%D0%BE%D0%BA%D1%81%D0%B8-%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80_Flexo"><span class="tocnumber">2.3.7</span> <span class="toctext">Кэширующий прокси-сервер Flexo</span></a></li>
<li class="toclevel-3 tocsection-31"><a href="#%D0%A1%D0%B8%D0%BD%D1%85%D1%80%D0%BE%D0%BD%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F_%D0%BA%D1%8D%D1%88%D0%B0_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2_%D1%81%D0%BF%D0%B5%D1%86%D0%B8%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%BC%D0%B8_%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B0%D0%BC%D0%B8"><span class="tocnumber">2.3.8</span> <span class="toctext">Синхронизация кэша пакетов специальными программами</span></a></li>
<li class="toclevel-3 tocsection-32"><a href="#%D0%9F%D1%80%D0%B5%D0%B4%D0%BE%D1%82%D0%B2%D1%80%D0%B0%D1%89%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BD%D0%B5%D0%B6%D0%B5%D0%BB%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D0%B9_%D0%BE%D1%87%D0%B8%D1%81%D1%82%D0%BA%D0%B8_%D0%BA%D1%8D%D1%88%D0%B0_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2"><span class="tocnumber">2.3.9</span> <span class="toctext">Предотвращение нежелательной очистки кэша пакетов</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-33"><a href="#%D0%92%D0%BE%D1%81%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%B0_%D0%B8%D0%B7_%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2%D0%BE%D0%B9_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D1%8B"><span class="tocnumber">2.4</span> <span class="toctext">Воссоздание пакета из файловой системы</span></a></li>
<li class="toclevel-2 tocsection-34"><a href="#%D0%A1%D0%BF%D0%B8%D1%81%D0%BE%D0%BA_%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%BD%D1%8B%D1%85_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2"><span class="tocnumber">2.5</span> <span class="toctext">Список установленных пакетов</span></a></li>
<li class="toclevel-2 tocsection-35"><a href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2_%D0%BF%D0%BE_%D1%81%D0%BF%D0%B8%D1%81%D0%BA%D1%83"><span class="tocnumber">2.6</span> <span class="toctext">Установка пакетов по списку</span></a></li>
<li class="toclevel-2 tocsection-36"><a href="#%D0%A1%D0%BF%D0%B8%D1%81%D0%BE%D0%BA_%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D1%91%D0%BD%D0%BD%D1%8B%D1%85_%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2"><span class="tocnumber">2.7</span> <span class="toctext">Список изменённых файлов пакетов</span></a></li>
<li class="toclevel-2 tocsection-37"><a href="#%D0%9F%D0%B5%D1%80%D0%B5%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%B2%D1%81%D0%B5%D1%85_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2"><span class="tocnumber">2.8</span> <span class="toctext">Переустановка всех пакетов</span></a></li>
<li class="toclevel-2 tocsection-38"><a href="#%D0%92%D0%BE%D1%81%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%B9_%D0%B1%D0%B0%D0%B7%D1%8B_%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85"><span class="tocnumber">2.9</span> <span class="toctext">Восстановление локальной базы данных</span></a></li>
<li class="toclevel-2 tocsection-39"><a href="#%D0%92%D0%BE%D1%81%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_USB-%D0%BD%D0%BE%D1%81%D0%B8%D1%82%D0%B5%D0%BB%D1%8F_%D0%B8%D0%B7_%D1%81%D1%83%D1%89%D0%B5%D1%81%D1%82%D0%B2%D1%83%D1%8E%D1%89%D0%B5%D0%B9_%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B8"><span class="tocnumber">2.10</span> <span class="toctext">Восстановление USB-носителя из существующей установки</span></a></li>
<li class="toclevel-2 tocsection-40"><a href="#%D0%9F%D1%80%D0%BE%D1%81%D0%BC%D0%BE%D1%82%D1%80_%D0%BE%D1%82%D0%B4%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D0%B3%D0%BE_%D1%84%D0%B0%D0%B9%D0%BB%D0%B0_%D0%B2%D0%BD%D1%83%D1%82%D1%80%D0%B8_%D1%84%D0%B0%D0%B9%D0%BB%D0%B0_.pkg"><span class="tocnumber">2.11</span> <span class="toctext">Просмотр отдельного файла внутри файла .pkg</span></a></li>
<li class="toclevel-2 tocsection-41"><a href="#%D0%A1%D0%BF%D0%B8%D1%81%D0%BE%D0%BA_%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B9,_%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D1%83%D1%8E%D1%89%D0%B8%D1%85_%D1%83%D1%81%D1%82%D0%B0%D1%80%D0%B5%D0%B2%D1%88%D0%B8%D0%B5_%D0%B1%D0%B8%D0%B1%D0%BB%D0%B8%D0%BE%D1%82%D0%B5%D0%BA%D0%B8"><span class="tocnumber">2.12</span> <span class="toctext">Список приложений, использующих устаревшие библиотеки</span></a></li>
<li class="toclevel-2 tocsection-42"><a href="#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%BA%D0%BE%D0%BD%D1%82%D0%B5%D0%BD%D1%82%D0%B0_%D1%82%D0%BE%D0%BB%D1%8C%D0%BA%D0%BE_%D0%BD%D0%B0_%D0%BD%D1%83%D0%B6%D0%BD%D0%BE%D0%BC_%D1%8F%D0%B7%D1%8B%D0%BA%D0%B5"><span class="tocnumber">2.13</span> <span class="toctext">Установка контента только на нужном языке</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-43">
<a href="#%D0%9F%D1%80%D0%BE%D0%B8%D0%B7%D0%B2%D0%BE%D0%B4%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D1%81%D1%82%D1%8C"><span class="tocnumber">3</span> <span class="toctext">Производительность</span></a>
<ul>
<li class="toclevel-2 tocsection-44">
<a href="#%D0%A3%D0%B2%D0%B5%D0%BB%D0%B8%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D1%81%D0%BA%D0%BE%D1%80%D0%BE%D1%81%D1%82%D0%B8_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B8"><span class="tocnumber">3.1</span> <span class="toctext">Увеличение скорости загрузки</span></a>
<ul>
<li class="toclevel-3 tocsection-45"><a href="#Powerpill"><span class="tocnumber">3.1.1</span> <span class="toctext">Powerpill</span></a></li>
<li class="toclevel-3 tocsection-46"><a href="#wget"><span class="tocnumber">3.1.2</span> <span class="toctext">wget</span></a></li>
<li class="toclevel-3 tocsection-47"><a href="#aria2"><span class="tocnumber">3.1.3</span> <span class="toctext">aria2</span></a></li>
<li class="toclevel-3 tocsection-48"><a href="#%D0%94%D1%80%D1%83%D0%B3%D0%B8%D0%B5_%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F"><span class="tocnumber">3.1.4</span> <span class="toctext">Другие приложения</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-49">
<a href="#%D0%A3%D1%82%D0%B8%D0%BB%D0%B8%D1%82%D1%8B"><span class="tocnumber">4</span> <span class="toctext">Утилиты</span></a>
<ul>
<li class="toclevel-2 tocsection-50"><a href="#%D0%93%D1%80%D0%B0%D1%84%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5"><span class="tocnumber">4.1</span> <span class="toctext">Графические</span></a></li>
</ul>
</li>
</ul>
</div>

<h2>
<span id=".D0.9E.D0.B1.D1.81.D0.BB.D1.83.D0.B6.D0.B8.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5"></span><span class="mw-headline" id="Обслуживание">Обслуживание</span>
</h2>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> В примерах ниже используется утилита <i>comm</i>, входные данные для которой должны быть предварительно отсортированы утилитой <i>sort</i>. Вместо этого можно использовать команды <code>grep -Fxf</code> и <code>grep -Fxvf</code>.
</div>
<p>Смотрите также <a href="../ru/System_maintenance.html" class="mw-redirect" title="Обслуживание системы">Обслуживание системы</a>.
</p>
<h3>
<span id=".D0.A1.D0.BF.D0.B8.D1.81.D0.BE.D0.BA_.D0.BF.D0.B0.D0.BA.D0.B5.D1.82.D0.BE.D0.B2"></span><span class="mw-headline" id="Список_пакетов">Список пакетов</span>
</h3>
<h4>
<span id=".D0.A1_.D0.B2.D0.B5.D1.80.D1.81.D0.B8.D0.B5.D0.B9"></span><span class="mw-headline" id="С_версией">С версией</span>
</h4>
<p>При составлении отчётов об ошибках или обсуждении установленных пакетов может понадобиться составить список пакетов с версиями.
</p>
<ul>
<li>Пакеты, установленные <a href="../ru/Pacman.html#%D0%9F%D1%80%D0%B8%D1%87%D0%B8%D0%BD%D0%B0_%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B8" class="mw-redirect" title="Причина установки">явно</a>: <code>pacman -Qe</code>.</li>
<li>Пакеты в <a href="../ru/Meta_package_and_package_group.html" class="mw-redirect" title="Группа пакетов">группе</a> <code><i>группа</i></code>: <code>pacman -Sg <i>группа</i></code>.</li>
<li>Сторонние пакеты (как правило, скачаны и установлены вручную либо были удалены из репозиториев): <code>pacman -Qm</code>.</li>
<li>Пакеты из базы синхронизации: <code>pacman -Qn</code>.</li>
<li>Пакеты из базы синхронизации, установленные явно и не являющиеся зависимостями, в том числе опциональными: <code>pacman -Qent</code>.</li>
<li>Пакеты по регулярному выражению (regex): <code>pacman -Qs <i>regex</i></code>.</li>
<li>Пакеты по регулярному выражению с пользовательским форматом вывода  (требуется пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=expac">expac</a></span>): <code>expac -s '%-30n %v' <i>regex</i></code>.</li>
</ul>
<h4>
<span id=".D0.A1_.D1.80.D0.B0.D0.B7.D0.BC.D0.B5.D1.80.D0.BE.D0.BC"></span><span class="mw-headline" id="С_размером">С размером</span>
</h4>
<p>При необходимости освободить место на жёстком диске полезно будет узнать размер установленных пакетов. Можно определить как размер каждого пакета в отдельности, так и суммарный размер пакета и его зависимостей.
</p>
<h5>
<span id=".D0.9F.D0.BE_.D0.BE.D1.82.D0.B4.D0.B5.D0.BB.D1.8C.D0.BD.D0.BE.D1.81.D1.82.D0.B8"></span><span class="mw-headline" id="По_отдельности">По отдельности</span>
</h5>
<p>Список установленных пакетов с размером:
</p>
<pre>$ LC_ALL=C pacman -Qi | awk '/^Name/{name=$3} /^Installed Size/{print $4$5, name}' | sort -h
</pre>
<h5>
<span id=".D0.A1_.D0.B7.D0.B0.D0.B2.D0.B8.D1.81.D0.B8.D0.BC.D0.BE.D1.81.D1.82.D1.8F.D0.BC.D0.B8"></span><span class="mw-headline" id="С_зависимостями">С зависимостями</span>
</h5>
<p>Размеры пакетов вместе с зависимостями (два способа):
</p>
<ul>
<li>Установите пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=expac">expac</a></span> и выполните <code>expac -H M '%m\t%n' | sort -h</code>.</li>
<li>Установите пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pacgraph">pacgraph</a></span> и выполните <code>pacgraph -c</code>.</li>
</ul>
<p>Размер загружаемых пакетов (если <code><i>пакеты</i></code> не указать, то будет выведен список всех пакетов в базе синхронизации):
</p>
<pre>$ expac -S -H M '%k\t%n' <i>пакеты</i>
</pre>
<p>Размер и описание явно установленных пакетов, не входящих ни в <a href="../ru/Meta_package_and_package_group.html#%D0%A0%D0%B0%D0%B7%D0%BD%D0%B8%D1%86%D0%B0_%D0%BC%D0%B5%D0%B6%D0%B4%D1%83_%D0%BC%D0%B5%D1%82%D0%B0-%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%BC_%D0%B8_%D0%B3%D1%80%D1%83%D0%BF%D0%BF%D0%BE%D0%B9_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2" class="mw-redirect" title="Мета-пакет">мета-пакет</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=base">base</a></span>, ни в <a href="../ru/Meta_package_and_package_group.html" class="mw-redirect" title="Группа пакетов">группу пакетов</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/groups/x86_64/base-devel/">base-devel</a></span>:
</p>
<pre>$ expac -H M "%011m\t%-20n\t%10d" $(comm -23 &lt;(pacman -Qqen | sort) &lt;(pacman -Qqg base base-devel | sort)) | sort -n
</pre>
<p>Список пакетов, которым требуется обновление, с размером загрузки:
</p>
<pre>$ pacman -Quq|xargs expac -S -H M '%k\t%n' | sort -sh
</pre>
<h4>
<span id=".D0.A1_.D0.B4.D0.B0.D1.82.D0.BE.D0.B9"></span><span class="mw-headline" id="С_датой">С датой</span>
</h4>
<p>Список последних 20 установленных пакетов при помощи <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=expac">expac</a></span>:
</p>
<pre>$ expac --timefmt='%Y-%m-%d %T' '%l\t%n' | sort | tail -n 20
</pre>
<p>или в секундах с начала эпохи (1970-01-01 UTC):
</p>
<pre>$ expac --timefmt=%s '%l\t%n' | sort -n | tail -n 20
</pre>
<h4>
<span id=".D0.9D.D0.B5_.D0.B2_.D0.B3.D1.80.D1.83.D0.BF.D0.BF.D0.B5_.D0.B8.D0.BB.D0.B8_.D1.80.D0.B5.D0.BF.D0.BE.D0.B7.D0.B8.D1.82.D0.BE.D1.80.D0.B8.D0.B8"></span><span class="mw-headline" id="Не_в_группе_или_репозитории">Не в группе или репозитории</span>
</h4>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> В разделе <a href="#%D0%A3%D0%B4%D0%B0%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BD%D0%B5%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D1%83%D0%B5%D0%BC%D1%8B%D1%85_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2">#Удаление неиспользуемых пакетов</a> описано, как вывести список пакетов, которые были установлены как зависимости, но больше не нужны ни одному пакету.
</div>
<p>Список явно установленных пакетов не из <a href="../ru/Meta_package_and_package_group.html#%D0%A0%D0%B0%D0%B7%D0%BD%D0%B8%D1%86%D0%B0_%D0%BC%D0%B5%D0%B6%D0%B4%D1%83_%D0%BC%D0%B5%D1%82%D0%B0-%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%BC_%D0%B8_%D0%B3%D1%80%D1%83%D0%BF%D0%BF%D0%BE%D0%B9_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2" class="mw-redirect" title="Мета-пакет">мета-пакета</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=base">base</a></span>:
</p>
<pre>$ comm -23 &lt;(pacman -Qqe | sort) &lt;(expac -l '\n' '%E' base | sort)
</pre>
<p>Список установленных пакетов, которые не входят в мета-пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=base">base</a></span> или <a href="../ru/Meta_package_and_package_group.html" class="mw-redirect" title="Группа пакетов">группу пакетов</a> <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/groups/x86_64/base-devel/">base-devel</a></span>:
</p>
<pre>$ comm -23 &lt;(pacman -Qqe | sort) &lt;({ pacman -Qqg base-devel; expac -l '\n' '%E' base; } | sort -u )
</pre>
<p>Список установленных пакетов, которые не явлются зависимостями других пакетов и  не принадлежат мета-пакету <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=base">base</a></span> или группе пакетов <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/groups/x86_64/base-devel/">base-devel</a></span>:
</p>
<pre>$ comm -23 &lt;(pacman -Qqt | sort) &lt;({pacman -Qqg base-devel; expac -l '\n' '%E' base; } | sort -u)
</pre>
<p>То же, но с описаниями:
</p>
<pre>$ expac -H M '%-20n\t%10d' $(comm -23 &lt;(pacman -Qqt | sort) &lt;({pacman -Qqg base-devel; expac -l '\n' '%E' base; } | sort -u))
</pre>
<p>Список пакетов, установленных <b>не</b> из репозитория <code><i>имя_репозитория</i></code>:
</p>
<pre>$ comm -23 &lt;(pacman -Qq | sort) &lt;(pacman -Sql <i>имя_репозитория</i> | sort)
</pre>
<p>Список пакетов, установленных <b>из</b> репозитория <code><i>имя_репозитория</i></code> :
</p>
<pre>$ comm -12 &lt;(pacman -Qq | sort) &lt;(pacman -Sql <i>имя_репозитория</i> | sort)
</pre>
<p>Список пакетов Arch Linux ISO, которые не входят в мета-пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=base">base</a></span>:
</p>
<pre>$ comm -23 &lt;(curl https://gitlab.archlinux.org/archlinux/archiso/-/raw/master/configs/releng/packages.x86_64) &lt;(expac -l '\n' '%E' base | sort)
</pre>
<h4>
<span id=".D0.92_.D1.80.D0.B0.D0.B7.D1.80.D0.B0.D0.B1.D0.BE.D1.82.D0.BA.D0.B5"></span><span class="mw-headline" id="В_разработке">В разработке</span>
</h4>
<p>Список установленных пакетов, которые считаются нестабильными и/или находятся в стадии активной разработки:
</p>
<pre>$ pacman -Qq | grep -Ee '-(bzr|cvs|darcs|git|hg|svn)$'
</pre>
<h3>
<span id=".D0.9F.D1.80.D0.BE.D1.81.D0.BC.D0.BE.D1.82.D1.80_.D0.BF.D0.B0.D0.BA.D0.B5.D1.82.D0.BE.D0.B2"></span><span class="mw-headline" id="Просмотр_пакетов">Просмотр пакетов</span>
</h3>
<p>Следующая команда выведет информацию об установленных пакетах:
</p>
<pre>$ pacman -Qq | fzf --preview 'pacman -Qil {}' --layout=reverse --bind 'enter:execute(pacman -Qil {} | less)'
</pre>
<p>Утилита <a href="../en/Fzf.html" title="Fzf">fzf</a> выдаёт данные в терминал в виде двух панелей: названия пакетов слева, информация о них — справа.
</p>
<p>Начните вводить буквы, чтобы искать пакет по названию; навигация по списку — стрелками или комбинациями клавиш <code>Ctrl-j</code>/<code>Ctrl-k</code>; нажатие <code>Enter</code> выводит информацию о пакете в формате <i>less</i>.
</p>
<h3>
<span id=".D0.A1.D0.BF.D0.B8.D1.81.D0.BE.D0.BA_.D1.84.D0.B0.D0.B9.D0.BB.D0.BE.D0.B2_.D0.BF.D0.B0.D0.BA.D0.B5.D1.82.D0.B0_.D1.81_.D1.80.D0.B0.D0.B7.D0.BC.D0.B5.D1.80.D0.BE.D0.BC"></span><span class="mw-headline" id="Список_файлов_пакета_с_размером">Список файлов пакета с размером</span>
</h3>
<p>Если какой-то пакет стал занимать слишком много места на диске и вы хотите понять, какие файлы в этом виноваты, выполните:
</p>
<pre>$ pacman -Qql <i>пакет</i> | grep -v '/$' | xargs -r du -h | sort -h
</pre>
<h3>
<span id=".D0.9F.D0.BE.D0.B8.D1.81.D0.BA_.D1.84.D0.B0.D0.B9.D0.BB.D0.BE.D0.B2_.D0.B1.D0.B5.D0.B7_.D0.BF.D0.B0.D0.BA.D0.B5.D1.82.D0.B0-.D0.B2.D0.BB.D0.B0.D0.B4.D0.B5.D0.BB.D1.8C.D1.86.D0.B0"></span><span class="mw-headline" id="Поиск_файлов_без_пакета-владельца">Поиск файлов без пакета-владельца</span>
</h3>
<p>Если в вашей системе появились файлы, которые не принадлежат ни одному пакету (обычная ситуация, если вы не <a href="../ru/System_maintenance.html#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D1%83%D0%B9%D1%82%D0%B5_%D0%BC%D0%B5%D0%BD%D0%B5%D0%B4%D0%B6%D0%B5%D1%80_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2_%D0%B4%D0%BB%D1%8F_%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B8_%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%BD%D0%BE%D0%B3%D0%BE_%D0%BE%D0%B1%D0%B5%D1%81%D0%BF%D0%B5%D1%87%D0%B5%D0%BD%D0%B8%D1%8F" class="mw-redirect" title="Обслуживание системы">используете пакетный менеджер для установки программ</a>), то стоит их найти и удалить.
</p>
<p>Первый способ найти такие файлы — командой <code>pacreport --unowned-files</code> (пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pacutils">pacutils</a></span>) с правами root, которая, помимо прочего, выведет список "ничьих" файлов.
</p>
<p>Второй — составить список интересующих файлов и проверить их через pacman:
</p>
<pre># find /etc /usr /opt /var | LC_ALL=C pacman -Qqo - 2&gt;&amp;1 &gt; /dev/null | cut -d ' ' -f 5-
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> Скрипт <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lostfiles">lostfiles</a></span> делает то же самое, но в нём также используется обширный чёрный список для удаления из вывода наиболее часто встречающихся "ложных срабатываний".
</div>
<h3>
<span id=".D0.9E.D1.82.D1.81.D0.BB.D0.B5.D0.B6.D0.B8.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D1.81.D0.BE.D0.B7.D0.B4.D0.B0.D0.BD.D0.BD.D1.8B.D1.85_.D0.BF.D0.B0.D0.BA.D0.B5.D1.82.D0.B0.D0.BC.D0.B8_.D1.84.D0.B0.D0.B9.D0.BB.D0.BE.D0.B2-.D1.81.D0.B8.D1.80.D0.BE.D1.82"></span><span class="mw-headline" id="Отслеживание_созданных_пакетами_файлов-сирот">Отслеживание созданных пакетами файлов-сирот</span>
</h3>
<p>Как правило, в нормально функционирующей системе со временем скапливаются файлы-<a rel="nofollow" class="external text" href="http://ftp.rpm.org/max-rpm/s1-rpm-inside-files-list-directives.html#S3-RPM-INSIDE-FLIST-GHOST-DIRECTIVE">призраки</a>, вроде файлов состояний, логов, индексов и т.п.
</p>
<p>Утилита <code>pacreport</code> из пакета <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pacutils">pacutils</a></span> отслеживает такие файлы в привязке к создавшим их пакетам с помощью настроек в файле <code>/etc/pacreport.conf</code> (см. <span class="plainlinks archwiki-template-man" title="$ man 1 pacreport"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/pacreport.1#FILES">pacreport(1) § FILES</a></span>).
</p>
<p>Пример настроек (сокращённо):
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pacreport.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Options]
IgnoreUnowned = usr/share/applications/mimeinfo.cache

[PkgIgnoreUnowned]
alsa-utils = var/lib/alsa/asound.state
bluez = var/lib/bluetooth
ca-certificates = etc/ca-certificates/trust-source/*
dbus = var/lib/dbus/machine-id
glibc = etc/ld.so.cache
grub = boot/grub/*
linux = boot/initramfs-linux.img
pacman = var/lib/pacman/local
update-mime-database = usr/share/mime/magic
</pre>
<p>После этого команда <code>pacreport --unowned-files</code> с правами root выведет список файлов-сирот, если связанные с ними пакеты были удалены (или вместо старых файлов были созданы новые).
</p>
<p>Кроме того, утилита <a rel="nofollow" class="external text" href="https://github.com/CyberShadow/aconfmgr">aconfmgr</a> (<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/aconfmgr-git/">aconfmgr-git</a></span><sup><small>AUR</small></sup>) может отслеживать изменённые файлы и файлы без пакета-владельца с помощью скрипта настройки.
</p>
<h3>
<span id=".D0.A3.D0.B4.D0.B0.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BD.D0.B5.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D1.83.D0.B5.D0.BC.D1.8B.D1.85_.D0.BF.D0.B0.D0.BA.D0.B5.D1.82.D0.BE.D0.B2"></span><span class="mw-headline" id="Удаление_неиспользуемых_пакетов">Удаление неиспользуемых пакетов</span>
</h3>
<p>Команда для рекурсивного удаления пакетов-сирот и их файлов настроек:
</p>
<pre># pacman -Qqdt | pacman -Rns -
</pre>
<p>Если неиспользуемых пакетов найдено не было, <i>pacman</i> выведет сообщение <code>error: argument '-' specified with empty stdin</code>. Это нормальное поведение команды <code>pacman -Rns</code>, которой не было передано аргументов.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Параметр <code>-Qt</code> выводит только чистые пакеты-сироты. Чтобы включить список пакеты, которые являются <i>опциональными</i> зависимостями, укажите флаг <code>-t</code> дважды (например, <code>-Qtt</code>).
</div>
<h3>
<span id=".D0.A3.D0.B4.D0.B0.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B2.D1.81.D0.B5.D1.85_.D0.BF.D0.B0.D0.BA.D0.B5.D1.82.D0.BE.D0.B2.2C_.D0.BA.D1.80.D0.BE.D0.BC.D0.B5_.D0.B1.D0.B0.D0.B7.D0.BE.D0.B2.D1.8B.D1.85"></span><span class="mw-headline" id="Удаление_всех_пакетов,_кроме_базовых">Удаление всех пакетов, кроме базовых</span>
</h3>
<p>Если возникла необходимость очистить систему, оставив только базовый набор пакетов, то проще всего изменить <a href="../ru/Pacman.html#%D0%9F%D1%80%D0%B8%D1%87%D0%B8%D0%BD%D0%B0_%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B8" class="mw-redirect" title="Причина установки">причину установки</a> ненужных пакетов на "зависимость", после чего удалить неиспользуемые зависимости.
</p>
<p>Сначала измените причину установки всех явно установленных пакетов на "зависимость":
</p>
<pre># pacman -D --asdeps $(pacman -Qqe)
</pre>
<p>Затем измените причину установки пакетов, которые вы удалять <b>не</b> хотите, на "установлен явно":
</p>
<pre># pacman -D --asexplicit base linux linux-firmware
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> 
<ul>
<li>В последней команде следует указать все пакеты, которые должны остаться в системе. В статье <a href="../ru/Installation_guide.html#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%BE%D1%81%D0%BD%D0%BE%D0%B2%D0%BD%D1%8B%D1%85_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2" class="mw-redirect" title="Руководство по установке">Руководство по установке#Установка основных пакетов</a> перечислены пакеты, которые нужны для нормального функционирования базовой системы.</li>
<li>Последняя команда удалит также и пакет программы-загрузчика. Система всё ещё будет загружаться, но изменить параметры загрузки станет невозможно.</li>
</ul>
</div>
<p>Наконец, удалите ненужные пакеты-зависимости, как описано в разделе <a href="#%D0%A3%D0%B4%D0%B0%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BD%D0%B5%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D1%83%D0%B5%D0%BC%D1%8B%D1%85_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2">#Удаление неиспользуемых пакетов</a>.
</p>
<h3>
<span id=".D0.A1.D0.BF.D0.B8.D1.81.D0.BE.D0.BA_.D0.B7.D0.B0.D0.B2.D0.B8.D1.81.D0.B8.D0.BC.D0.BE.D1.81.D1.82.D0.B5.D0.B9_.D0.BD.D0.B5.D1.81.D0.BA.D0.BE.D0.BB.D1.8C.D0.BA.D0.B8.D1.85_.D0.BF.D0.B0.D0.BA.D0.B5.D1.82.D0.BE.D0.B2"></span><span class="mw-headline" id="Список_зависимостей_нескольких_пакетов">Список зависимостей нескольких пакетов</span>
</h3>
<p>Ниже приведена команда для вывода списка зависимостей нескольких пакетов, отсортированого в алфавитном порядке с удалением дубликатов.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Чтобы вывести информацию только для пакетов, установленных в системе, в команде ниже используйте <code>pacman -Qi</code>.
</div>
<pre>$ LC_ALL=C pacman -Si <i>пакеты</i> | awk -F'[:&lt;=&gt;]' '/^Depends/ {print $2}' | xargs -n1 | sort -u
</pre>
<p>То же самое, с помощью <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=expac">expac</a></span>:
</p>
<pre>$ expac -l '\n' %E -S <i>пакеты</i> | sort -u
</pre>
<h3>
<span id=".D0.A1.D0.BF.D0.B8.D1.81.D0.BE.D0.BA_.D0.B8.D0.B7.D0.BC.D0.B5.D0.BD.D1.91.D0.BD.D0.BD.D1.8B.D1.85_.D1.84.D0.B0.D0.B9.D0.BB.D0.BE.D0.B2_.D0.B4.D0.BB.D1.8F_.D1.80.D0.B5.D0.B7.D0.B5.D1.80.D0.B2.D0.BD.D0.BE.D0.B3.D0.BE_.D0.BA.D0.BE.D0.BF.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D1.8F"></span><span class="mw-headline" id="Список_изменённых_файлов_для_резервного_копирования">Список изменённых файлов для резервного копирования</span>
</h3>
<p>Если вы собираетесь сделать резервную копию файлов системных настроек, то самым простым решением будет скопировать целиком каталог <code>/etc/</code>. Однако правильнее будет выполнить копирование только для тех файлов, которые были изменены. Модифицированные <a href="../ru/d98c79051c45054565deb493e3bb3766.html#%D0%A0%D0%B5%D0%B7%D0%B5%D1%80%D0%B2%D0%BD%D1%8B%D0%B5_%D0%BA%D0%BE%D0%BF%D0%B8%D0%B8_%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%B0" title="Pacman (Русский)/Pacnew and Pacsave (Русский)">резервные копии</a> файлов можно найти следующей командой:
</p>
<pre># pacman -Qii | awk '/^MODIFIED/ {print $2}'
</pre>
<p>Команда должна выполняться с правами root, чтобы в список вошли файлы, владельцем которых является суперпользователь (вроде файла <code>/etc/sudoers</code>).
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> В разделе <a href="#%D0%A1%D0%BF%D0%B8%D1%81%D0%BE%D0%BA_%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D1%91%D0%BD%D0%BD%D1%8B%D1%85_%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2">#Список изменённых файлов пакетов</a> описано, как вывести список всех известных pacman изменённых файлов, а не только файлы с резервными копиями.
</div>
<h3>
<span id=".D0.A0.D0.B5.D0.B7.D0.B5.D1.80.D0.B2.D0.BD.D0.B0.D1.8F_.D0.BA.D0.BE.D0.BF.D0.B8.D1.8F_.D0.B1.D0.B0.D0.B7.D1.8B_.D0.B4.D0.B0.D0.BD.D0.BD.D1.8B.D1.85_pacman"></span><span class="mw-headline" id="Резервная_копия_базы_данных_pacman">Резервная копия базы данных pacman</span>
</h3>
<p>Следующая команда создаст резервную копию локальной базы данных pacman:
</p>
<pre>$ tar -cjf pacman_database.tar.bz2 /var/lib/pacman/local
</pre>
<p>Сохраните резервную копию на одном или нескольких внешних устройствах, вроде USB-накопителя, внешнего жесткого диска или CD-R.
</p>
<p>Чтобы восстановить базу данных, поместите файл <code>pacman_database.tar.bz2</code> в каталог <code>/</code> и выполните:
</p>
<pre># tar -xjvf pacman_database.tar.bz2
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Если файлы базы данных pacman повреждены, а резервные копии отсутствуют, надежда на восстановление базы данных всё же остаётся. Подробнее см. <a href="#%D0%92%D0%BE%D1%81%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%B9_%D0%B1%D0%B0%D0%B7%D1%8B_%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85">#Восстановление локальной базы данных</a>.
</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> Пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/pakbak-git/">pakbak-git</a></span><sup><small>AUR</small></sup> содержит скрипт и службу <a href="../ru/Systemd.html" title="Systemd (Русский)">systemd</a> для автоматизации этой задачи. Настройка осуществляется с помощью файла <code>/etc/pakbak.conf</code>.
</div>
<h3>
<span id=".D0.9F.D1.80.D0.BE.D1.81.D0.BC.D0.BE.D1.82.D1.80_.D1.81.D0.BF.D0.B8.D1.81.D0.BA.D0.B0_.D0.B8.D0.B7.D0.BC.D0.B5.D0.BD.D0.B5.D0.BD.D0.B8.D0.B9_.D0.BF.D0.B0.D0.BA.D0.B5.D1.82.D0.B0"></span><span class="mw-headline" id="Просмотр_списка_изменений_пакета">Просмотр списка изменений пакета</span>
</h3>
<p>При внесении изменений в состав пакета сопроводители часто подробно комментируют произведённые правки. Утилита <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/pacolog/">pacolog</a></span><sup><small>AUR</small></sup> позволяет просматривать эти комментарии из командной строки. Команда <code>pacolog <i>пакет</i></code> выведет последние сообщения о правках для пакетов из официальных репозиториев и AUR.
</p>
<h2>
<span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_.D0.B8_.D0.B2.D0.BE.D1.81.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5"></span><span class="mw-headline" id="Установка_и_восстановление">Установка и восстановление</span>
</h2>
<p>Альтернативные способы получения и восстановления пакетов.
</p>
<h3>
<span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_.D0.BF.D0.B0.D0.BA.D0.B5.D1.82.D0.BE.D0.B2_.D1.81_CD.2FDVD_.D0.B8.D0.BB.D0.B8_USB-.D0.BD.D0.B0.D0.BA.D0.BE.D0.BF.D0.B8.D1.82.D0.B5.D0.BB.D1.8F"></span><span class="mw-headline" id="Установка_пакетов_с_CD/DVD_или_USB-накопителя">Установка пакетов с CD/DVD или USB-накопителя</span>
</h3>
<p>Загрузите пакеты или группы пакетов:
</p>
<pre># cd ~/Packages
# pacman -Syw base base-devel grub-bios xorg gimp --cachedir .
# repo-add ./custom.db.tar.gz ./*
</pre>
<p>Затем запишите каталог <code>Packages</code> на CD/DVD, USB-накопитель, внешний жёсткий диск и т.д.
</p>
<p>Установка пакетов:
</p>
<p><b>1.</b> Примонтируйте носитель:
</p>
<pre># mkdir /mnt/repo
# mount /dev/sr0 /mnt/repo    # Для CD/DVD.
# mount /dev/sdxY /mnt/repo   # Для USB.
</pre>
<p><b>2.</b> Отредактируйте файл <code>pacman.conf</code>, добавив свой репозиторий <i>перед</i> всеми остальными (extra, core и др.). Это необходимо, чтобы пакеты на CD/DVD/USB получили приоритет над пакетами в стандартных репозиториях:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pacman.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[custom]
SigLevel = PackageRequired
Server = file:///mnt/repo/Packages</pre>
<p><b>3.</b> В заключение, синхронизируйте базу данных pacman, чтобы получить доступ к новому репозиторию:
</p>
<pre># pacman -Syu
</pre>
<h3>
<span id=".D0.A1.D0.BE.D0.B1.D1.81.D1.82.D0.B2.D0.B5.D0.BD.D0.BD.D1.8B.D0.B9_.D0.BB.D0.BE.D0.BA.D0.B0.D0.BB.D1.8C.D0.BD.D1.8B.D0.B9_.D1.80.D0.B5.D0.BF.D0.BE.D0.B7.D0.B8.D1.82.D0.BE.D1.80.D0.B8.D0.B9"></span><span class="mw-headline" id="Собственный_локальный_репозиторий">Собственный локальный репозиторий</span>
</h3>
<p>Скрипт <i>repo-add</i> (входит в состав <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pacman">pacman</a></span>) может создать базу данных для личного репозитория. Команда <code>repo-add --help</code> выведет краткую информацию о работе утилиты. База данных пакетов представляет собой tar-файл, возможно сжатый, с суффиксом <i>.db</i> или <i>.files</i>, за которым следует суффикс архива <i>.tar</i>, <i>.tar.gz</i>, <i>.tar.bz2</i>, <i>.tar.xz</i>, <i>.tar.zst</i> или <i>.tar.Z</i>. На момент запуска утилиты базы может ещё не быть, но родительские каталоги уже должны быть созданы.
</p>
<p>Следующая команда добавляет новый пакет к базе данных или заменяет старую версию существующего пакета на более новую:
</p>
<pre>$ repo-add <i>/путь/к/репозиторию.db.tar.gz /путь/к/пакету-1.0-1-x86_64.pkg.tar.xz</i>
</pre>
<p>Для работы repo-add база данных и пакеты могут храниться в разных каталогах, но когда вы станете работать с базой через pacman, её нужно объединить с пакетами в одном месте. Хранение всех пакетов репозитория в одном каталоге также позволяет использовать подстановочные символы в командной оболочке, чтобы добавлять или обновлять несколько пакетов за раз:
</p>
<pre>$ repo-add <i>/путь/к/репозиторию.db.tar.gz /путь/к/*.pkg.tar.xz</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> <i>repo-add</i> добавляет элементы в базу данных в том порядке, в каком получает их из командной строки. Если добавляется несколько разных версий одного и того же пакета, убедитесь, что правильная версия указана последней. В частности, обратите внимание, что лексический порядок командной оболочки зависит от локали и может отличаться от правил сравнения версий пакетов pacman (см. <span class="plainlinks archwiki-template-man" title="$ man 8 vercmp"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/vercmp.8">vercmp(8)</a></span>).
</div>
<p>Если вы собираетесь поддерживать несколько версий пакета для разных архитектур, то следует соблюдать некоторые предосторожности. Под каждую архитектуру должен быть выделен отдельный каталог:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ tree ~/customrepo/ | sed "s/$(uname -m)/<i>архитектура</i>/g"</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/home/archie/customrepo/
└── <i>архитектура</i>
    ├── customrepo.db -&gt; customrepo.db.tar.xz
    ├── customrepo.db.tar.xz
    ├── customrepo.files -&gt; customrepo.files.tar.xz
    ├── customrepo.files.tar.xz
    └── personal-website-git-b99cce0-1-<i>архитектура</i>.pkg.tar.xz

1 directory, 5 files
</pre>
<p>При запуске repo-add проверяет, подходят ли пакеты для добавления в базу. Если нет, то появится сообщение об ошибке:
</p>
<pre>==&gt; ERROR: '/home/archie/customrepo/<i>архитектура</i>/foo-<i>архитектура</i>.pkg.tar.xz' does not have a valid database archive extension.
</pre>
<p>Утилита <i>repo-remove</i> удаляет пакеты из базы данных:
</p>
<pre>$ repo-remove <i>/путь/к/repo.db.tar.gz пакеты</i>
</pre>
<p>После создания локальной базы данных укажите репозиторий в файле <code>pacman.conf</code> на каждой системе, где он будет использоваться. Пример настроек пользовательского репозитория можно найти в самом файле. Название репозитория представляет собой имя файла базы данных без суффикса. В примере выше репозиторий называется <code>repo</code>. Ссылаться на репозиторий можно по URL <code>file://</code> или через FTP <code>ftp://localhost/path/to/directory</code>.
</p>
<p>При желании добавьте свой репозиторий в <a href="../en/Unofficial_user_repositories.html" title="Unofficial user repositories">список неофициальных репозиториев</a>, чтобы сообщество могло извлечь из него пользу.
</p>
<h3>
<span id=".D0.A1.D0.B5.D1.82.D0.B5.D0.B2.D0.BE.D0.B9_.D0.BA.D1.8D.D1.88_pacman_.D1.81_.D1.81.D0.BE.D0.B2.D0.BC.D0.B5.D1.81.D1.82.D0.BD.D1.8B.D0.BC_.D0.B4.D0.BE.D1.81.D1.82.D1.83.D0.BF.D0.BE.D0.BC"></span><span class="mw-headline" id="Сетевой_кэш_pacman_с_совместным_доступом">Сетевой кэш pacman с совместным доступом</span>
</h3>
<p>Если в вашей локальной сети есть несколько машин с Arch Linux, сетевой кэш позволит значительно уменьшить время загрузки новых пакетов. При этом важно помнить, что в кэше не должно быть пакетов для разных архитектур (например, i686 и x86_64), иначе возникнут проблемы.
</p>
<h4>
<span id=".D0.9A.D1.8D.D1.88_.D1.82.D0.BE.D0.BB.D1.8C.D0.BA.D0.BE_.D0.BD.D0.B0_.D1.87.D1.82.D0.B5.D0.BD.D0.B8.D0.B5"></span><span class="mw-headline" id="Кэш_только_на_чтение">Кэш только на чтение</span>
</h4>
<p>В качестве быстрого решения подойдёт веб-сервер <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=darkhttpd">darkhttpd</a></span>. Остальные машины будут использовать его в качестве зеркала для скачивания пакетов:
</p>
<pre># ln -s /var/lib/pacman/sync/*.db /var/cache/pacman/pkg
$ sudo -u http darkhttpd /var/cache/pacman/pkg --no-server-id
</pre>
<p>darkhttpd можно также запустить как службу <a href="../ru/Systemd.html" title="Systemd (Русский)">systemd</a>. Добавьте свой сервер в список зеркал <code>/etc/pacman.d/mirrorlist</code> на клиентских машинах строкой <code>Server = http://<i>зеркало</i>:8080</code>. Убедитесь, что зеркало обновляется.
</p>
<p>Если вы уже запустили веб-сервер для каких-то других целей, его можно использовать как сервер локального репозитория вместо darkhttpd. Например, для сервера <a href="../ru/Nginx.html" title="Nginx (Русский)">nginx</a> добавьте в настройки блок правил <code>server</code> с указанием прослушивать порт 8080:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/nginx/nginx.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">server {
    listen 8080;
    root /var/cache/pacman/pkg;
    server_name myarchrepo.localdomain;
    try_files $uri $uri/;
}
</pre>
<p>Не забудьте после этого перезапустить nginx.
</p>
<p>Какой бы веб-сервер вы ни использовали, нужно открыть порт 8080 для трафика из локальной сети (и, при необходимости, включить блокировку пакетов, приходящих извне). Добавьте правило <a href="../ru/Iptables.html" title="Iptables (Русский)">iptables</a>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/iptables/iptables.rules</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">-A TCP -s 192.168.0.0/16 -p tcp -m tcp --dport 8080 -j ACCEPT
</pre>
<p>После этого необходимо перезапустить iptables.
</p>
<h4>
<span id=".D0.A0.D0.B0.D1.81.D0.BF.D1.80.D0.B5.D0.B4.D0.B5.D0.BB.D1.91.D0.BD.D0.BD.D1.8B.D0.B9_.D0.BA.D1.8D.D1.88_.D1.82.D0.BE.D0.BB.D1.8C.D0.BA.D0.BE_.D0.BD.D0.B0_.D1.87.D1.82.D0.B5.D0.BD.D0.B8.D0.B5"></span><span class="mw-headline" id="Распределённый_кэш_только_на_чтение">Распределённый кэш только на чтение</span>
</h4>
<p>В Arch Linux есть несколько инструментов, которые выполняют автоматический поиск кэша пакетов на других компьютерах в локальной сети. Среди них <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pacredir">pacredir</a></span>, <a href="../en/Pacserve.html" title="Pacserve">pacserve</a>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/pkgdistcache/">pkgdistcache</a></span><sup><small>AUR</small></sup> и <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/paclan/">paclan</a></span><sup><small>AUR</small></sup>. pkgdistcache использует Avahi вместо чистого UDP, который может работать лучше в некоторых домашних сетях, где используется связка WiFi и Ethernet.
</p>
<p>Также раньше использовались утилиты <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=64391">PkgD</a> и <a rel="nofollow" class="external text" href="https://github.com/toofishes/multipkg">multipkg</a>, но их разработка была прекращена.
</p>
<h4>
<span id=".D0.9A.D1.8D.D1.88_.D0.BD.D0.B0_.D1.87.D1.82.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B8_.D0.B7.D0.B0.D0.BF.D0.B8.D1.81.D1.8C"></span><span class="mw-headline" id="Кэш_на_чтение_и_запись">Кэш на чтение и запись</span>
</h4>
<p>Чтобы несколько машин могли работать с общим кэшем пакетов, откройте совместный доступ к каталогу <code>/var/cache/pacman/</code> с помощью любого сетевого протокола монтирования файловых систем. В этом разделе описано, как использовать <a href="../en/Shfs.html" title="Shfs">shfs</a> и <a href="../ru/SSHFS.html" title="SSHFS (Русский)">SSHFS</a> для организации совместного доступа к кэшу пакетов и некоторым каталогам с библиотеками в локальной сети. Имейте в виду, что сетевой кэш может быть довольно медленным, в том числе и из-за выбранной файловой системы.
</p>
<p>Во-первых, установите любой пакет с поддержкой сетевых файловых систем: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=shfs-utils">shfs-utils</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=sshfs">sshfs</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=curlftpfs">curlftpfs</a></span>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=samba">samba</a></span> или <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nfs-utils">nfs-utils</a></span>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> 
<ul>
<li>Полезную информацию о работе с <i>sshfs</i> и <i>shfs</i> можно найти в статье <a href="../ru/SSH_keys.html" class="mw-redirect" title="Ключи SSH">Ключи SSH</a>.</li>
<li>
<i>smbfs</i> по умолчанию не умеет работать с файлами, имена которых содержат двоеточия. В итоге клиент будет загружать такие пакеты заново при каждом обновлении. Чтобы это предотвратить, используйте на системе-клиенте опцию монтирования <code>mapchars</code>.</li>
</ul>
</div>
<p>Теперь, чтобы открыть совместный доступ к пакетам, смонтируйте каталог сервера <code>/var/cache/pacman/pkg</code> в каталог <code>/var/cache/pacman/pkg</code> на клиентских машинах.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> Не следует делать каталог <code>/var/cache/pacman/pkg</code> или один из его родительских каталогов (например, <code>/var/</code>) символической ссылкой. Pacman ожидает, что это будут именно каталоги. Когда pacman будет переустанавливать или обновлять самого себя, он удалит все символические ссылки и создаст вместо них пустые каталоги. Одноко поскольку при этом pacman полагается на некоторые файлы в этих каталогах, то процесс обновления будет нарушен. Подробнее см. <a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/50298">FS#50298</a>.
</div>
<h4>
<span id=".D0.94.D0.B2.D1.83.D1.85.D1.81.D1.82.D0.BE.D1.80.D0.BE.D0.BD.D0.BD.D0.B8.D0.B9_.D0.BA.D1.8D.D1.88_.D0.BD.D0.B0_.D0.BE.D1.81.D0.BD.D0.BE.D0.B2.D0.B5_rsync"></span><span class="mw-headline" id="Двухсторонний_кэш_на_основе_rsync">Двухсторонний кэш на основе rsync</span>
</h4>
<p>Другой подход к созданию сетевого кэша — использовать <a href="../ru/Rsync.html" title="Rsync (Русский)">rsync</a>. Настройте сервер кэша, запустите на нём <a href="../ru/Rsync.html#%D0%94%D0%B5%D0%BC%D0%BE%D0%BD_rsync" title="Rsync (Русский)">демон rsync</a> и выполните двухсторонную синхронизацию между сервером и клиентскими машинами по протоколу rsync. В этом случае имена файлов с двоеточиями проблемы не создадут.
</p>
<p>Ниже приведён пример работы с кэшем на машине-клиенте. Команда <code>uname -m</code> позволяет выполнить синхронизацию пакетов с учётом архитектуры:
</p>
<pre> # rsync rsync://server/share_$(uname -m)/ /var/cache/pacman/pkg/ ...
 # pacman ...
 # paccache ...
 # rsync /var/cache/pacman/pkg/ rsync://server/share_$(uname -m)/  ...
</pre>
<h4>
<span id=".D0.94.D0.B8.D0.BD.D0.B0.D0.BC.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.B8.D0.B9_.D0.BE.D0.B1.D1.80.D0.B0.D1.82.D0.BD.D1.8B.D0.B9_.D0.BF.D1.80.D0.BE.D0.BA.D1.81.D0.B8-.D0.BA.D1.8D.D1.88_.D0.BD.D0.B0_.D0.BE.D1.81.D0.BD.D0.BE.D0.B2.D0.B5_nginx"></span><span class="mw-headline" id="Динамический_обратный_прокси-кэш_на_основе_nginx">Динамический обратный прокси-кэш на основе nginx</span>
</h4>
<p>Сервер <a href="../ru/Nginx.html" title="Nginx (Русский)">nginx</a> может работать в качестве посредника для запросов пакетов на официальные upstream-зеркала, кэшируя ответы на локальном диске. Все последующие запросы к этим пакетам будут адресоваться к локальному кэшу, минимизируя интернет-трафик при обновлении большого количества компьютеров.
</p>
<p>В примере ниже кэширующий сервер запущен на адресе <code>http://cache.domain.example:8080/</code>. Пакеты хранятся в каталоге <code>/srv/http/pacman-cache/</code>. 
</p>
<p>Установите <a href="../ru/Nginx.html" title="Nginx (Русский)">nginx</a> на машине, предназначенной для хранения кэша. Создайте каталог кэша с необходимыми разрешениями, чтобы nginx мог записывать в него файлы:
</p>
<pre># mkdir /srv/http/pacman-cache
# chown http:http /srv/http/pacman-cache
</pre>
<p>Используйте <a rel="nofollow" class="external text" href="https://github.com/nastasie-octavian/nginx_pacman_cache_config/blob/c54eca4776ff162ab492117b80be4df95880d0e2/nginx.conf">этот</a> файл настроек в качестве отправной точки для редактирования <code>/etc/nginx/nginx.conf</code>. Проверьте, чтобы директива <code>resolver</code> работала так, как ожидается. В блоках правил исходящех запросов <code>server</code> укажите директиву <code>proxy_pass</code> с адресами официальных зеркал (пример ожидаемого формата этой директивы можно найти в самом файле настроек). После настройки <a href="../ru/Nginx.html#%D0%97%D0%B0%D0%BF%D1%83%D1%81%D0%BA" title="Nginx (Русский)">включите и запустите</a> nginx.
</p>
<p>Чтобы использовать кэш на каждом компьютере с Arch Linux (включая тот, который хранит кэш), нужно добавить следующую строку в начало файла <code>mirrorlist</code>:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pacman.d/mirrorlist</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Server = http://cache.domain.example:8080/$repo/os/$arch
...
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Поскольку каталог кэша будет расти с течением времени, необходимо предусмотреть метод удаления старых пакетов. Утилита <code>paccache</code> (входит в пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pacman-contrib">pacman-contrib</a></span>) автоматизирует очистку в соответствии с различными критериями. Например, команда <code>find /srv/http/pacman-cache/ -type d -exec paccache -v -r -k 2 -c {} \;</code> оставит в кэше только две последние версии каждого пакета.
</div>
<h4>
<span id=".D0.9A.D1.8D.D1.88.D0.B8.D1.80.D1.83.D1.8E.D1.89.D0.B8.D0.B9_.D0.BF.D1.80.D0.BE.D0.BA.D1.81.D0.B8-.D1.81.D0.B5.D1.80.D0.B2.D0.B5.D1.80_Pacoloco"></span><span class="mw-headline" id="Кэширующий_прокси-сервер_Pacoloco">Кэширующий прокси-сервер Pacoloco</span>
</h4>
<p><a rel="nofollow" class="external text" href="https://github.com/anatol/pacoloco">Pacoloco</a> — простой прокси-сервер для кэша пакетов из репозиториев pacman. Устанавливается с пакетом <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/pacoloco-git/">pacoloco-git</a></span><sup><small>AUR</small></sup>. Откройте файл настроек и добавьте зеркала pacman:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pacoloco.yaml</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">port: 9129
repos:
  mycopy:
    urls:
      - http://mirror.lty.me/archlinux
      - http://mirrors.kernel.org/archlinux
</pre>
<p><a href="../ru/Systemd.html#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D1%8E%D0%BD%D0%B8%D1%82%D0%BE%D0%B2" class="mw-redirect" title="Перезапустите">Перезапустите</a> <code>pacoloco.service</code> и после этого прокси-репозиторий будет доступен по адресу <code>http://<i>сервер</i>:9129/repo/mycopy</code>.
</p>
<h4>
<span id=".D0.9A.D1.8D.D1.88.D0.B8.D1.80.D1.83.D1.8E.D1.89.D0.B8.D0.B9_.D0.BF.D1.80.D0.BE.D0.BA.D1.81.D0.B8-.D1.81.D0.B5.D1.80.D0.B2.D0.B5.D1.80_Flexo"></span><span class="mw-headline" id="Кэширующий_прокси-сервер_Flexo">Кэширующий прокси-сервер Flexo</span>
</h4>
<p><a rel="nofollow" class="external text" href="https://github.com/nroi/flexo">Flexo</a> — ещё один кэширующий прокси для репозиториев pacman. Flexo доступен в AUR: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/flexo-git/">flexo-git</a></span><sup><small>AUR</small></sup>. После установки <a href="../ru/Systemd.html#%D0%98%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5_%D1%8E%D0%BD%D0%B8%D1%82%D0%BE%D0%B2" class="mw-redirect" title="Запустите">запустите</a> службу <code>flexo.service</code>.
</p>
<p>Flexo по умолчанию работает на порте 7878. Добавьте строку <code>Server = http://<i>мой_сервер</i>:7878/$repo/os/$arch</code> в самое начало файла <code>/etc/pacman.d/mirrorlist</code>, чтобы pacman загружал пакеты через Flexo.
</p>
<h4>
<span id=".D0.A1.D0.B8.D0.BD.D1.85.D1.80.D0.BE.D0.BD.D0.B8.D0.B7.D0.B0.D1.86.D0.B8.D1.8F_.D0.BA.D1.8D.D1.88.D0.B0_.D0.BF.D0.B0.D0.BA.D0.B5.D1.82.D0.BE.D0.B2_.D1.81.D0.BF.D0.B5.D1.86.D0.B8.D0.B0.D0.BB.D1.8C.D0.BD.D1.8B.D0.BC.D0.B8_.D0.BF.D1.80.D0.BE.D0.B3.D1.80.D0.B0.D0.BC.D0.BC.D0.B0.D0.BC.D0.B8"></span><span class="mw-headline" id="Синхронизация_кэша_пакетов_специальными_программами">Синхронизация кэша пакетов специальными программами</span>
</h4>
<p>Утилиты <a href="../en/Syncthing.html" title="Syncthing">Syncthing</a> и <a href="../en/Resilio_Sync.html" title="Resilio Sync">Resilio Sync</a> можно использовать для синхронизации каталогов кэша pacman (например, <code>/var/cache/pacman/pkg</code>).
</p>
<h4>
<span id=".D0.9F.D1.80.D0.B5.D0.B4.D0.BE.D1.82.D0.B2.D1.80.D0.B0.D1.89.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BD.D0.B5.D0.B6.D0.B5.D0.BB.D0.B0.D1.82.D0.B5.D0.BB.D1.8C.D0.BD.D0.BE.D0.B9_.D0.BE.D1.87.D0.B8.D1.81.D1.82.D0.BA.D0.B8_.D0.BA.D1.8D.D1.88.D0.B0_.D0.BF.D0.B0.D0.BA.D0.B5.D1.82.D0.BE.D0.B2"></span><span class="mw-headline" id="Предотвращение_нежелательной_очистки_кэша_пакетов">Предотвращение нежелательной очистки кэша пакетов</span>
</h4>
<p>По умолчанию команда <code>pacman -Sc</code> очищает кэш от старых версий пакетов, которые были удалены из системы. В условиях совместного доступа к кэшу от нескольких машин в локальной сети pacman не может достоверно определить, какие пакеты установлены на каждой системе. По этой причине очистку кэша нужно ограничить.
</p>
<p>Добавьте следующий пункт в раздел <code>[options]</code> файла <code>/etc/pacman.conf</code>, чтобы удалялись только устаревшие версии пакетов:
</p>
<pre>CleanMethod = KeepCurrent
</pre>
<h3>
<span id=".D0.92.D0.BE.D1.81.D1.81.D0.BE.D0.B7.D0.B4.D0.B0.D0.BD.D0.B8.D0.B5_.D0.BF.D0.B0.D0.BA.D0.B5.D1.82.D0.B0_.D0.B8.D0.B7_.D1.84.D0.B0.D0.B9.D0.BB.D0.BE.D0.B2.D0.BE.D0.B9_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC.D1.8B"></span><span class="mw-headline" id="Воссоздание_пакета_из_файловой_системы">Воссоздание пакета из файловой системы</span>
</h3>
<p>С помощью пакета <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/fakepkg/">fakepkg</a></span><sup><small>AUR</small></sup> можно воссоздать пакет из файловой системы. Файлы будут собраться в том виде, в каком они есть, следовательно, сделанные в них изменения войдут в "собранный" пакет. Поэтой причине распространять пакет среди других пользователей не рекомендуется; для этого гораздо лучше подойдёт <a href="../ru/Arch_Build_System.html" class="mw-redirect" title="Система сборки Arch">система сборки Arch</a> или <a href="../en/Arch_Linux_Archive.html" title="Arch Linux Archive">архив Arch Linux</a>.
</p>
<h3>
<span id=".D0.A1.D0.BF.D0.B8.D1.81.D0.BE.D0.BA_.D1.83.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.D0.BD.D1.8B.D1.85_.D0.BF.D0.B0.D0.BA.D0.B5.D1.82.D0.BE.D0.B2"></span><span class="mw-headline" id="Список_установленных_пакетов">Список установленных пакетов</span>
</h3>
<p>Создание списка <a href="../ru/Pacman.html#%D0%9F%D1%80%D0%B8%D1%87%D0%B8%D0%BD%D0%B0_%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B8" class="mw-redirect" title="Причина установки">явно установленных</a> пакетов может оказаться полезным, если вы собираетесь сделать резервную копию системы или ускорить процесс установки на новой машине:
</p>
<pre>$ pacman -Qqe &gt; pkglist.txt
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> 
<ul>
<li>С параметром <code>-t</code> в список не будут включены пакеты, которые нужны другим явно установленным пакетам. При переустановке по этому списку они всё равно будут установлены, но уже как зависимости.</li>
<li>С опцией <code>-n</code> в список не войдут внешние пакеты (например, из <a href="../ru/Arch_User_Repository.html" class="mw-redirect" title="Пользовательский репозиторий Arch">АУР</a>).</li>
<li>Команда <code>comm -13 &lt;(pacman -Qqdt | sort) &lt;(pacman -Qqdtt | sort) &gt; optdeplist.txt</code> создаст список установленных опциональных зависимостей, которые можно будет переустановить с параметром <code>--asdeps</code>.</li>
<li>Команда <code>pacman -Qqem &gt; foreignpkglist.txt</code> создаст список пакетов из AUR и других внешних пакетов, которые были установлены явно.</li>
</ul>
</div>
<p><a href="../ru/Pacman.html#%D0%A5%D1%83%D0%BA%D0%B8" title="Pacman (Русский)">Хук</a> pacman позволит автоматизировать обновление списка пакетов. Пример:
</p>
<pre>[Trigger]
Operation = Install
Operation = Remove
Type = Package
Target = *

[Action]
When = PostTransaction
Exec = /bin/sh -c '/usr/bin/pacman -Qqe &gt; /etc/pkglist.txt'
</pre>
<h3>
<span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_.D0.BF.D0.B0.D0.BA.D0.B5.D1.82.D0.BE.D0.B2_.D0.BF.D0.BE_.D1.81.D0.BF.D0.B8.D1.81.D0.BA.D1.83"></span><span class="mw-headline" id="Установка_пакетов_по_списку">Установка пакетов по списку</span>
</h3>
<p>Следующая команда установит пакеты в соответствии с ранее созданным списком, при этом уже установленные пакеты переустанавливаться не будут:
</p>
<pre># pacman -S --needed - &lt; pkglist.txt
</pre>
<p>В списке могут оказаться внешние пакеты, из AUR или установленные локально. Чтобы их исключить, вместо предыдущей команды выполните следующую:
</p>
<pre># pacman -S --needed $(comm -12 &lt;(pacman -Slq | sort) &lt;(sort pkglist.txt))
</pre>
<p>Наконец, убедитесь, что установленные в системе пакеты совпадают со списком, и удалите всё, что в него не входит:
</p>
<pre># pacman -Rsu $(comm -23 &lt;(pacman -Qq | sort) &lt;(sort pkglist.txt))
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> Данные действия можно автоматизировать. См. <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/bacpac/">bacpac</a></span><sup><small>AUR</small></sup>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/packup/">packup</a></span><sup><small>AUR</small></sup>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/pacmanity/">pacmanity</a></span><sup><small>AUR</small></sup> и <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/pug/">pug</a></span><sup><small>AUR</small></sup>.
</div>
<h3>
<span id=".D0.A1.D0.BF.D0.B8.D1.81.D0.BE.D0.BA_.D0.B8.D0.B7.D0.BC.D0.B5.D0.BD.D1.91.D0.BD.D0.BD.D1.8B.D1.85_.D1.84.D0.B0.D0.B9.D0.BB.D0.BE.D0.B2_.D0.BF.D0.B0.D0.BA.D0.B5.D1.82.D0.BE.D0.B2"></span><span class="mw-headline" id="Список_изменённых_файлов_пакетов">Список изменённых файлов пакетов</span>
</h3>
<p>Если вы предполагаете, что какие-то файлы были повреждены (например, из-за ошибки программы или аппаратного обеспечения), стоит проверить их хэш-суммы. Сделать это можно с помощью пакета <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pacutils">pacutils</a></span>:
</p>
<pre># paccheck --md5sum --quiet
</pre>
<p>Восстановление базы данных описано в разделе <a href="#%D0%92%D0%BE%D1%81%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BB%D0%BE%D0%BA%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%B9_%D0%B1%D0%B0%D0%B7%D1%8B_%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85">#Восстановление локальной базы данных</a>. Файлы <code>mtree</code> можно также <a href="#%D0%9F%D1%80%D0%BE%D1%81%D0%BC%D0%BE%D1%82%D1%80_%D0%BE%D1%82%D0%B4%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D0%B3%D0%BE_%D1%84%D0%B0%D0%B9%D0%BB%D0%B0_%D0%B2%D0%BD%D1%83%D1%82%D1%80%D0%B8_%D1%84%D0%B0%D0%B9%D0%BB%D0%B0_.pkg">извлечь как <code>.MTREE</code> из соответствующих файлов пакета</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Этот способ <b>не</b> подходит, если есть подозрение на злонамеренные изменения. В этом случае используйте live-окружение и независимый источник хэш-сумм.
</div>
<h3>
<span id=".D0.9F.D0.B5.D1.80.D0.B5.D1.83.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_.D0.B2.D1.81.D0.B5.D1.85_.D0.BF.D0.B0.D0.BA.D0.B5.D1.82.D0.BE.D0.B2"></span><span class="mw-headline" id="Переустановка_всех_пакетов">Переустановка всех пакетов</span>
</h3>
<p>Чтобы переустановить все пакеты, установленные из базы синхронизации, выполните:
</p>
<pre># pacman -Qqn | pacman -S -
</pre>
<p>Сторонние пакеты (AUR) придётся установить отдельно; найти их можно командой <code>pacman -Qqm</code>.
</p>
<p>По умолчанию при переустановке пакета pacman оставляет <a href="../ru/Pacman.html#%D0%9F%D1%80%D0%B8%D1%87%D0%B8%D0%BD%D0%B0_%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B8" class="mw-redirect" title="Причина установки">причину установки</a> без изменений.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> Принудительно перезаписать все пакеты можно флагом <code>--overwrite=*</code>. Учтите — это средство на самый крайний случай, см. <a href="../ru/System_maintenance.html#%D0%98%D0%B7%D0%B1%D0%B5%D0%B3%D0%B0%D0%B9%D1%82%D0%B5_%D0%BE%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%BD%D1%8B%D1%85_%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4_pacman" class="mw-redirect" title="Обслуживание системы">Обслуживание системы#Избегайте определенных команд pacman</a>.</div>
<h3>
<span id=".D0.92.D0.BE.D1.81.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BB.D0.BE.D0.BA.D0.B0.D0.BB.D1.8C.D0.BD.D0.BE.D0.B9_.D0.B1.D0.B0.D0.B7.D1.8B_.D0.B4.D0.B0.D0.BD.D0.BD.D1.8B.D1.85"></span><span class="mw-headline" id="Восстановление_локальной_базы_данных">Восстановление локальной базы данных</span>
</h3>
<p>См. <a href="../ru/9d298e5f86860cfedafd95385ecaffab.html" class="mw-redirect" title="Pacman/Восстановление локальной базы данных">pacman/Восстановление локальной базы данных</a>.
</p>
<h3>
<span id=".D0.92.D0.BE.D1.81.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_USB-.D0.BD.D0.BE.D1.81.D0.B8.D1.82.D0.B5.D0.BB.D1.8F_.D0.B8.D0.B7_.D1.81.D1.83.D1.89.D0.B5.D1.81.D1.82.D0.B2.D1.83.D1.8E.D1.89.D0.B5.D0.B9_.D1.83.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B8"></span><span class="mw-headline" id="Восстановление_USB-носителя_из_существующей_установки">Восстановление USB-носителя из существующей установки</span>
</h3>
<p>Если вы установили Arch на USB-носитель и испортили его (например, выдернув носитель в процессе записи), стоит попробовать переустановить все пакеты. Возможно, это восстановит работоспособность флешки. Предположим, USB-носитель смонтирован в каталог <code>/newarch</code>:
</p>
<pre># pacman -S $(pacman -Qq --dbpath /newarch/var/lib/pacman) --root /newarch --dbpath /newarch/var/lib/pacman
</pre>
<h3>
<span id=".D0.9F.D1.80.D0.BE.D1.81.D0.BC.D0.BE.D1.82.D1.80_.D0.BE.D1.82.D0.B4.D0.B5.D0.BB.D1.8C.D0.BD.D0.BE.D0.B3.D0.BE_.D1.84.D0.B0.D0.B9.D0.BB.D0.B0_.D0.B2.D0.BD.D1.83.D1.82.D1.80.D0.B8_.D1.84.D0.B0.D0.B9.D0.BB.D0.B0_.pkg"></span><span class="mw-headline" id="Просмотр_отдельного_файла_внутри_файла_.pkg">Просмотр отдельного файла внутри файла .pkg</span>
</h3>
<p>Например, вы хотите увидеть содержимое файла <code>/etc/systemd/logind.conf</code> в пакете <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=systemd">systemd</a></span>:
</p>
<pre>$ bsdtar -xOf /var/cache/pacman/pkg/systemd-204-3-x86_64.pkg.tar.xz etc/systemd/logind.conf
</pre>
<p>Для просмотра файлов архива можно использовать <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=vim">vim</a></span>:
</p>
<pre>$ vim /var/cache/pacman/pkg/systemd-204-3-x86_64.pkg.tar.xz
</pre>
<h3>
<span id=".D0.A1.D0.BF.D0.B8.D1.81.D0.BE.D0.BA_.D0.BF.D1.80.D0.B8.D0.BB.D0.BE.D0.B6.D0.B5.D0.BD.D0.B8.D0.B9.2C_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D1.83.D1.8E.D1.89.D0.B8.D1.85_.D1.83.D1.81.D1.82.D0.B0.D1.80.D0.B5.D0.B2.D1.88.D0.B8.D0.B5_.D0.B1.D0.B8.D0.B1.D0.BB.D0.B8.D0.BE.D1.82.D0.B5.D0.BA.D0.B8"></span><span class="mw-headline" id="Список_приложений,_использующих_устаревшие_библиотеки">Список приложений, использующих устаревшие библиотеки</span>
</h3>
<p>Даже после установки новой версии пакета некоторые долгоиграющие программы (например, демоны и серверы) могут всё ещё использовать код из библиотек старого пакета. Если такая библиотека содержит уязвимость или опасный баг, продолжать её использовать — не самая лучшая идея.
</p>
<p>Следующая команда найдёт все программы, которые используют устаревший код:
</p>
<pre># lsof +c 0 | grep -w DEL | awk '1 { print $1 ": " $NF }' | sort -u
</pre>
<p>Будут выведены названия работающих программ, а также старые библиотеки, которые были удалены или замещены более новыми.
</p>
<h3>
<span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_.D0.BA.D0.BE.D0.BD.D1.82.D0.B5.D0.BD.D1.82.D0.B0_.D1.82.D0.BE.D0.BB.D1.8C.D0.BA.D0.BE_.D0.BD.D0.B0_.D0.BD.D1.83.D0.B6.D0.BD.D0.BE.D0.BC_.D1.8F.D0.B7.D1.8B.D0.BA.D0.B5"></span><span class="mw-headline" id="Установка_контента_только_на_нужном_языке">Установка контента только на нужном языке</span>
</h3>
<p>Многие пакеты по умолчанию устанавливают документацию и переводы на нескольких языках. Существует ряд программ, разработаных для удаления таких ненужных файлов. Например, утилита <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/localepurge/">localepurge</a></span><sup><small>AUR</small></sup> удалит лишние файлы локалей, если запустить её после установки пакета. Более прямой подход к этой проблеме — указать директиву <code>NoExtract</code> в файле <code>pacman.conf</code>, что предотвратит установку ненужных файлов.
</p>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Важно:</strong> Некоторые пользователи отмечали, что удаление локалей может привести к <a href="../Special:PermanentLink/460285.html#Dangerous_NoExtract_example" title="Special:PermanentLink/460285">неожиданным последствиям</a>, даже в <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=250846">Xorg</a>.</div>
<p>В примере ниже устанавлены будут только английские (US) файлы, или никакие вообще:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pacman.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">NoExtract = usr/share/help/* !usr/share/help/C/*
NoExtract = usr/share/gtk-doc/html/*
NoExtract = usr/share/locale/* usr/share/X11/locale/*/* usr/share/i18n/locales/* opt/google/chrome/locales/* !usr/share/X11/locale/C/*
NoExtract = !*locale*/en*/* !usr/share/*locale*/locale.*
NoExtract = !usr/share/*locales/en_?? !usr/share/*locales/i18n* !usr/share/*locales/iso*
NoExtract = usr/share/i18n/charmaps/* !usr/share/i18n/charmaps/UTF-8.gz
NoExtract = !usr/share/*locales/trans*
NoExtract = usr/share/man/* !usr/share/man/man*
NoExtract = usr/share/vim/vim*/lang/*
NoExtract = usr/lib/libreoffice/help/en-US/*
NoExtract = usr/share/kbd/locale/*
NoExtract = usr/share/*/translations/*.qm usr/share/qt/translations/*.pak !*/en-US.pak # Qt apps
NoExtract = usr/share/*/locales/*.pak opt/*/locales/*.pak usr/lib/*/locales/*.pak !*/en-US.pak # Electron apps
NoExtract = opt/onlyoffice/desktopeditors/dictionaries/* !opt/onlyoffice/desktopeditors/dictionaries/en_US/*
NoExtract = usr/share/ibus/dicts/emoji-*.dict !usr/share/ibus/dicts/emoji-en.dict</pre>
<h2>
<span id=".D0.9F.D1.80.D0.BE.D0.B8.D0.B7.D0.B2.D0.BE.D0.B4.D0.B8.D1.82.D0.B5.D0.BB.D1.8C.D0.BD.D0.BE.D1.81.D1.82.D1.8C"></span><span class="mw-headline" id="Производительность">Производительность</span>
</h2>
<h3>
<span id=".D0.A3.D0.B2.D0.B5.D0.BB.D0.B8.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D1.81.D0.BA.D0.BE.D1.80.D0.BE.D1.81.D1.82.D0.B8_.D0.B7.D0.B0.D0.B3.D1.80.D1.83.D0.B7.D0.BA.D0.B8"></span><span class="mw-headline" id="Увеличение_скорости_загрузки">Увеличение скорости загрузки</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Если у вас возникли проблемы со скоростью загрузки, убедитесь, что вы используете одно из <a href="../ru/Mirrors.html" class="mw-redirect" title="Зеркала">зеркал</a> из списка, а не  ftp.archlinux.org <a rel="nofollow" class="external autonumber" href="https://archlinux.org/news/302/">[1]</a>.
</div>
<p>При загрузке пакетов pacman использует зеркала в том порядке, в каком они перечислены в файле <code>/etc/pacman.d/mirrorlist</code>. Зеркало, указанное первым, будет использоваться по умолчанию, и совсем не обязательно оно окажется для вас самым быстрым. Подробнее о выборе зеркал см. <a href="../ru/Mirrors.html" class="mw-redirect" title="Зеркала">Зеркала</a>.
</p>
<p>Скорость загрузки пакетов можно повысить, если использовать сторонние приложения для загрузки вместо встроенного в pacman менеджера закачек.
</p>
<p>В любом случае, прежде чем делать какие-либо изменения, убедитесь, что используете последнюю версию pacman:
</p>
<pre># pacman -Syu
</pre>
<h4><span class="mw-headline" id="Powerpill">Powerpill</span></h4>
<p><a href="../ru/Powerpill.html" title="Powerpill (Русский)">Powerpill</a> — обёртка для pacman, которая использует параллельную и сегментированную загрузку для повышения скорости.
</p>
<h4><span class="mw-headline" id="wget">wget</span></h4>
<p>Эта утилита будет очень полезна, если вам нужны более сложные настройки прокси, чем это позволяют возможности pacman.
</p>
<p><a href="../ru/Help:Reading.html#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%BE%D0%B2" class="mw-redirect" title="Установите">Установите</a> пакет <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=wget">wget</a></span>, после чего отредактируйте <code>/etc/pacman.conf</code>, указав в разделе <code>[options]</code> следующую строку:
</p>
<pre>XferCommand = /usr/bin/wget --passive-ftp -c -O %o %u
</pre>
<p>Чтобы не указывать параметры <code>wget</code> в файле <code>/etc/pacman.conf</code>, можно отредактировать непосредственно файл настроек <code>wget</code> — либо общесистемный файл <code>/etc/wgetrc</code>, либо пользовательский <code>$HOME/.wgetrc</code>.
</p>
<h4><span class="mw-headline" id="aria2">aria2</span></h4>
<p><a href="../ru/Aria2.html" title="Aria2 (Русский)">aria2</a> — небольшая загрузочная утилита с поддержкой возобновляемой и сегментной загрузки по протоколам HTTP/HTTPS и FTP. aria2 создаёт несколько одновременных соединений с зеркалом Arch, что увеличивает скорость загрузки файлов и пакетов.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Если указать aria2 в параметре <code>XferCommand</code>, то пакеты всё равно будут загружаться по очереди, а не параллельно. Pacman использует команду <code>XferCommand</code> для одного пакета за раз и ожидает её завершения, прежде чем перейти к следующему. Параллельная загрузка нескольких пакетов возможна с <a href="../ru/Powerpill.html" title="Powerpill (Русский)">Powerpill</a>.
</div>
<p>Установите <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=aria2">aria2</a></span>, затем добавьте следующую строку в раздел <code>[options]</code> файла <code>/etc/pacman.conf</code>:
</p>
<pre>XferCommand = /usr/bin/aria2c --allow-overwrite=true --continue=true --file-allocation=none --log-level=error --max-tries=2 --max-connection-per-server=2 --max-file-not-found=5 --min-split-size=5M --no-conf --remote-time=true --summary-interval=60 --timeout=5 --dir=/ --out %o %u
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> <a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=1491879#p1491879">На форуме</a> предложен более простой способ настройки pacman на работу через aria2, с добавлением некоторых полезных опций.</div>
<p>Параметры aria2 описаны в руководстве <span class="plainlinks archwiki-template-man" title="$ man 1 aria2c"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/aria2c.1#OPTIONS">aria2c(1) § OPTIONS</a></span>. Некоторые разъяснения о параметрах последней команды:
</p>
<ul>
<li>
<code>-d, --dir</code>: каталог для сохранения скачиваемых файлов.</li>
<li>
<code>-o, --out</code>: итоговые имена скачиваемых файлов.</li>
<li>
<code>%o</code>: локальное имя файла в представлении pacman.</li>
<li>
<code>%u</code>: URL загрузки в представлении pacman.</li>
</ul>
<h4>
<span id=".D0.94.D1.80.D1.83.D0.B3.D0.B8.D0.B5_.D0.BF.D1.80.D0.B8.D0.BB.D0.BE.D0.B6.D0.B5.D0.BD.D0.B8.D1.8F"></span><span class="mw-headline" id="Другие_приложения">Другие приложения</span>
</h4>
<p>Есть и другие загрузочные приложения, с которыми может работать pacman. Ниже приводится список в виде соответствующих настроек <code>XferCommand</code>:
</p>
<ul>
<li>
<code>snarf</code>: <code>XferCommand = /usr/bin/snarf -N %u</code>
</li>
<li>
<code>lftp</code>: <code>XferCommand = /usr/bin/lftp -c pget %u</code>
</li>
<li>
<code>axel</code>: <code>XferCommand = /usr/bin/axel -n 2 -v -a -o %o %u</code>
</li>
<li>
<code>hget</code>: <code>XferCommand = /usr/bin/hget %u -n 2 -skip-tls false</code> (подробнее см. <a rel="nofollow" class="external text" href="https://github.com/huydx/hget">документацию на странице проекта</a>)</li>
<li>
<code>saldl</code>: <code>XferCommand = /usr/bin/saldl -c6 -l4 -s2m -o %o %u</code> (подробнее см. <a rel="nofollow" class="external text" href="https://saldl.github.io">документацию на странице проекта</a>)</li>
</ul>
<h2>
<span id=".D0.A3.D1.82.D0.B8.D0.BB.D0.B8.D1.82.D1.8B"></span><span class="mw-headline" id="Утилиты">Утилиты</span>
</h2>
<ul><li>
<b>Lostfiles</b> — Скрипт для обнаружения файлов, не принадлежащих ни одному пакету.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/graysky2/lostfiles">https://github.com/graysky2/lostfiles</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lostfiles">lostfiles</a></span>
</dd></dl>
<ul><li>
<b>Pacmatic</b> — Обёртка для Pacman; проверяет новости Arch перед обновлением, запрещает частичные обновления, предупреждает об изменении файлов настроек.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="http://kmkeen.com/pacmatic">http://kmkeen.com/pacmatic</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pacmatic">pacmatic</a></span>
</dd></dl>
<ul><li>
<b>pacutils</b> — Библиотека для программ, основанных на libalpm.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/andrewgregory/pacutils">https://github.com/andrewgregory/pacutils</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pacutils">pacutils</a></span>
</dd></dl>
<ul><li>
<b><a href="../ru/Pkgfile.html" title="Pkgfile (Русский)">pkgfile</a></b> — Утилита, которая находит, какому пакету принадлежит файл.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/falconindy/pkgfile">https://github.com/falconindy/pkgfile</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pkgfile">pkgfile</a></span>
</dd></dl>
<ul><li>
<b>pkgtools</b> — Коллекция скриптов для пакетов Arch Linux.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/Daenyth/pkgtools">https://github.com/Daenyth/pkgtools</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/pkgtools/">pkgtools</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>pkgtop</b> — Интерактивный менеджер пакетов и системный менеджер, разработанный для GNU/Linux.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/orhun/pkgtop">https://github.com/orhun/pkgtop</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/pkgtop-git/">pkgtop-git</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b><a href="../ru/Powerpill.html" title="Powerpill (Русский)">Powerpill</a></b> — Использует параллельную и сегментную загрузку с помощью <a href="../ru/Aria2.html" title="Aria2 (Русский)">aria2</a> и <a href="../ru/Reflector.html" title="Reflector (Русский)">Reflector</a>, чтобы ускорить скачивание пакетов через pacman.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://xyne.archlinux.ca/projects/powerpill/">https://xyne.archlinux.ca/projects/powerpill/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/powerpill/">powerpill</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>repoctl</b> — Утилита для управления локальными репозиториями.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/cassava/repoctl">https://github.com/cassava/repoctl</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/repoctl/">repoctl</a></span><sup><small>AUR</small></sup>
</dd></dl>
<ul><li>
<b>repose</b> — Программа для создания репозиторев Arch Linux.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/vodik/repose">https://github.com/vodik/repose</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=repose">repose</a></span>
</dd></dl>
<ul><li>
<b><a href="../en/Snapper.html#Wrapping_pacman_transactions_in_snapshots" title="Snapper">snap-pac</a></b> — Заставляет pacman использовать snapper для создания снимков до и после транзакции, как в YaST из openSUSE.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/wesbarnett/snap-pac">https://github.com/wesbarnett/snap-pac</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=snap-pac">snap-pac</a></span>
</dd></dl>
<ul><li>
<b>vrms-arch</b> — Виртуальный Ричард Столлман подсказывает тебе, какие несвободные пакеты установлены в системе.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/orospakr/vrms-arch">https://github.com/orospakr/vrms-arch</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/vrms-arch/">vrms-arch</a></span><sup><small>AUR</small></sup>
</dd></dl>
<h3>
<span id=".D0.93.D1.80.D0.B0.D1.84.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.B8.D0.B5"></span><span class="mw-headline" id="Графические">Графические</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> PackageKit по умолчанию использует права суперпользователя, поэтому настоятельно не рекомендуется его использовать. См. <a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/50459">FS#50459</a> и <a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/57943">FS#57943</a>.
</div>
<ul><li>
<b>Apper</b> — Менеджер пакетов на основе PackageKit; написан на C++ с использованием Qt 5. Поддержка <a rel="nofollow" class="external text" href="https://www.freedesktop.org/wiki/Distributions/AppStream/">метаданных AppStream</a>.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://userbase.kde.org/Apper">https://userbase.kde.org/Apper</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=apper">apper</a></span>
</dd></dl>
<ul><li>
<b>Discover</b> — Менеджер приложений на основе PackageKit; написан на C++/QML с использованием Qt 5. Поддержка <a rel="nofollow" class="external text" href="https://www.freedesktop.org/wiki/Distributions/AppStream/">метаданных AppStream</a>, <a href="../en/Flatpak.html" title="Flatpak">Flatpak</a> и <a href="../en/Fwupd.html" title="Fwupd">обновления прошивок</a>.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://userbase.kde.org/Discover">https://userbase.kde.org/Discover</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=discover">discover</a></span>
</dd></dl>
<ul><li>
<b>GNOME PackageKit</b> — Менеджер пакетов на основе PackageKit, написан на Си с использованием GTK 3.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://freedesktop.org/software/PackageKit/">https://freedesktop.org/software/PackageKit/</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gnome-packagekit">gnome-packagekit</a></span>
</dd></dl>
<ul><li>
<b>GNOME Software</b> — Менеджер пакетов на основе PackageKit, написан на Си с использованием GTK 3. Поддержка <a rel="nofollow" class="external text" href="https://www.freedesktop.org/wiki/Distributions/AppStream/">метаданных AppStream</a>, <a href="../en/Flatpak.html" title="Flatpak">Flatpak</a> и <a href="../en/Fwupd.html" title="Fwupd">обновления прошивок</a>
</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://wiki.gnome.org/Apps/Software">https://wiki.gnome.org/Apps/Software</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gnome-software">gnome-software</a></span>
</dd></dl>
<ul><li>
<b>pcurses</b> — Обёртка для pacman на C++ с текстовым интерфейсом curses.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://github.com/schuay/pcurses">https://github.com/schuay/pcurses</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pcurses">pcurses</a></span>
</dd></dl>
<ul><li>
<b>tkPacman</b> — Tk-обёртка для pacman, написанная на Tcl.</li></ul>
<dl><dd>
<a rel="nofollow" class="external free" href="https://sourceforge.net/projects/tkpacman">https://sourceforge.net/projects/tkpacman</a> || <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/tkpacman/">tkpacman</a></span><sup><small>AUR</small></sup>
</dd></dl>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../ru/Category:Package_manager.html" title="Category:Package manager (Русский)">Package manager (Русский)</a></li></ul>
</div></div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Pacman_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)/Tips_and_tricks_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;oldid=647007">https://wiki.archlinux.org/index.php?title=Pacman_(Русский)/Tips_and_tricks_(Русский)&amp;oldid=647007</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 26 December 2020, at 12:22.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
