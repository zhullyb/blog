<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Xorg (Русский)/Keyboard configuration (Русский) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Xorg_Русский_Keyboard_configuration_Русский rootpage-Xorg_Русский skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Xorg (Русский)/Keyboard configuration (Русский)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"><span class="subpages">&lt; <a href="../ru/Xorg.html" title="Xorg (Русский)">Xorg (Русский)</a></span></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Ссылки по теме</p>
<ul>
<li><a href="../en/X_keyboard_extension.html" title="X keyboard extension">X keyboard extension</a></li>
<li><a href="../ru/eed6a0fa41269fff24ec714d862698e6.html" class="mw-redirect" title="Конфигурация клавиатуры в консоли">Конфигурация клавиатуры в консоли</a></li>
<li><a href="../ru/Extra_keyboard_keys.html" class="mw-redirect" title="Дополнительные клавиши">Дополнительные клавиши</a></li>
<li><a href="../ru/Xorg.html" title="Xorg (Русский)">Xorg (Русский)</a></li>
<li><a href="../en/Keyboard_shortcuts.html" title="Keyboard shortcuts">Keyboard shortcuts</a></li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Состояние перевода:</strong> На этой странице представлен перевод статьи <a href="../en/Xorg/Keyboard_configuration.html" title="Xorg/Keyboard configuration">Xorg/Keyboard configuration</a>. Дата последней синхронизации: 15 сентября 2019. Вы можете <a href="../ru/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (Русский)">помочь</a> синхронизировать перевод, если в английской версии произошли <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Xorg/Keyboard_configuration&amp;diff=0&amp;oldid=580585">изменения</a>.</div>
<p>Эта статья описывает основные настройки клавиатуры в Xorg. Для расширенных тем, таких как изменение раскладки клавиатуры или дополнительные сопоставления клавиш, смотрите статьи <a href="../en/X_keyboard_extension.html" title="X keyboard extension">X keyboard extension</a> или <a href="../ru/Extra_keyboard_keys.html" class="mw-redirect" title="Дополнительные клавиши">дополнительные клавиши</a> соответственно.
</p>
<p>Сервер Xorg использует <a href="../en/X_keyboard_extension.html" title="X keyboard extension">клавиатурное расширение X</a> (XKB) для определения раскладок клавиатуры. Опционально, <a href="../ru/Xmodmap.html" title="Xmodmap (Русский)">xmodmap</a> можно использовать для прямого доступа к внутренней раскладки клавиатуры, хотя это не рекомендуется для сложных задач. Также можно использовать <i>localectl</i> <a href="../ru/Systemd.html" title="Systemd (Русский)">systemd</a> для определения раскладки клавиатуры в сервере Xorg и виртуальной консоли.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Параметры XKB могут быть переопределены инструментами, представленными некоторыми окружениями рабочего стола, такими как <a href="../ru/GNOME.html" title="GNOME (Русский)">GNOME</a> и <a href="../ru/KDE.html" title="KDE (Русский)">KDE</a>.</div>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#%D0%9F%D1%80%D0%BE%D1%81%D0%BC%D0%BE%D1%82%D1%80_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B5%D0%BA_%D0%BA%D0%BB%D0%B0%D0%B2%D0%B8%D0%B0%D1%82%D1%83%D1%80%D1%8B"><span class="tocnumber">1</span> <span class="toctext">Просмотр настроек клавиатуры</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#%D0%A1%D1%82%D0%BE%D1%80%D0%BE%D0%BD%D0%BD%D0%B8%D0%B5_%D1%83%D1%82%D0%B8%D0%BB%D0%B8%D1%82%D1%8B"><span class="tocnumber">1.1</span> <span class="toctext">Сторонние утилиты</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3">
<a href="#%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0_%D1%80%D0%B0%D1%81%D0%BA%D0%BB%D0%B0%D0%B4%D0%BA%D0%B8_%D0%BA%D0%BB%D0%B0%D0%B2%D0%B8%D0%B0%D1%82%D1%83%D1%80%D1%8B"><span class="tocnumber">2</span> <span class="toctext">Настройка раскладки клавиатуры</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#%D0%A7%D0%B5%D1%80%D0%B5%D0%B7_setxkbmap"><span class="tocnumber">2.1</span> <span class="toctext">Через setxkbmap</span></a></li>
<li class="toclevel-2 tocsection-5">
<a href="#%D0%A7%D0%B5%D1%80%D0%B5%D0%B7_%D0%BA%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D1%8B%D0%B5_%D1%84%D0%B0%D0%B9%D0%BB%D1%8B_X"><span class="tocnumber">2.2</span> <span class="toctext">Через конфигурационные файлы X</span></a>
<ul>
<li class="toclevel-3 tocsection-6"><a href="#%D0%A1_%D0%BF%D0%BE%D0%BC%D0%BE%D1%89%D1%8C%D1%8E_localectl"><span class="tocnumber">2.2.1</span> <span class="toctext">С помощью localectl</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-7">
<a href="#%D0%A7%D0%B0%D1%81%D1%82%D0%BE_%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D1%83%D0%B5%D0%BC%D1%8B%D0%B5_%D0%BE%D0%BF%D1%86%D0%B8%D0%B8_XKB"><span class="tocnumber">3</span> <span class="toctext">Часто используемые опции XKB</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#%D0%9F%D0%B5%D1%80%D0%B5%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D1%80%D0%B0%D1%81%D0%BA%D0%BB%D0%B0%D0%B4%D0%BE%D0%BA_%D0%BA%D0%BB%D0%B0%D0%B2%D0%B8%D0%B0%D1%82%D1%83%D1%80%D1%8B"><span class="tocnumber">3.1</span> <span class="toctext">Переключение раскладок клавиатуры</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#%D0%97%D0%B0%D0%B2%D0%B5%D1%80%D1%88%D0%B5%D0%BD%D0%B8%D0%B5_Xorg_%D0%BF%D0%BE_%D1%81%D0%BE%D1%87%D0%B5%D1%82%D0%B0%D0%BD%D0%B8%D1%8E_%D0%BA%D0%BB%D0%B0%D0%B2%D0%B8%D1%88_Ctrl+Alt+Backspace"><span class="tocnumber">3.2</span> <span class="toctext">Завершение Xorg по сочетанию клавиш Ctrl+Alt+Backspace</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#%D0%9F%D0%B5%D1%80%D0%B5%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_Caps_Lock_%D0%B8_%D0%9B%D0%B5%D0%B2%D0%BE%D0%B3%D0%BE_Control"><span class="tocnumber">3.3</span> <span class="toctext">Перестановка Caps Lock и Левого Control</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#%D0%92%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BA%D0%BD%D0%BE%D0%BF%D0%BE%D0%BA_%D0%BC%D1%8B%D1%88%D0%BA%D0%B8"><span class="tocnumber">3.4</span> <span class="toctext">Включение кнопок мышки</span></a></li>
<li class="toclevel-2 tocsection-12">
<a href="#%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0_%D0%BA%D0%BB%D0%B0%D0%B2%D0%B8%D1%88%D0%B8_Compose"><span class="tocnumber">3.5</span> <span class="toctext">Настройка клавиши Compose</span></a>
<ul>
<li class="toclevel-3 tocsection-13"><a href="#%D0%A1%D0%BE%D1%87%D0%B5%D1%82%D0%B0%D0%BD%D0%B8%D1%8F_%D0%BA%D0%BB%D0%B0%D0%B2%D0%B8%D1%88"><span class="tocnumber">3.5.1</span> <span class="toctext">Сочетания клавиш</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-14"><a href="#%D0%97%D0%BD%D0%B0%D1%87%D0%BA%D0%B8_%D0%B2%D0%B0%D0%BB%D1%8E%D1%82_%D0%BD%D0%B0_%D0%B4%D1%80%D1%83%D0%B3%D0%B8%D1%85_%D0%BA%D0%BD%D0%BE%D0%BF%D0%BA%D0%B0%D1%85"><span class="tocnumber">3.6</span> <span class="toctext">Значки валют на других кнопках</span></a></li>
<li class="toclevel-2 tocsection-15">
<a href="#%D0%9F%D0%B5%D1%80%D0%B5%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D1%81%D0%BE%D1%81%D1%82%D0%BE%D1%8F%D0%BD%D0%B8%D1%8F_%D0%BA%D0%BB%D0%B0%D0%B2%D0%B8%D1%88%D0%B8_Caps_Lock_%D1%81%D1%80%D0%B0%D0%B7%D1%83_%D0%BF%D0%BE%D1%81%D0%BB%D0%B5_%D0%BD%D0%B0%D0%B6%D0%B0%D1%82%D0%B8%D1%8F"><span class="tocnumber">3.7</span> <span class="toctext">Переключение состояния клавиши Caps Lock сразу после нажатия</span></a>
<ul>
<li class="toclevel-3 tocsection-16"><a href="#%D0%92%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D0%BE%D0%B5_%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5"><span class="tocnumber">3.7.1</span> <span class="toctext">Временное решение</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-17"><a href="#%D0%A4%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D0%B8_%D0%BE%D0%B4%D0%BD%D0%BE%D0%BA%D1%80%D0%B0%D1%82%D0%BD%D0%BE%D0%B3%D0%BE_%D0%BD%D0%B0%D0%B6%D0%B0%D1%82%D0%B8%D1%8F_%D0%BA%D0%BB%D0%B0%D0%B2%D0%B8%D1%88"><span class="tocnumber">4</span> <span class="toctext">Функции однократного нажатия клавиш</span></a></li>
<li class="toclevel-1 tocsection-18">
<a href="#%D0%A0%D0%B5%D0%B3%D1%83%D0%BB%D0%B8%D1%80%D0%BE%D0%B2%D0%BA%D0%B0_%D0%B7%D0%B0%D0%B4%D0%B5%D1%80%D0%B6%D0%BA%D0%B8_%D0%B8_%D1%81%D0%BA%D0%BE%D1%80%D0%BE%D1%81%D1%82%D0%B8_%D0%B0%D0%B2%D1%82%D0%BE%D0%BF%D0%BE%D0%B2%D1%82%D0%BE%D1%80%D0%B0"><span class="tocnumber">5</span> <span class="toctext">Регулировка задержки и скорости автоповтора</span></a>
<ul>
<li class="toclevel-2 tocsection-19"><a href="#%D0%A7%D0%B5%D1%80%D0%B5%D0%B7_xset"><span class="tocnumber">5.1</span> <span class="toctext">Через xset</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#%D0%A7%D0%B5%D1%80%D0%B5%D0%B7_%D0%BF%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D1%8B_%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D0%BA%D0%B0_XServer"><span class="tocnumber">5.2</span> <span class="toctext">Через параметры запуска XServer</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-21"><a href="#%D0%A1%D0%BC%D0%BE%D1%82%D1%80%D0%B8%D1%82%D0%B5_%D1%82%D0%B0%D0%BA%D0%B6%D0%B5"><span class="tocnumber">6</span> <span class="toctext">Смотрите также</span></a></li>
</ul>
</div>

<h2>
<span id=".D0.9F.D1.80.D0.BE.D1.81.D0.BC.D0.BE.D1.82.D1.80_.D0.BD.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B5.D0.BA_.D0.BA.D0.BB.D0.B0.D0.B2.D0.B8.D0.B0.D1.82.D1.83.D1.80.D1.8B"></span><span class="mw-headline" id="Просмотр_настроек_клавиатуры">Просмотр настроек клавиатуры</span>
</h2>
<p>Используйте следующую команду, чтобы просмотреть настройки XKB:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ setxkbmap -print -verbose 10</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Setting verbose level to 10
locale is C
Applied rules from evdev:
model:      evdev
layout:     us
options:    terminate:ctrl_alt_bksp
Trying to build keymap using the following components:
keycodes:   evdev+aliases(qwerty)
types:      complete
compat:     complete
symbols:    pc+us+inet(evdev)+terminate(ctrl_alt_bksp)
geometry:   pc(pc104)
xkb_keymap {
        xkb_keycodes  { include "evdev+aliases(qwerty)" };
        xkb_types     { include "complete"      };
        xkb_compat    { include "complete"      };
        xkb_symbols   { include "pc+us+inet(evdev)+terminate(ctrl_alt_bksp)"    };
        xkb_geometry  { include "pc(pc104)"     };
};
</pre>
<h3>
<span id=".D0.A1.D1.82.D0.BE.D1.80.D0.BE.D0.BD.D0.BD.D0.B8.D0.B5_.D1.83.D1.82.D0.B8.D0.BB.D0.B8.D1.82.D1.8B"></span><span class="mw-headline" id="Сторонние_утилиты">Сторонние утилиты</span>
</h3>
<p>Здесь приведены некоторые "неофициальные" утилиты, которые выводят специфичную информацию о используемой в настоящее время раскладке клавиатуры.
</p>
<ul><li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xkb-switch-git/">xkb-switch-git</a></span><sup><small>AUR</small></sup>:</li></ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ xkb-switch</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">us</pre>
<ul><li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/xkblayout-state-git/">xkblayout-state-git</a></span><sup><small>AUR</small></sup>:</li></ul>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ xkblayout-state print "%s"</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">de</pre>
<h2>
<span id=".D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D1.80.D0.B0.D1.81.D0.BA.D0.BB.D0.B0.D0.B4.D0.BA.D0.B8_.D0.BA.D0.BB.D0.B0.D0.B2.D0.B8.D0.B0.D1.82.D1.83.D1.80.D1.8B"></span><span class="mw-headline" id="Настройка_раскладки_клавиатуры">Настройка раскладки клавиатуры</span>
</h2>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a><b>This article or section needs expansion.</b><a href="../File:Tango-view-fullscreen.png" class="image"><img alt="Tango-view-fullscreen.png" src="../File:Tango-view-fullscreen.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Udev также играет роль (например, при подключении клавиатуры), отменяя изменения <i>setxkbmap</i> (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Xorg_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)/Keyboard_configuration_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)">Talk:Xorg (Русский)/Keyboard configuration (Русский)#</a>)</div>
</div>
<p>Раскладку клавиатуры можно настроить разными способами в Xorg. Вот объяснение используемых параметров:
</p>
<ul>
<li>
<code>XkbModel</code> устанавливает модель клавиатуры. Это влияет только на некоторые дополнительные клавиши. Для большинства клавиатур подходят модели <code>pc104</code> или <code>pc105</code>. Но, например, ноутбуки обычно имеют дополнительные клавиши, чтобы заставить их работать иногда достаточно только выбрать правильную модель клавиатуры.</li>
<li>
<code>XkbLayout</code> устанавливает раскладку клавиатуры. Несколько раскладок могут быть указаны в списке, разделённом запятыми,  если, например, вам нужно быстро переключаться между ними.</li>
<li>
<code>XkbVariant</code> устанавливает специфичное расположение клавиш для раскладки. Например, вариант по умолчанию для <code>sk</code> — <code>qwertz</code>, но его можно изменить вручную на другой, например, <code>qwerty</code>.</li>
<li>
<code>XkbOptions</code> устанавливает некоторые дополнительные опции. Используется для указания клавиш для смены раскладки, уведомления светодиодом, режима compose и др. Смотрите раздел <a href="#%D0%A7%D0%B0%D1%81%D1%82%D0%BE_%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D1%83%D0%B5%D0%BC%D1%8B%D0%B5_%D0%BE%D0%BF%D1%86%D0%B8%D0%B8_XKB">#Часто используемые опции XKB</a> для примеров.</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> Необходимо указывать варианты для каждой установленной раскладки. Если вам нужен стандартный вариант, укажите пустую строку, как вариант (запятая должна оставаться). Например, имеется первичная стандартная раскладка <code>us</code> и вторичная раскладка <code>us</code> с вариантом расположения клавиш <code>dvorak</code>, тогда укажите <code>us,us</code> как <code>XkbLayout</code> и <code>,dvorak</code> как <code>XkbVariant</code>.</div>
<p>Имя раскладки, как правило, состоит из <a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2#Officially_assigned_code_elements" class="extiw" title="wikipedia:ISO 3166-1 alpha-2">2-буквенного кода страны</a>. Чтобы посмотреть полный список моделей клавиатур, раскладок, вариантов и опций вместе с коротким описанием, откройте файл <code>/usr/share/X11/xkb/rules/base.lst</code>. Кроме того, вы можете использовать одну из следующих команд для просмотра раскладки и т.д., но без описания:
</p>
<ul>
<li><code>localectl list-x11-keymap-models</code></li>
<li><code>localectl list-x11-keymap-layouts</code></li>
<li><code>localectl list-x11-keymap-variants [<i>layout</i>]</code></li>
<li><code>localectl list-x11-keymap-options</code></li>
</ul>
<p>Примеры в следующих подразделах будут делать одно и то же. Они устанавливают модель клавиатуры <code>pc105</code>, первичной раскладкой <code>us</code>, <code>ru</code> — вторичной раскладкой, вариант расположения клавиш <code>dvorak</code> для раскладки <code>us</code> и комбинацию клавиш <code>Alt+Shift</code> для переключения между раскладками. Для получения дополнительной информации смотрите <span class="plainlinks archwiki-template-man" title="$ man 7 xkeyboard-config"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/xkeyboard-config.7">xkeyboard-config(7)</a></span>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> У пользователей Fcitx/IBus данные методы могут не работать (или работать только определённое время), так как они контролируют раскладку клавиатуры. Пользователи Fcitx должны выбрать <code>Keyboard - <i>layout</i></code> в качестве первого метода ввода, см. <a href="../en/Fcitx.html#Input_methods_configuration" title="Fcitx">Fcitx#Input methods configuration</a>. Пользователям IBus необходимо активировать параметр "Use system keyboard layout" в разделе Preference -&gt; Advanced при использовании конфигурационных файлов X или же указать раскладку вручную с помощью setxkbmap, см. <a href="../en/IBus.html#Non_US_keyboards" title="IBus">IBus#Non US keyboards</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">ссылка недействительна</a>: раздел не найден]</sup>.</div>
<h3>
<span id=".D0.A7.D0.B5.D1.80.D0.B5.D0.B7_setxkbmap"></span><span class="mw-headline" id="Через_setxkbmap">Через setxkbmap</span>
</h3>
<p><i>setxkbmap</i> настраивает раскладку клавиатуры только для текущей сессии X, но её можно сделать постоянной в <a href="../ru/Xinit.html" class="mw-redirect" title="Xinitrc (Русский)">xinitrc</a> или <a href="../ru/Xprofile.html" title="Xprofile (Русский)">xprofile</a>. Это переопределяет общесистемные настройки, указанные в <a href="#%D0%A7%D0%B5%D1%80%D0%B5%D0%B7_%D0%BA%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D1%8B%D0%B5_%D1%84%D0%B0%D0%B9%D0%BB%D1%8B_X">#Через конфигурационные файлы X</a>.
</p>
<p>Используйте следующим образом (смотрите <span class="plainlinks archwiki-template-man" title="$ man 1 setxkbmap"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/setxkbmap.1">setxkbmap(1)</a></span>):
</p>
<pre>$ setxkbmap [-model <i>xkb_model</i>] [-layout <i>xkb_layout</i>] [-variant <i>xkb_variant</i>] [-option <i>xkb_options</i>]
</pre>
<p>Чтобы изменить раскладку введите (<code>-layout</code> — стандартный флаг):
</p>
<pre>$ setxkbmap <i>xkb_layout</i>
</pre>
<p>Для нескольких настроек:
</p>
<pre>$ setxkbmap -model pc105 -layout us,ru -variant dvorak, -option grp:alt_shift_toggle
</pre>
<h3>
<span id=".D0.A7.D0.B5.D1.80.D0.B5.D0.B7_.D0.BA.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B0.D1.86.D0.B8.D0.BE.D0.BD.D0.BD.D1.8B.D0.B5_.D1.84.D0.B0.D0.B9.D0.BB.D1.8B_X"></span><span class="mw-headline" id="Через_конфигурационные_файлы_X">Через конфигурационные файлы X</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> <code>xorg.conf</code> анализируется X-сервером при запуске. Чтобы применить изменения, перезапустите X.</div>
<p>Синтакс конфигурационных файлов X объяснен в <a href="../ru/Xorg.html#%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0" title="Xorg (Русский)">Xorg (Русский)#Настройка</a>. Этот способ создает постоянные общесистемные настройки.  
</p>
<p>Вот пример:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/X11/xorg.conf.d/00-keyboard.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Section "InputClass"
        Identifier "system-keyboard"
        MatchIsKeyboard "on"
        Option "XkbLayout" "us,ru"
        Option "XkbModel" "pc105"
        Option "XkbVariant" "dvorak,"
        Option "XkbOptions" "grp:alt_shift_toggle"
EndSection
</pre>
<h4>
<span id=".D0.A1_.D0.BF.D0.BE.D0.BC.D0.BE.D1.89.D1.8C.D1.8E_localectl"></span><span class="mw-headline" id="С_помощью_localectl">С помощью localectl</span>
</h4>
<p>Для удобства можно использовать инструмент <i>localectl</i> вместо ручного редактирования конфигурационных файлов X. Он сохраняет настройки в файл <code>/etc/X11/xorg.conf.d/00-keyboard.conf</code>, который не следует редактировать вручную, потому что <i>localectl</i> перепишет его при следующем запуске.
</p>
<p>Используйте следующим образом:
</p>
<pre>$ localectl [--no-convert] set-x11-keymap <i>раскладка</i> [<i>модель</i> [<i>вариант</i> [<i>опции</i>]]]
</pre>
<p>Чтобы установить <i>модель</i>, <i>вариант</i> или <i>опции</i>, нужно указать все эти поля, но их можно пропустить, передав пустую строку <code>""</code>. Если параметр <code>--no-convert</code> не передан, тогда указанная клавиатура преобразуется в ближайшую соответствующую раскладку для консоли и прописывается в <a href="../ru/eed6a0fa41269fff24ec714d862698e6.html" class="mw-redirect" title="Конфигурация клавиатуры в консоли">настройках консоли</a> в файле <code>vconsole.conf</code>. Для получения дополнительной информации смотрите <span class="plainlinks archwiki-template-man" title="$ man 1 localectl"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/localectl.1">localectl(1)</a></span>.
</p>
<p>Чтобы создать файл <code>/etc/X11/xorg.conf.d/00-keyboard.conf</code>, как указано выше:
</p>
<pre>$ localectl --no-convert set-x11-keymap us,ru pc105 dvorak, grp:alt_shift_toggle
</pre>
<p>Например, можно установить английскую и русскую раскладки, которые будут переключаться по ctrl+shift:
</p>
<pre>$ localectl --no-convert set-x11-keymap us,ru "" "" grp:ctrl_shift_toggle
</pre>
<p>Чтобы изменения вступили в силу, перезагрузите Xorg командой:
</p>
<pre>$ systemctl restart display-manager
</pre>
<h2>
<span id=".D0.A7.D0.B0.D1.81.D1.82.D0.BE_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D1.83.D0.B5.D0.BC.D1.8B.D0.B5_.D0.BE.D0.BF.D1.86.D0.B8.D0.B8_XKB"></span><span class="mw-headline" id="Часто_используемые_опции_XKB">Часто используемые опции XKB</span>
</h2>
<h3>
<span id=".D0.9F.D0.B5.D1.80.D0.B5.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D1.80.D0.B0.D1.81.D0.BA.D0.BB.D0.B0.D0.B4.D0.BE.D0.BA_.D0.BA.D0.BB.D0.B0.D0.B2.D0.B8.D0.B0.D1.82.D1.83.D1.80.D1.8B"></span><span class="mw-headline" id="Переключение_раскладок_клавиатуры">Переключение раскладок клавиатуры</span>
</h3>
<p>Чтобы иметь возможность легко переключать раскладки клавиатуры, сначала укажите несколько раскладок, между которыми вы хотите переключиться (первая из них будет по умолчанию). Затем укажите клавишу (или комбинацию клавиш), которую будете использовать для переключения. Например, чтобы переключиться между US и Swedish раскладками с помощью клавиши <code>CapsLock</code>, используйте <code>us,se</code> как аргумент <code>XkbLayout</code> и <code>grp:caps_toggle</code> как аргумент <code>XkbOptions</code>.
</p>
<p>Вы можете использовать другие комбинации клавиш, кроме <code>CapsLock</code>, они перечислены в <code>/usr/share/X11/xkb/rules/base.lst</code>, начинаясь с <code>grp:</code> и заканчиваясь на <code>toggle</code>. Чтобы получить весь список доступных параметров, запустите следующую команду:
</p>
<pre>$ grep "grp:.*toggle" /usr/share/X11/xkb/rules/base.lst
</pre>
<h3>
<span id=".D0.97.D0.B0.D0.B2.D0.B5.D1.80.D1.88.D0.B5.D0.BD.D0.B8.D0.B5_Xorg_.D0.BF.D0.BE_.D1.81.D0.BE.D1.87.D0.B5.D1.82.D0.B0.D0.BD.D0.B8.D1.8E_.D0.BA.D0.BB.D0.B0.D0.B2.D0.B8.D1.88_Ctrl.2BAlt.2BBackspace"></span><span class="mw-headline" id="Завершение_Xorg_по_сочетанию_клавиш_Ctrl+Alt+Backspace">Завершение Xorg по сочетанию клавиш Ctrl+Alt+Backspace</span>
</h3>
<p>По умолчанию комбинация клавиш <code>Ctrl+Alt+Backspace</code> отключена. Вы можете включить ее установив <code>terminate:ctrl_alt_bksp</code> для <code>XkbOptions</code>. Это также можно сделать, привязав клавишу к <code>Terminate_Server</code> в <code>xmodmap</code> (который отменяет любую существующую настройку <code>XkbOptions</code>).
Для того, чтобы любой из этих методов работал, необходимо также установить <code>DontZap</code> в "off" в <code>ServerFlags</code>; однако, по крайней мере, с версии R6.8.0 (2004 год) <a rel="nofollow" class="external autonumber" href="https://www.x.org/archive/X11R6.8.0/doc/xorg.conf.5.html">[1]</a> это значение по умолчанию.
</p>
<h3>
<span id=".D0.9F.D0.B5.D1.80.D0.B5.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_Caps_Lock_.D0.B8_.D0.9B.D0.B5.D0.B2.D0.BE.D0.B3.D0.BE_Control"></span><span class="mw-headline" id="Перестановка_Caps_Lock_и_Левого_Control">Перестановка Caps Lock и Левого Control</span>
</h3>
<p>Чтобы поменять местами Caps Lock и Левый Control, добавьте <code>ctrl:swapcaps</code> в <code>XkbOptions</code>. Запустите следующую команду для просмотра похожих параметров вместе с их описанием:
</p>
<pre>$ grep -E "(ctrl|caps):" /usr/share/X11/xkb/rules/base.lst
</pre>
<h3>
<span id=".D0.92.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BA.D0.BD.D0.BE.D0.BF.D0.BE.D0.BA_.D0.BC.D1.8B.D1.88.D0.BA.D0.B8"></span><span class="mw-headline" id="Включение_кнопок_мышки">Включение кнопок мышки</span>
</h3>
<p><a href="https://en.wikipedia.org/wiki/Mouse_keys" class="extiw" title="w:Mouse keys">Кнопки мыши</a> отключены по умолчанию и должны быть включены вручную добавлением <code>keypad:pointerkeys</code> в <code>XkbOptions</code>. Это создаст комбинацию клавиш <code>Shift+NumLock</code> для включения/выключения кнопок мыши.
</p>
<p>Смотрите также <a href="../en/X_keyboard_extension.html#Mouse_control" title="X keyboard extension">X keyboard extension#Mouse control</a> для расширенной настройки.
</p>
<h3>
<span id=".D0.9D.D0.B0.D1.81.D1.82.D1.80.D0.BE.D0.B9.D0.BA.D0.B0_.D0.BA.D0.BB.D0.B0.D0.B2.D0.B8.D1.88.D0.B8_Compose"></span><span class="mw-headline" id="Настройка_клавиши_Compose">Настройка клавиши Compose</span>
</h3>
<p>Хотя обычно её нет на традиционных клавиатурах, однако <a href="https://en.wikipedia.org/wiki/ru:Compose" class="extiw" title="wikipedia:ru:Compose">клавишу Compose</a> можно настроить на существующую.
</p>
<p>Клавиша <code>Compose</code> начинает последовательность нажатия клавиш, которая включает (обычно два) дополнительных нажатия клавиш. Обычно используется либо для ввода символов на языке, для которого не была предназначена клавиатура, либо для других менее используемых символов, которые не покрываются модификатором <code>AltGr</code>. Например, нажатие <code>Compose</code> <code>'</code> <code>e</code> производит <code>é</code>, или <code>Compose</code> <code>-</code> <code>-</code> создаёт длинное тире: <code>—</code>.
</p>
<p>Хотя ещё несколько эксцентричных клавиатур имеют клавишу <code>Compose</code>, её работоспособность обычно заключается в замене уже существующей клавиши на неё. Например, чтобы сделать клавишу <code>Menu</code> клавишей <code>Compose</code>, используйте конфигурацию <a href="../ru/Desktop_environment.html" class="mw-redirect" title="Окружение рабочего стола">окружения рабочего стола</a> или пропишите <code>compose:menu</code> в <code>XkbOptions</code> (или используйте <a href="#%D0%A7%D0%B5%D1%80%D0%B5%D0%B7_setxkbmap">setxkbmap</a>: <code>setxkbmap -option compose:menu</code>). Разрешенные клавиши для подстановки определены в <code>/usr/share/X11/xkb/rules/base.lst</code>:
</p>
<pre>$ grep "compose:" /usr/share/X11/xkb/rules/base.lst
</pre>
<p><br>
Если желаемое соответствие не найдено в этом файле, альтернативой является использование <a href="../ru/Xmodmap.html" title="Xmodmap (Русский)">xmodmap</a> для сопоставления нужной клавиши с keysym <code>Multi_key</code>, которая работает как клавиша compose по умолчанию (обратите внимание, что настройки xmodmap сбрасываются setxkbmap).
</p>
<h4>
<span id=".D0.A1.D0.BE.D1.87.D0.B5.D1.82.D0.B0.D0.BD.D0.B8.D1.8F_.D0.BA.D0.BB.D0.B0.D0.B2.D0.B8.D1.88"></span><span class="mw-headline" id="Сочетания_клавиш">Сочетания клавиш</span>
</h4>
<p>Комбинация по умолчанию для клавиши compose зависит от <a href="../ru/Locale.html" class="mw-redirect" title="Локали">локали</a>, установленной для этого сеанса и находящейся в <code>/usr/share/X11/locale/<i>используемая_локаль</i>/Compose</code>, где <code><i>используемая_локаль</i></code>, к примеру, <code>en_US.UTF-8</code>.
</p>
<p>Можно определить собственную комбинацию клавиш compose, скопировав стандартный файл в <code>~/.XCompose</code> и отредактировав его. Или же создайте пустой <code>~/.XCompose</code> и включите в него содержимое стандартного файла, используя <code>include "%L"</code>, например:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.XCompose</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">include "%L"

&lt;Multi_key&gt; &lt;g&gt; &lt;a&gt; : "α"
&lt;Multi_key&gt; &lt;g&gt; &lt;b&gt; : "β"
&lt;Multi_key&gt; &lt;g&gt; &lt;g&gt; : "γ"
</pre>
<p>Клавиша compose работает с любыми из тысяч символов Unicode, включая те, которые находятся за основной многоязычной плоскостью (Basic Multilingual Plane). Взгляните на справочную страницу (man) <span class="plainlinks archwiki-template-man" title="$ man 5 Compose"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/Compose.5">Compose(5)</a></span>, в которой объясняется формат файлов XCompose.
</p>
<p>Однако GTK не использует <a href="https://en.wikipedia.org/wiki/X_Input_Method" class="extiw" title="wikipedia:X Input Method">XIM</a> по умолчанию и поэтому не следует за клавишами <code>~/.XCompose</code>. Это можно устранить, заставив GTK использовать XIM, добавлением <code>export GTK_IM_MODULE=xim</code> и/или <code>export XMODIFIERS="@im=none"</code> в <code>~/.xprofile</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>Совет:</strong> XIM очень старый, вам может повезти с другими методами ввода: <a href="../en/Smart_Common_Input_Method.html" class="mw-redirect" title="SCIM">SCIM</a>, <a href="../en/Uim.html" title="Uim">Uim</a>, <a href="../en/IBus.html" title="IBus">IBus</a> и т.д. Для получения дополнительной информации смотрите <a href="../en/Localization.html#Input_methods" title="Localization">Localization#Input methods</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">ссылка недействительна</a>: раздел не найден]</sup>.</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Примечание:</strong> XIM предотвратит вставку символов Unicode с комбинацией <code>Ctrl+Shift+u</code>.</div>
<h3>
<span id=".D0.97.D0.BD.D0.B0.D1.87.D0.BA.D0.B8_.D0.B2.D0.B0.D0.BB.D1.8E.D1.82_.D0.BD.D0.B0_.D0.B4.D1.80.D1.83.D0.B3.D0.B8.D1.85_.D0.BA.D0.BD.D0.BE.D0.BF.D0.BA.D0.B0.D1.85"></span><span class="mw-headline" id="Значки_валют_на_других_кнопках">Значки валют на других кнопках</span>
</h3>
<p>Большинство европейских клавиатур имеют знак Euro (€), напечатанный на клавише <code>5</code>. Например, чтобы получить доступ к нему с помощью <code>Alt+5</code>, используйте параметры <code>lv3:lalt_switch</code> и <code>eurosign:5</code>.
</p>
<p>Знак рупии (₹) можно использовать также с <code>rupeesign:4</code>.
</p>
<h3>
<span id=".D0.9F.D0.B5.D1.80.D0.B5.D0.BA.D0.BB.D1.8E.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D1.81.D0.BE.D1.81.D1.82.D0.BE.D1.8F.D0.BD.D0.B8.D1.8F_.D0.BA.D0.BB.D0.B0.D0.B2.D0.B8.D1.88.D0.B8_Caps_Lock_.D1.81.D1.80.D0.B0.D0.B7.D1.83_.D0.BF.D0.BE.D1.81.D0.BB.D0.B5_.D0.BD.D0.B0.D0.B6.D0.B0.D1.82.D0.B8.D1.8F"></span><span class="mw-headline" id="Переключение_состояния_клавиши_Caps_Lock_сразу_после_нажатия">Переключение состояния клавиши Caps Lock сразу после нажатия</span>
</h3>
<p>Те, кто предпочитает вводить заглавные буквы с помощью клавиши Caps Lock, могут испытывать небольшую задержку при переключении состояния Caps Lock, что приводит к двум или более заглавными буквами (например, <i>THe</i>, <i>ARch LInux</i>). Это поведение <a href="https://en.wikipedia.org/wiki/ru:Caps_Lock#.D0.98.D1.81.D1.82.D0.BE.D1.80.D0.B8.D1.8F" class="extiw" title="wikipedia:ru:Caps Lock">происходит от печатных машин</a>.
</p>
<p>Некоторые более популярные операционные системы удалили это поведение, либо добровольно (это может сбить с толку некоторых), либо по ошибке, однако это вопрос предпочтения. Отчеты об ошибках были отправлены на баг-трекер X-сервера, поскольку в настоящее время нет простого способа переключиться на поведение, представленное другими операционными системами. Для тех, кто хотел бы следить за этой проблемой, отчеты об ошибках и последний рабочий прогресс можно найти по адресу <a rel="nofollow" class="external autonumber" href="https://bugs.freedesktop.org/show_bug.cgi?id=27903">[2]</a> и <a rel="nofollow" class="external autonumber" href="https://gitlab.freedesktop.org/xorg/xserver/issues/312">[3]</a>.
</p>
<h4>
<span id=".D0.92.D1.80.D0.B5.D0.BC.D0.B5.D0.BD.D0.BD.D0.BE.D0.B5_.D1.80.D0.B5.D1.88.D0.B5.D0.BD.D0.B8.D0.B5"></span><span class="mw-headline" id="Временное_решение">Временное решение</span>
</h4>
<p>Сначала, экспортируйте настройки клавиатуры в файл:
</p>
<pre>$ xkbcomp -xkb $DISPLAY xkbmap
</pre>
<p>В файле <i>xkbmap</i> найдите раздел Caps Lock, который начинается с <i>key &lt;CAPS&gt;</i>:
</p>
<pre> key &lt;CAPS&gt; {         [       Caps_Lock ] };
</pre>
<p>и замените весь раздел следующим кодом:
</p>
<pre>key &lt;CAPS&gt; {
    repeat=no,
    type[group1]="ALPHABETIC",
    symbols[group1]=[ Caps_Lock, Caps_Lock],
    actions[group1]=[ LockMods(modifiers=Lock), Private(type=3,data[0]=1,data[1]=3,data[2]=3)]
};
</pre>
<p>Сохраните и перезагрузите настройки клавиатуры:
</p>
<pre>$ xkbcomp -w 0 xkbmap $DISPLAY
</pre>
<p>Поскольку эти настройки не сохраняются после перезагрузки системы, можно создать с ними службу, которая будет запускаться после старта X.
</p>
<h2>
<span id=".D0.A4.D1.83.D0.BD.D0.BA.D1.86.D0.B8.D0.B8_.D0.BE.D0.B4.D0.BD.D0.BE.D0.BA.D1.80.D0.B0.D1.82.D0.BD.D0.BE.D0.B3.D0.BE_.D0.BD.D0.B0.D0.B6.D0.B0.D1.82.D0.B8.D1.8F_.D0.BA.D0.BB.D0.B0.D0.B2.D0.B8.D1.88"></span><span class="mw-headline" id="Функции_однократного_нажатия_клавиш">Функции однократного нажатия клавиш</span>
</h2>
<p>Чтобы задать клавише-модификатору дополнительную функцию однократного нажатия, воспользуйтесь <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=xcape">xcape</a></span>. Таким образом возможно, к примеру, назначить функцию <code>Escape</code> клавише <code>CapsLock</code> при нажатии только данной клавиши, а при нажатии вместе с другой кнопкой будет вызвана функция клавиши <code>Control</code>. Для начала задайте перестановку <code>Control</code>, используя <a href="#%D0%9F%D0%B5%D1%80%D0%B5%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_Caps_Lock_%D0%B8_%D0%9B%D0%B5%D0%B2%D0%BE%D0%B3%D0%BE_Control">setxkbmap</a>, как описано ранее, а также задайте ассоциацию с <code>Escape</code> с помощью <i>xcape</i>:
</p>
<pre> $ xcape -e 'Caps_Lock=Escape'
</pre>
<p>Возможно задать несколько ассоциаций, используя точку с запятой. Например: <code>Caps_Lock=Escape;Shift_L=Escape</code>.
</p>
<p>Заметьте, что <i>xcape</i> не сгенерирует событие при удержании кнопки дольше времени ожидания (по умолчанию 500 мс).
</p>
<h2>
<span id=".D0.A0.D0.B5.D0.B3.D1.83.D0.BB.D0.B8.D1.80.D0.BE.D0.B2.D0.BA.D0.B0_.D0.B7.D0.B0.D0.B4.D0.B5.D1.80.D0.B6.D0.BA.D0.B8_.D0.B8_.D1.81.D0.BA.D0.BE.D1.80.D0.BE.D1.81.D1.82.D0.B8_.D0.B0.D0.B2.D1.82.D0.BE.D0.BF.D0.BE.D0.B2.D1.82.D0.BE.D1.80.D0.B0"></span><span class="mw-headline" id="Регулировка_задержки_и_скорости_автоповтора">Регулировка задержки и скорости автоповтора</span>
</h2>
<p><i>Задержка автоповтора</i> означает количество времени (обычно в миллисекундах), за которое необходимо нажать и удерживать клавишу для начала повторного процесса. После запуска повторяющегося процесса символ будет повторяться с определенной частотой (обычно заданной в Гц), указанной <i>скоростью автоповтора</i>. Обратите внимание, что эти настройки настраиваются отдельно для Xorg и <a href="../ru/eed6a0fa41269fff24ec714d862698e6.html#%D0%A0%D0%B5%D0%B3%D1%83%D0%BB%D0%B8%D1%80%D0%BE%D0%B2%D0%BA%D0%B0_%D0%B7%D0%B0%D0%B4%D0%B5%D1%80%D0%B6%D0%BA%D0%B8_%D0%B8_%D1%81%D0%BA%D0%BE%D1%80%D0%BE%D1%81%D1%82%D0%B8_%D0%B0%D0%B2%D1%82%D0%BE%D0%BF%D0%BE%D0%B2%D1%82%D0%BE%D1%80%D0%B0" class="mw-redirect" title="Конфигурация клавиатуры в консоли">для виртуальной консоли</a>.
</p>
<h3>
<span id=".D0.A7.D0.B5.D1.80.D0.B5.D0.B7_xset"></span><span class="mw-headline" id="Через_xset">Через xset</span>
</h3>
<p>Инструмент <i>xset</i> может быть использован для настройки скорости и задержки автоповтора для активного X-сервера, но определенные действия во время его работы могут привести к тому, что он сбросит эти изменения и вернется к настройкам <i>по умолчанию</i>.
</p>
<p>Использование:
</p>
<pre>$ xset r rate <i>задержка</i> [<i>скорость</i>]
</pre>
<p>Например, чтобы установить задержку автоповтора в 200 мс и скорость автоповтора в 30 Гц, используйте следующую команду (используйте <a href="../ru/Xinit.html" class="mw-redirect" title="Xinitrc (Русский)">xinitrc</a>, чтобы сделать эти настройки постоянными):
</p>
<pre>$ xset r rate 200 30
</pre>
<p>Ввод команды без указания задержки и скорости автоповтора приведет к сбросу значений до их соответствующих значений по умолчанию; задержка 660 мс и скорость 25 Гц:
</p>
<pre>$ xset r rate
</pre>
<h3>
<span id=".D0.A7.D0.B5.D1.80.D0.B5.D0.B7_.D0.BF.D0.B0.D1.80.D0.B0.D0.BC.D0.B5.D1.82.D1.80.D1.8B_.D0.B7.D0.B0.D0.BF.D1.83.D1.81.D0.BA.D0.B0_XServer"></span><span class="mw-headline" id="Через_параметры_запуска_XServer">Через параметры запуска XServer</span>
</h3>
<p>Более проверенный способ установить задержку и скорость автоповтора — сделать их настройками <i>по умолчанию</i>, передав нужные настройки X-серверу при его запуске, используя следующие параметры:
</p>
<ul>
<li>
<code>-ardelay <i>миллисекунды</i></code> — устанавливает задержку автоповтора (длительность в миллисекундах удержания клавиши нажатой до начала автоповтора).</li>
<li>
<code>-arinterval <i>миллисекунды</i></code> — устанавливает интервал автоповтора (длительность в миллисекундах, которая должна пройти между нажатиями, генерируемыми автоповтором).</li>
</ul>
<p>Для получения полного списка параметров X-сервера смотрите <span class="plainlinks archwiki-template-man" title="$ man 1 Xserver"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/Xserver.1">Xserver(1)</a></span> и обратитесь к своему <a href="../ru/Display_manager.html" class="mw-redirect" title="Экранный менеджер">экранному менеджеру</a> для получения информации о том, как передать эти параметры.
</p>
<h2>
<span id=".D0.A1.D0.BC.D0.BE.D1.82.D1.80.D0.B8.D1.82.D0.B5_.D1.82.D0.B0.D0.BA.D0.B6.D0.B5"></span><span class="mw-headline" id="Смотрите_также">Смотрите также</span>
</h2>
<ul><li>
<a rel="nofollow" class="external text" href="https://web.archive.org/web/20170825051821/http://madduck.net:80/docs/extending-xkb/">Руководство Madduck по расширению XKB</a> (архив Wayback Machine)</li></ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../ru/Category:X_server.html" title="Category:X server (Русский)">X server (Русский)</a></li>
<li><a href="../ru/Category:Keyboard_configuration.html" title="Category:Keyboard configuration (Русский)">Keyboard configuration (Русский)</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Expansion.html" title="Category:Pages or sections flagged with Template:Expansion">Pages or sections flagged with Template:Expansion</a></li>
<li><a href="../en/Category:Pages_with_broken_section_links.html" title="Category:Pages with broken section links">Pages with broken section links</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Xorg_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)/Keyboard_configuration_(%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9)&amp;oldid=645201">https://wiki.archlinux.org/index.php?title=Xorg_(Русский)/Keyboard_configuration_(Русский)&amp;oldid=645201</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 13 December 2020, at 14:42.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
