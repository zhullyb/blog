<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Mirrors (العربية) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Mirrors_العربية rootpage-Mirrors_العربية skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Mirrors (العربية)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div style="text-align: right; direction:rtl;margin-right:30px;">
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="../en/Mirroring.html" class="mw-redirect" title="Mirroring">Mirroring</a></li>
<li><a href="../en/Pacman.html" title="Pacman">pacman</a></li>
<li><a href="../en/Reflector.html" title="Reflector">reflector</a></li>
</ul>
</div>
<p>هذه الصفحة دليل لاختيار وإعداد المرايا Mirrors (المرآة mirror هي نفسها المُخدم server، لكن يستخدم هذا الاسم مرآة mirror مع بعض المخدمات من بينها مخازن الحزم Package Repositories) ،بالإضافة إلى قائمة بالمرايا المتوفرة.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#%D8%AA%D9%81%D8%B9%D9%8A%D9%84_%D9%85%D8%B1%D8%A2%D8%A9_%D9%85%D8%B9%D9%8A%D9%86%D8%A9"><span class="tocnumber">1</span> <span class="toctext">تفعيل مرآة معينة</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#%D8%A5%D8%AC%D8%A8%D8%A7%D8%B1_%D9%85%D8%AF%D9%8A%D8%B1_%D8%A7%D9%84%D8%AD%D8%B2%D9%85_pacman_%D8%B9%D9%84%D9%89_%D8%AA%D8%AD%D8%AF%D9%8A%D8%AB_%D9%82%D9%88%D8%A7%D8%A6%D9%85_%D8%A7%D9%84%D8%AD%D8%B2%D9%85"><span class="tocnumber">1.1</span> <span class="toctext">إجبار مدير الحزم pacman على تحديث قوائم الحزم</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3"><a href="#%D8%AD%D8%A7%D9%84%D8%A9_%D8%A7%D9%84%D9%85%D8%B1%D8%A7%D9%8A%D8%A7"><span class="tocnumber">2</span> <span class="toctext">حالة المرايا</span></a></li>
<li class="toclevel-1 tocsection-4">
<a href="#%D8%AA%D8%B1%D8%AA%D9%8A%D8%A8_%D8%A7%D9%84%D9%85%D8%B1%D8%A7%D9%8A%D8%A7"><span class="tocnumber">3</span> <span class="toctext">ترتيب المرايا</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#%D8%A7%D9%84%D8%AA%D8%B1%D8%AA%D9%8A%D8%A8_%D8%AD%D8%B3%D8%A8_%D8%A7%D9%84%D8%B3%D8%B1%D8%B9%D8%A9"><span class="tocnumber">3.1</span> <span class="toctext">الترتيب حسب السرعة</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#%D8%A7%D9%84%D8%AA%D8%B1%D8%AA%D9%8A%D8%A8_%D8%AD%D8%B3%D8%A8_%D8%A7%D9%84%D8%B3%D8%B1%D8%B9%D8%A9_%D9%88%D8%A7%D9%84%D8%AD%D8%A7%D9%84%D8%A9"><span class="tocnumber">3.2</span> <span class="toctext">الترتيب حسب السرعة والحالة</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#%D8%B3%D9%83%D8%B1%D8%A8%D8%AA_%D9%84%D8%A5%D8%AF%D8%A7%D8%B1%D8%A9_%D8%A7%D8%B3%D8%AA%D8%AE%D8%AF%D8%A7%D9%85_Pacman_Mirrorlist_Generator"><span class="tocnumber">3.3</span> <span class="toctext">سكربت لإدارة استخدام Pacman Mirrorlist Generator</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#%D8%A7%D8%B3%D8%AA%D8%AE%D8%AF%D8%A7%D9%85_%D8%B3%D9%83%D8%B1%D8%A8%D8%AA_Reflector"><span class="tocnumber">3.4</span> <span class="toctext">استخدام سكربت Reflector</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#%D8%A7%D8%AE%D8%AA%D9%8A%D8%A7%D8%B1_%D9%85%D8%B1%D8%A2%D8%A9_%D9%85%D8%AD%D9%84%D9%8A%D8%A9"><span class="tocnumber">3.5</span> <span class="toctext">اختيار مرآة محلية</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10">
<a href="#%D8%A7%D9%84%D9%85%D8%B1%D8%A7%D9%8A%D8%A7_%D8%A7%D9%84%D8%B1%D8%B3%D9%85%D9%8A%D8%A9"><span class="tocnumber">4</span> <span class="toctext">المرايا الرسمية</span></a>
<ul>
<li class="toclevel-2 tocsection-11"><a href="#%D8%A7%D9%84%D9%85%D8%B1%D8%A7%D9%8A%D8%A7_%D8%A7%D9%84%D9%85%D8%B9%D8%AF%D8%A9_%D9%84%D9%80_IPv6"><span class="tocnumber">4.1</span> <span class="toctext">المرايا المعدة لـ IPv6</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-12"><a href="#%D8%A7%D9%84%D9%85%D8%B1%D8%A7%D9%8A%D8%A7_%D8%BA%D9%8A%D8%B1_%D8%A7%D9%84%D8%B1%D8%B3%D9%85%D9%8A%D8%A9"><span class="tocnumber">5</span> <span class="toctext">المرايا غير الرسمية</span></a></li>
<li class="toclevel-1 tocsection-13">
<a href="#%D8%A7%D8%B3%D8%AA%D9%83%D8%B4%D8%A7%D9%81_%D8%A7%D9%84%D8%A3%D8%AE%D8%B7%D8%A7%D8%A1_%D9%88%D8%A5%D8%B5%D9%84%D8%A7%D8%AD%D9%87%D8%A7"><span class="tocnumber">6</span> <span class="toctext">استكشاف الأخطاء وإصلاحها</span></a>
<ul>
<li class="toclevel-2 tocsection-14">
<a href="#%D9%85%D8%B1%D8%A7%D9%8A%D8%A7_%D9%84%D9%85_%D9%8A%D8%AA%D9%85_%D9%85%D8%B2%D8%A7%D9%85%D9%86%D8%AA%D9%87%D8%A7_out-of-sync:_%D8%AD%D8%B2%D9%85_%D8%AA%D8%A7%D9%84%D9%81%D8%A9_%D8%A3%D9%88_%D9%84%D9%85_%D9%8A%D8%AA%D9%85_%D8%A5%D9%8A%D8%AC%D8%A7%D8%AF_%D8%A7%D9%84%D9%85%D9%84%D9%81"><span class="tocnumber">6.1</span> <span class="toctext">مرايا لم يتم مزامنتها out-of-sync: حزم تالفة أو لم يتم إيجاد الملف</span></a>
<ul>
<li class="toclevel-3 tocsection-15"><a href="#%D8%A7%D8%B3%D8%AA%D8%AE%D8%AF%D8%A7%D9%85_%D9%83%D9%84_%D8%A7%D9%84%D9%85%D8%B1%D8%A7%D9%8A%D8%A7"><span class="tocnumber">6.1.1</span> <span class="toctext">استخدام كل المرايا</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-16"><a href="#%D8%A7%D9%86%D8%B8%D8%B1_%D8%A3%D9%8A%D8%B6%D8%A7%D9%8B"><span class="tocnumber">7</span> <span class="toctext">انظر أيضاً</span></a></li>
</ul>
</div>

<h2>
<span id=".D8.AA.D9.81.D8.B9.D9.8A.D9.84_.D9.85.D8.B1.D8.A2.D8.A9_.D9.85.D8.B9.D9.8A.D9.86.D8.A9"></span><span class="mw-headline" id="تفعيل_مرآة_معينة">تفعيل مرآة معينة</span>
</h2>
<p>لتفعيل المرايا افتح الملف <code>/etc/pacman.d/mirrorlist</code>، ثم قم بتفعيل المرايا التي تريدها (إزالة علامة # قبل المرآة المطلوبة) حسب موقعك الجغرافي.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>ملاحظة:</strong>  تم تحديد سرعة مُخدّم ftp.archlinux.org القصوى بـ 50 كيلوبايت في الثانية <a rel="nofollow" class="external text" href="https://archlinux.org/news/throttling-ftparchlinuxorg-rsyncarchlinuxorg/">throttled at 50KB/s</a>.</div>
<p>مثال:
</p>
<div align="left" dir="ltr">
<pre># Any
# Server = ftp://mirrors.kernel.org/archlinux/$repo/os/$arch
<b>Server = http://mirrors.kernel.org/archlinux/$repo/os/$arch</b>
</pre>
</div>
<p>انظر إلى <a href="#Mirror_status">#Mirror status</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup> و <a href="#List_by_speed">#List by speed</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup> للاطلاع على أدوات مساعدة  في اختيار المرايا.
</p>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>تلميحة:</strong>  قم بتفعيل 5 مرايا مفضلة لديك ثم ضعهم في أعلى ملف قائمة المرايا، بهذه الطريقة يسهل إيجادهم وتغيير ترتيبهم في حال حصلت أي مشكلة للمرآة الأولى، كما أنها تسهل عملية دمج تحديثات قائمة المرايا.</div>
<p>من الممكن أيضاً تعيين مرايا محددة ضمن الملف <code>/etc/pacman.conf</code>، لكي تحدد مرآة لمستودع <i>[core]</i> فإن الطريقة الافتراضية هي:
</p>
<div align="left" dir="ltr">
<pre>[core]
Include = /etc/pacman.d/mirrorlist
</pre>
</div>
<p>لكي تجعل المرآة <i>HostEurope</i> مرآة افتراضية قم بإضافتها قبل سطر <code>Include</code>:
</p>
<div align="left" dir="ltr">
<pre>[core]
<b>Server = ftp://ftp.hosteurope.de/mirror/ftp.archlinux.org/core/os/$arch</b>
Include = /etc/pacman.d/mirrorlist
</pre>
</div>
<p>سيقوم مدير الحزم pacman بالاتصال بهذه المرآة قبل أي مرآة أخرى، يمكنك فعل السابق للمستودعات الأخرى مثل <i>[testing]</i> و <i>[extra]</i> و <i>[community]</i>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>ملاحظة:</strong>  إذا قمت بتعيين مرايا في الملف <code>pacman.conf</code> بشكل مباشر فتذكر أن تستخدم مرآة واحدة لكل المستودعات، وإلا فقد يتم تثبيت حزم غير متوافقة مع بعضها، مثل linux من مستودع <i>[core]</i> ووحدة نواة قديمة من<i>[extra]</i>.</div>
<h3>
<span id=".D8.A5.D8.AC.D8.A8.D8.A7.D8.B1_.D9.85.D8.AF.D9.8A.D8.B1_.D8.A7.D9.84.D8.AD.D8.B2.D9.85_pacman_.D8.B9.D9.84.D9.89_.D8.AA.D8.AD.D8.AF.D9.8A.D8.AB_.D9.82.D9.88.D8.A7.D8.A6.D9.85_.D8.A7.D9.84.D8.AD.D8.B2.D9.85"></span><span class="mw-headline" id="إجبار_مدير_الحزم_pacman_على_تحديث_قوائم_الحزم">إجبار مدير الحزم pacman على تحديث قوائم الحزم</span>
</h3>
<p>بعد إنشاء أو تعديل ملف <code>/etc/pacman.d/mirrorlist</code> (يدوياً أو باستخدام <code>rankmirrors</code>) نفذ الأمر التالي:
</p>
<div align="left" dir="ltr">
<pre># pacman -Syy
</pre>
</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>تلميحة:</strong>  تمرير خيار <code>--refresh</code> أو <code>-y</code> مرتين يجبر pacman على تحديث كل قوائم الحزم حتى تلك التي تم اعتبارها أنها على آخر تحديث up to date، تنفيذ <code>pacman -Syy</code> <i>كلما انتقلت إلى مرايا جديدة</i> هو عمل جيد يساعد في تجنب المشاكل المحتملة.</div>
<h2>
<span id=".D8.AD.D8.A7.D9.84.D8.A9_.D8.A7.D9.84.D9.85.D8.B1.D8.A7.D9.8A.D8.A7"></span><span class="mw-headline" id="حالة_المرايا">حالة المرايا</span>
</h2>
<p>قم بتفحص حالة مرايا آرتش ومدى حداثتها بزيارة <a rel="nofollow" class="external free" href="http://www.archlinux.de/?page=MirrorStatus">http://www.archlinux.de/?page=MirrorStatus</a> و <a rel="nofollow" class="external free" href="https://archlinux.org/mirrors/status/">https://archlinux.org/mirrors/status/</a>.
</p>
<p>يمكنك توليد قائمة بأحدث المرايا من <a rel="nofollow" class="external text" href="https://archlinux.org/mirrorlist/">هنا</a>، ولإدارة العملية استخدم <a href="#Script_to_automate_use_of_Pacman_Mirrorlist_Generator">script</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup>، أو ثبّت <a href="../en/Reflector.html" title="Reflector">Reflector</a> وهي أداة تولد قوائم مرايا mirrorlist باستخدام قائمة Mirrorcheck، كما يمكنك معرفة مدى حداثة مرآة يدوياً عن طريق:
</p>
<ol>
<li>اختيار مُخدم (مرآة) والذهاب إلى المسار "extra/os/" ضمنه.</li>
<li>الذهاب إلى <a rel="nofollow" class="external free" href="https://archlinux.org/">https://archlinux.org/</a> في نافذة جديدة أو لسان جديد داخل المتصفح.</li>
<li>مقارنة تاريخ آخر تعديل last-modified لمجلد <code>i686</code> على المرآة وتاريخ آخر تعديل لمستودع <i>[extra]</i> على الصفحة الرئيسية للموقع، في صندوق <i>مستودعات الحزم Package Repositories</i> على الجانب الأيمن.</li>
</ol>
<h2>
<span id=".D8.AA.D8.B1.D8.AA.D9.8A.D8.A8_.D8.A7.D9.84.D9.85.D8.B1.D8.A7.D9.8A.D8.A7"></span><span class="mw-headline" id="ترتيب_المرايا">ترتيب المرايا</span>
</h2>
<p>عند تحميل الحزم من المستودعات فإن pacman يقوم باستخدام المرايا حسب ترتيبها في الملف <code>/etc/pacman.d/mirrorlist</code>، في حال أنك لا تستخدم أداة reflector التي تقوم بترتيب المرايا بطريقتين إما حسب حداثتها أو حسب سرعتها، فقم باتباع هذا الشرح حول ترتيب المرايا يدوياً.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>ملاحظة:</strong>  هذا لا ينطبق على سكربت <a href="../en/Pacman/Tips_and_tricks.html#Using_powerpill-light" class="mw-redirect" title="Improve pacman performance">powerpill-light</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup> الذي يقوم بالاتصال بعدة مُخدمات معاً لزيادة سرعة التحميل الكلية وبالتالي سرعة الاتصالات الفردية تصبح أقل أهمية، ويمكن إعداد powerpill-light لكي يطلب السرعات الدنيا لكل اتصال.</div>
<h3>
<span id=".D8.A7.D9.84.D8.AA.D8.B1.D8.AA.D9.8A.D8.A8_.D8.AD.D8.B3.D8.A8_.D8.A7.D9.84.D8.B3.D8.B1.D8.B9.D8.A9"></span><span class="mw-headline" id="الترتيب_حسب_السرعة">الترتيب حسب السرعة</span>
</h3>
<p>يمكنك استخدام أسرع مرآة محلية عند التحميل، وذلك بتحديدها عن طريق السكربت<code>/usr/bin/rankmirrors</code> وهو عبارة عن سكربت Bash مضمّن مع توزيعة آرتش.
</p>
<p>قم بأخذ نسخة احتياطية من الملف ملف عن طريق:
</p>
<div align="left" dir="ltr">
<pre># cp /etc/pacman.d/mirrorlist /etc/pacman.d/mirrorlist.backup
</pre>
</div>
<p>قم بتفعيل المرايا داخل الملف <code>/etc/pacman.d/mirrorlist.backup</code> لكي يتم اختبارها عن طريق <code>rankmirrors</code>.
</p>
<p>أو تستطيع تنفيذ الأمر <code>sed</code> لتفعيل جميع المرايا دون تدخل منك:
</p>
<div align="left" dir="ltr">
<pre># sed '/^#\S/ s|#||' -i /etc/pacman.d/mirrorlist.backup
</pre>
</div>
<p>أخيراً قم بترتيب المرايا، المعامل <code>-n 6</code> يعني أظهر فقط أسرع 6 مرايا:
</p>
<div align="left" dir="ltr">
<pre># rankmirrors -n 6 /etc/pacman.d/mirrorlist.backup &gt; /etc/pacman.d/mirrorlist
</pre>
</div>
<p>نفذ <code>rankmirrors -h</code> لإظهار قائمة بكل الخيارات المتاحة.
</p>
<h3>
<span id=".D8.A7.D9.84.D8.AA.D8.B1.D8.AA.D9.8A.D8.A8_.D8.AD.D8.B3.D8.A8_.D8.A7.D9.84.D8.B3.D8.B1.D8.B9.D8.A9_.D9.88.D8.A7.D9.84.D8.AD.D8.A7.D9.84.D8.A9"></span><span class="mw-headline" id="الترتيب_حسب_السرعة_والحالة">الترتيب حسب السرعة والحالة</span>
</h3>
<p>التحميل من المرايا السريعة فقط ليست فكرة جيدة فقد لا تكون هذه المرايا محتوية على أحدث نسخ من الحزم، الطريقة المفضلة هي الترتيب حسب السرعة <a href="#List_by_speed">#List by speed</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup> ومن ثم ترتيب هذه المرايا الستة وفقاً لحالتها <a href="#Mirror_status">#Mirror status</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup>.
</p>
<p>قم بزيارة الرابط أو الرابطان في <a href="#Mirror_status">#Mirror status</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup> وقم بترتيبهم الأحدث تحديثاً ثم الأقدم، ضع المرايا الأحدث في أعلى ملف <code>/etc/pacman.d/mirrorlist</code> وإذا كانت المرايا قديمة التحديث فلا تضفها، إعادة هذه العملية ستزيل المرايا القديمة التحديث، وفي النهاية ستحصل على قائمة من ستة مرايا مرتبة حسب السرعة والحالة.
</p>
<p>عندما تواجه مشاكل في المرايا قم بإعادة تكرار العملية السابقة، أو قم بإعادة تكرارها كل فترة حتى لو لم تواجه مشاكل كي تُبقي ملف <code>/etc/pacman.d/mirrorlist</code> محدثاً up to date.
</p>
<h3>
<span id=".D8.B3.D9.83.D8.B1.D8.A8.D8.AA_.D9.84.D8.A5.D8.AF.D8.A7.D8.B1.D8.A9_.D8.A7.D8.B3.D8.AA.D8.AE.D8.AF.D8.A7.D9.85_Pacman_Mirrorlist_Generator"></span><span class="mw-headline" id="سكربت_لإدارة_استخدام_Pacman_Mirrorlist_Generator">سكربت لإدارة استخدام Pacman Mirrorlist Generator</span>
</h3>
<p>يمكن استخدام سكربت shell التالي لكي تُحدّث المرايا بناءً على الترتيب الذي يقوم به <a rel="nofollow" class="external text" href="https://archlinux.org/mirrorlist/">Pacman Mirrorlist Generator</a>، إذا لم تكن تعيش في الولايات المتحدة تستطيع تعديل متغير <code>country</code>.
</p>
<div align="left" dir="ltr">
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">updatemirrors.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh

[ "$UID" != 0 ] &amp;&amp; su=sudo

country='US'
url="https://www.archlinux.org/mirrorlist/?country=$country&amp;protocol=https&amp;protocol=http&amp;ip_version=4&amp;use_mirror_status=on"

tmpfile=$(mktemp --suffix=-mirrorlist)

# Get latest mirror list and save to tmpfile
wget -qO- "$url" | sed 's/^#Server/Server/g' &gt; "$tmpfile"

# Backup and replace current mirrorlist file (if new file is non-zero)
if [ -s "$tmpfile" ]
then
  { echo " Backing up the original mirrorlist..."
    $su mv -i /etc/pacman.d/mirrorlist /etc/pacman.d/mirrorlist.orig; } &amp;&amp;
  { echo " Rotating the new list into place..."
    $su mv -i "$tmpfile" /etc/pacman.d/mirrorlist; }
else
  echo " Unable to update, could not download list."
fi

# allow global read access (required for non-root yaourt execution)
chmod +r /etc/pacman.d/mirrorlist</pre>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>ملاحظة:</strong>  يتوجب عليك نسخ النص السابق ووضعه في ملف ثم تنفيذ الأمر <code>chmod +x</code> على الملف، إذا لم تكن مسجلاً دخولك كمستخدم جذر سيقوم السكربت باستدعاء sudo بدلاً عنك عندما يحتاج إلى تغيير الترتيب في قائمة المرايا.</div>
<h3>
<span id=".D8.A7.D8.B3.D8.AA.D8.AE.D8.AF.D8.A7.D9.85_.D8.B3.D9.83.D8.B1.D8.A8.D8.AA_Reflector"></span><span class="mw-headline" id="استخدام_سكربت_Reflector">استخدام سكربت Reflector</span>
</h3>
<p>بدلاً من السابق يمكنك استخدام سكربت <a href="../en/Reflector.html" title="Reflector">Reflector</a> حيث أنه يقوم بجلب أحدث قائمة مرايا من صفحة <a rel="nofollow" class="external text" href="https://archlinux.org/mirrors/status/">MirrorStatus</a> تلقائياً، ثم يقوم بتحديد المرايا الأحدث تحديثاً، ثم يرتبهم حسب السرعة ويكتب هذه التعديلات في الملف <code>/etc/pacman.d/mirrorlist</code>.
</p>
<h3>
<span id=".D8.A7.D8.AE.D8.AA.D9.8A.D8.A7.D8.B1_.D9.85.D8.B1.D8.A2.D8.A9_.D9.85.D8.AD.D9.84.D9.8A.D8.A9"></span><span class="mw-headline" id="اختيار_مرآة_محلية">اختيار مرآة محلية</span>
</h3>
<p>أبسط طريقة هي وضع مرآة محلية في أعلى القائمة داخل ملف قائمة المرايا، وسيجعل pacman لهذه المرآة الأولوية عن باقي المرايا.
</p>
<p>بدلاً من ذلك يمكن تعديل ملف pacman.conf بوضع مرآة محلية قبل السطر الذي يحدد ملف قائمة المرايا المستخدم في التحميل، أي في المكان المكتوب فيه "أضف المُخدمات المفضلة هنا add your preferred servers here"، يُفضل (وهو أكثر أماناً) بأن تقوم باختيار نفس المُخدم لكل المستودعات.
</p>
<h2>
<span id=".D8.A7.D9.84.D9.85.D8.B1.D8.A7.D9.8A.D8.A7_.D8.A7.D9.84.D8.B1.D8.B3.D9.85.D9.8A.D8.A9"></span><span class="mw-headline" id="المرايا_الرسمية">المرايا الرسمية</span>
</h2>
<p>قائمة مرايا آرتش لينوكس الرسمية تتوفر في حزمة <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pacman-mirrorlist">pacman-mirrorlist</a></span>، ولكي تحصل على قوائم أحدث من الموجودة في الحزمة السابقة اذهب إلى صفحة <a rel="nofollow" class="external text" href="https://archlinux.org/mirrorlist/">Pacman Mirror List Generator</a>.
</p>
<p>في حال أنك لم تقم بإعداد أية مرايا وأن حزمة <code>pacman-mirrorlist</code> غير مثبتة لديك، قم بتفيذ الأوامر التالية:
</p>
<div align="left" dir="ltr">
<pre># wget -O /etc/pacman.d/mirrorlist https://www.archlinux.org/mirrorlist/all/
</pre>
</div>
<p>تأكد من أنك قمت بتفعيل المرايا المفضلة كما هو مشروح في الأعلى، ومن ثم نفذ:
</p>
<div align="left" dir="ltr">
<pre># pacman -Syy
# pacman -S --force pacman-mirrorlist
</pre>
</div>
<p>إذا كنت ترغب بأن تضيف مرآتك إلى القائمة الرسمية قدم طلباً بذلك، في غضون ذلك أضفها إلى قائمة <a href="#Unofficial_mirrors">#Unofficial mirrors</a><sup>[<a href="../en/Help:Procedures.html#Fix_broken_section_links" title="Help:Procedures">broken link</a>: invalid section]</sup> في نهاية هذه الصفحة.
</p>
<p>إذا حصلت على خطأ يعلمك بأن متغير <code>$arch</code> تم استخدامه لكن لم يتم تعريفه، قم بإضافة التالي إلى ملف <code>/etc/pacman.conf</code>:
</p>
<div align="left" dir="ltr">
<pre>Architecture = x86_64
</pre>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>ملاحظة:</strong>  يمكنك أيضاً استعمال <code>auto</code> و <code>i686</code> لمتغير <code>Architecture</code>.</div>
<h3>
<span id=".D8.A7.D9.84.D9.85.D8.B1.D8.A7.D9.8A.D8.A7_.D8.A7.D9.84.D9.85.D8.B9.D8.AF.D8.A9_.D9.84.D9.80_IPv6"></span><span class="mw-headline" id="المرايا_المعدة_لـ_IPv6">المرايا المعدة لـ IPv6</span>
</h3>
<p>يمكن استعمال <a rel="nofollow" class="external text" href="https://archlinux.org/mirrorlist/?country=all&amp;protocol=http&amp;ip_version=6">pacman mirror list generator</a> لإيجاد قائمة بمرايا IPv6 المتوفرة.
</p>
<h2>
<span id=".D8.A7.D9.84.D9.85.D8.B1.D8.A7.D9.8A.D8.A7_.D8.BA.D9.8A.D8.B1_.D8.A7.D9.84.D8.B1.D8.B3.D9.85.D9.8A.D8.A9"></span><span class="mw-headline" id="المرايا_غير_الرسمية">المرايا غير الرسمية</span>
</h2>
<p>هذه المرايا <i>غير</i> مكتوبة في <code>/etc/pacman.d/mirrorlist</code>.
</p>
<p>See <a href="../en/Unofficial_mirrors.html" title="Unofficial mirrors">Unofficial mirrors</a>.
</p>
<h2>
<span id=".D8.A7.D8.B3.D8.AA.D9.83.D8.B4.D8.A7.D9.81_.D8.A7.D9.84.D8.A3.D8.AE.D8.B7.D8.A7.D8.A1_.D9.88.D8.A5.D8.B5.D9.84.D8.A7.D8.AD.D9.87.D8.A7"></span><span class="mw-headline" id="استكشاف_الأخطاء_وإصلاحها">استكشاف الأخطاء وإصلاحها</span>
</h2>
<h3>
<span id=".D9.85.D8.B1.D8.A7.D9.8A.D8.A7_.D9.84.D9.85_.D9.8A.D8.AA.D9.85_.D9.85.D8.B2.D8.A7.D9.85.D9.86.D8.AA.D9.87.D8.A7_out-of-sync:_.D8.AD.D8.B2.D9.85_.D8.AA.D8.A7.D9.84.D9.81.D8.A9_.D8.A3.D9.88_.D9.84.D9.85_.D9.8A.D8.AA.D9.85_.D8.A5.D9.8A.D8.AC.D8.A7.D8.AF_.D8.A7.D9.84.D9.85.D9.84.D9.81"></span><span class="mw-headline" id="مرايا_لم_يتم_مزامنتها_out-of-sync:_حزم_تالفة_أو_لم_يتم_إيجاد_الملف">مرايا لم يتم مزامنتها out-of-sync: حزم تالفة أو لم يتم إيجاد الملف</span>
</h3>
<p>المشاكل الناتجة عن المرايا التي لم يتم مزامنتها out-of-sync المُشار لها في هذا الرابط <a rel="nofollow" class="external text" href="https://archlinux.org/news/482/">this news post</a> قد تم بالفعل حلها بالنسبة لمعظم المستخدمين، لكن في حال أن هذه المشاكل ظهرت مرة أخرى قم بالتأكد من أن الحزم موجودة في مستودع [testing].
</p>
<p>بعد قيامك بالمزامنة عن طريق <code>pacman -Sy</code> نفذ هذا الأمر:
</p>
<div align="left" dir="ltr">
<pre># pacman -Ud $(pacman -Sup | tail -n +2 | sed -e 's,/\(core\|extra\)/,/testing/,' \
                                              -e 's,/\(community\)/,/\1-testing/,')
</pre>
</div>
<p>قيامك بالأمر السابق سيساعد في حال أن الحزم الموجودة في المرايا بقيت في مستودع [testing] ولم تتم مزامنتها مع مستودع [core] أو [extra]، ومن الآمن جداً أن تثبت الحزم من مستودع [testing] حيث أن الحزم تتم مطابقتها بالنسخة ورقم الإصدار.
</p>
<p>عموماً فمن الأفضل تبديل المرايا ومزامنتها عن طريق <code>pacman -Syy</code> من أن تلجأ إلى مستودع بديل، ومع ذلك فإن بعض أو كل المرايا مع مرور الوقت قد تصبح بحالة out-of-sync.
</p>
<h4>
<span id=".D8.A7.D8.B3.D8.AA.D8.AE.D8.AF.D8.A7.D9.85_.D9.83.D9.84_.D8.A7.D9.84.D9.85.D8.B1.D8.A7.D9.8A.D8.A7"></span><span class="mw-headline" id="استخدام_كل_المرايا">استخدام كل المرايا</span>
</h4>
<p>لمحاكاة سلوك <code>pacman -Su</code> في التنقل في قائمة المرايا كاملة استخدم هذا السكربت:
</p>
<div align="left" dir="ltr">
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/bin/pacup</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/bash

# Pacman will not exit on the first error. Comment the line below to
# try from [testing] directly.
pacman -Su "$@" &amp;&amp; exit

while read -r pkg; do
  if pacman -Ud "$pkg"; then
    continue
  else
    while read -r mirror; do
      pacman -Ud $(sed "s,.*\(/\(community-\)*testing/os/\(i686\|x86_64\)/\),$mirror\1," &lt;&lt;&lt;"$pkg") &amp;&amp;
      break
    done &lt; &lt;(sed -ne 's,^ *Server *= *\|/$repo/os/\(i686\|x86_64\).*,,gp' \
           &lt;/etc/pacman.d/mirrorlist | tail -n +2 )
  fi
done &lt; &lt;(pacman -Sup | tail -n +2 | sed -e 's,/\(core\|extra\)/,/testing/,' \
                                        -e 's,/\(community\)/,/\1-testing/,')
</pre>
</div>
<h2>
<span id=".D8.A7.D9.86.D8.B8.D8.B1_.D8.A3.D9.8A.D8.B6.D8.A7.D9.8B"></span><span class="mw-headline" id="انظر_أيضاً">انظر أيضاً</span>
</h2>
<p><a rel="nofollow" class="external text" href="http://wiki.gotux.net/code/bash/mirup">MirUp</a> - مُحمّل وفاحص لقائمة مرايا pacman
</p>
</div>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../ar/Category:About_Arch.html" title="Category:About Arch (العربية)">About Arch (العربية)</a></li>
<li><a href="../ar/Category:Package_management.html" title="Category:Package management (العربية)">Package management (العربية)</a></li>
<li><a href="../en/Category:26b1b2b0a4193aabcc33455732de89ac.html" title="Category:العربية">العربية</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_with_broken_section_links.html" title="Category:Pages with broken section links">Pages with broken section links</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Mirrors_(%D8%A7%D9%84%D8%B9%D8%B1%D8%A8%D9%8A%D8%A9)&amp;oldid=646928">https://wiki.archlinux.org/index.php?title=Mirrors_(العربية)&amp;oldid=646928</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 26 December 2020, at 12:15.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
