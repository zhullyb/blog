<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Nonfree applications package guidelines (Português) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Nonfree_applications_package_guidelines_Português rootpage-Nonfree_applications_package_guidelines_Português skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Nonfree applications package guidelines (Português)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Status de tradução:</strong> Esse artigo é uma tradução de <a href="../en/Nonfree_applications_package_guidelines.html" title="Nonfree applications package guidelines">Nonfree applications package guidelines</a>. Data da última tradução: 2019-11-11. Você pode ajudar a sincronizar a tradução, se houver <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Nonfree_applications_package_guidelines&amp;diff=0&amp;oldid=587317">alterações</a> na versão em inglês.</div>
<div class="toc" style="display:block; text-align: center; margin-bottom: 1em;">
<b><a href="../pt/Arch_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes do Arch">Diretrizes de pacotes do Arch</a></b>
<hr>
<p><a href="../pt/32-bit_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes 32-bit">32-bit</a> – <a href="../pt/CLR_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes CLR">CLR</a> – <a href="../pt/CMake_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes CMake">CMake</a> – <a href="../pt/Cross-compiling_tools_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes de ferramentas de compilação cruzada">Cross</a> – <a href="../pt/DKMS_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes DKMS">DKMS</a> – <a href="../pt/Eclipse_plugin_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes de plugin do Eclipse">Eclipse</a> – <a href="../pt/Electron_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes Electron">Electron</a> – <a href="../pt/Font_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes de fontes">Fonte</a> – <a href="../pt/Free_Pascal_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes Free Pascal">Free Pascal</a> – <a href="../pt/GNOME_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes GNOME">GNOME</a> – <a href="../pt/Go_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes Go">Go</a> – <a href="../pt/Haskell_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes Haskell">Haskell</a> – <a href="../pt/Java_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes Java">Java</a> – <a href="../pt/KDE_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes KDE">KDE</a> – <a href="../pt/Kernel_module_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes de módulos de kernel">Kernel</a> – <a href="../pt/Lisp_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes Lisp">Lisp</a> – <a href="../pt/Meson_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes Meson">Meson</a> – <a href="../pt/MinGW_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes MinGW">MinGW</a> – <a href="../pt/Node.js_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes Node.js">Node.js</a> – <a href="../pt/Nonfree_applications_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes de aplicativos não livres">Nonfree</a> – <a href="../pt/OCaml_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes OCaml">OCaml</a> – <a href="../pt/Perl_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes Perl">Perl</a> – <a href="../pt/PHP_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes PHP">PHP</a> – <a href="../pt/Python_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes Python">Python</a> – <a href="../pt/R_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes R">R</a> – <a href="../pt/Ruby_Gem_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes Ruby Gem">Ruby</a> – <a href="../pt/Rust_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes Rust">Rust</a> – <a href="../pt/VCS_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes VCS">VCS</a> – <a href="../pt/Web_application_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes de aplicativos da Web">Web</a> – <a href="../pt/Wine_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes Wine">Wine</a>
</p>
</div>
<p>Para muitos aplicativos (a maioria dos quais são do Windows), não há fontes nem tarballs disponíveis. Muitos desses aplicativos não podem ser distribuídos livremente devido a restrições de licença e/ou falta de meios legais para obter o instalador sem cobrança de taxa. Tal software obviamente não pode ser incluído nos <a href="../pt/Official_repositories.html" class="mw-redirect" title="Repositórios oficiais">repositórios oficiais</a> mas devido à natureza do <a href="../pt/Arch_User_Repository.html" class="mw-redirect" title="AUR (Português)">AUR</a> ainda é possível privadamente <a href="../pt/Makepkg.html" title="Makepkg (Português)">compilar pacotes</a> para ele, gerenciável com <a href="../pt/Pacman.html" title="Pacman (Português)">pacman</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Nota:</strong> Todas as informações aqui são agnósticos a pacotes. Para informações específicas para a maioria dos softwares não livres, veja <a href="../pt/Wine_package_guidelines.html" class="mw-redirect" title="Diretrizes de pacotes Wine">Diretrizes de pacotes Wine</a>.</div>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Motivo"><span class="tocnumber">1</span> <span class="toctext">Motivo</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#Regras_comuns"><span class="tocnumber">2</span> <span class="toctext">Regras comuns</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Evite_software_n%C3%A3o_livre_quando_poss%C3%ADvel"><span class="tocnumber">2.1</span> <span class="toctext">Evite software não livre quando possível</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Use_variantes_de_c%C3%B3digo_aberto_quando_poss%C3%ADvel"><span class="tocnumber">2.2</span> <span class="toctext">Use variantes de código aberto quando possível</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Mantenha_simples"><span class="tocnumber">2.3</span> <span class="toctext">Mantenha simples</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#Nomenclatura_de_pacotes"><span class="tocnumber">3</span> <span class="toctext">Nomenclatura de pacotes</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Coloca%C3%A7%C3%A3o_de_arquivos"><span class="tocnumber">4</span> <span class="toctext">Colocação de arquivos</span></a></li>
<li class="toclevel-1 tocsection-8">
<a href="#Arquivos_em_falta"><span class="tocnumber">5</span> <span class="toctext">Arquivos em falta</span></a>
<ul>
<li class="toclevel-2 tocsection-9">
<a href="#Os_arquivos_s%C3%B3_podem_ser_obtidos_em_um_pacote/instalador_distribu%C3%ADdo"><span class="tocnumber">5.1</span> <span class="toctext">Os arquivos só podem ser obtidos em um pacote/instalador distribuído</span></a>
<ul>
<li class="toclevel-3 tocsection-10"><a href="#Esquema_a_escolher"><span class="tocnumber">5.1.1</span> <span class="toctext">Esquema a escolher</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-11"><a href="#Os_arquivos_s%C3%B3_podem_ser_obtidos_em_um_CD_distribu%C3%ADdo_ou_outro_tipo_de_m%C3%ADdia_de_disco_%C3%B3tico"><span class="tocnumber">5.2</span> <span class="toctext">Os arquivos só podem ser obtidos em um CD distribuído ou outro tipo de mídia de disco ótico</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Os_arquivos_podem_ser_obtidos_de_v%C3%A1rias_maneiras"><span class="tocnumber">5.3</span> <span class="toctext">Os arquivos podem ser obtidos de várias maneiras</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-13">
<a href="#T%C3%B3picos_avan%C3%A7ados"><span class="tocnumber">6</span> <span class="toctext">Tópicos avançados</span></a>
<ul>
<li class="toclevel-2 tocsection-14"><a href="#DLAGENTS_personalizados"><span class="tocnumber">6.1</span> <span class="toctext">DLAGENTS personalizados</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Desempacotamento"><span class="tocnumber">6.2</span> <span class="toctext">Desempacotamento</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Obtendo_%C3%ADcones_para_arquivos_.desktop"><span class="tocnumber">6.3</span> <span class="toctext">Obtendo ícones para arquivos .desktop</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Motivo">Motivo</span></h2>
<p>Existem vários motivos para empacotar softwares não empacotáveis:
</p>
<ul><li>Simplificação de processo de instalação/remoção</li></ul>
<dl><dd>Isso é aplicável até mesmo aos aplicativos mais simples, que consistem em um único script a ser instalado em <code>/usr/bin</code>. Em vez de executar:</dd></dl>
<dl>
<dd><pre>$ chmod +x <i>nome-de-arquivo</i></pre></dd>
<dd><pre>$ chown root:root <i>nome-de-arquivo</i></pre></dd>
<dd><pre># cp <i>filename</i> /usr/bin/</pre></dd>
<dd>você pode digitar</dd>
<dd><pre>$ makepkg -i</pre></dd>
</dl>
<dl><dd>A maioria dos aplicativos não livres é obviamente muito mais complicada, mas o fardo de baixar um arquivo/instalador de uma página inicial (muitas vezes cheia de propaganda), descompactá-lo/descriptografá-lo, escrever scripts de lançadores estereotipados e realizar outras tarefas semelhantes pode ser efetivamente facilitadas por um script de empacotamento bem escrito.</dd></dl>
<ul><li>Usando capacidades do <i>pacman</i>
</li></ul>
<dl><dd>A capacidade de rastrear estado, executar atualizações automáticas de qualquer software instalado, determinar a propriedade de cada arquivo e armazenar pacotes compactados em um cache bem organizado é o que torna as distribuições GNU/Linux tão poderosas.</dd></dl>
<ul><li>Compartilhamento de código e conhecimento</li></ul>
<dl><dd>É mais simples aplicar ajustes, corrigir bugs e procurar/fornecer ajuda em um único local público, como o AUR, em vez de enviar patches para desenvolvedores proprietários que podem ter interrompido o suporte ou fazer perguntas vagas em fóruns de propósito geral.</dd></dl>
<h2><span class="mw-headline" id="Regras_comuns">Regras comuns</span></h2>
<h3>
<span id="Evite_software_n.C3.A3o_livre_quando_poss.C3.ADvel"></span><span class="mw-headline" id="Evite_software_não_livre_quando_possível">Evite software não livre quando possível</span>
</h3>
<p>Sim, é melhor deixar este guia e passar algum tempo procurando (ou talvez até criando) alternativas para um aplicativo que você queria empacotar porque:
</p>
<ol>
<li>É melhor oferecer suporte a um software que pertence a todos nós do que um software que pertence a uma empresa</li>
<li>É melhor oferecer suporte a um software que é mantido ativamente</li>
<li>É melhor oferecer suporte a um software que pode ser consertado se apenas uma pessoa, em milhões, se importar o suficiente</li>
</ol>
<h3>
<span id="Use_variantes_de_c.C3.B3digo_aberto_quando_poss.C3.ADvel"></span><span class="mw-headline" id="Use_variantes_de_código_aberto_quando_possível">Use variantes de código aberto quando possível</span>
</h3>
<p>Muitos jogos comerciais (<a href="../en/List_of_games.html" class="mw-redirect" title="List of Applications/Games">alguns estão listados neste Wiki</a>) possuem mecanismos de código aberto e muitos jogos antigos podem ser reproduzidos com emuladores como <a href="https://en.wikipedia.org/wiki/pt:ScummVM" class="extiw" title="wikipedia:pt:ScummVM">ScummVM</a>. O uso de mecanismos de software livre junto com os recursos originais do jogo oferece aos usuários acesso a correções de erros e elimina vários problemas causados por pacotes binários.
</p>
<h3><span class="mw-headline" id="Mantenha_simples">Mantenha simples</span></h3>
<p>Se o empacotamento de algum programa exigir mais esforço e hacks do que comprar e usar a versão original - faça a coisa mais simples, isso é Arch!
</p>
<h2><span class="mw-headline" id="Nomenclatura_de_pacotes">Nomenclatura de pacotes</span></h2>
<p>Antes de escolher um nome, pesquise no AUR as versões existentes do software que você deseja empacotar. Tente usar uma convenções de nomenclatura estabelecida (por exemplo, não crie algo como <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gish-hb/">gish-hb</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/ArchWiki:Requests.html#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">link quebrado</a>: package not found]</sup> quando já houverem pacotes para <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/aquaria-hib/">aquaria-hib</a></span><sup><small>AUR</small></sup>, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/penumbra-overture-hib/">penumbra-overture-hib</a></span><sup><small>AUR</small></sup> e <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/uplink-hib/">uplink-hib</a></span><sup><small>AUR</small></sup>). <b>Sempre</b> use o sufixo <code>-bin</code>, a menos que você tenha certeza de que nunca haverá um pacote baseado em código-fonte – o criador do pacote teria que pedir a você (ou, no pior caso, um TUs) que tornasse órfão (isto é, abandonasse) o pacote existente para que ele e vocês dois acabarão com PKGBUILDs cheios de <code>replaces</code> e <code>conflicts</code> adicionais.
</p>
<h2>
<span id="Coloca.C3.A7.C3.A3o_de_arquivos"></span><span class="mw-headline" id="Colocação_de_arquivos">Colocação de arquivos</span>
</h2>
<p>Novamente, analise os pacotes existentes (se houver) e decida se deseja ou não entrar em conflito com eles. Não coloque coisas em <code>/opt</code>, a menos que você queira usar alguns hacks feios como dar a propriedade <code>root:games</code> ao diretório do pacote (para que os usuários do grupo <code>games</code> o jogo pode gravar arquivos na própria pasta do jogo).
</p>
<h2><span class="mw-headline" id="Arquivos_em_falta">Arquivos em falta</span></h2>
<p>Para a maioria dos jogos comerciais, não há como (legalmente) baixar arquivos de jogos, o que é a maneira preferida de obtê-los para pacotes normais. Mesmo quando é possível baixar arquivos após fornecer uma senha (como com todos os jogos do <a href="https://en.wikipedia.org/wiki/pt:Humble_Indie_Bundle" class="extiw" title="wikipedia:pt:Humble Indie Bundle">Humble Indie Bundle</a>) solicitando ao usuário essa senha e fazendo o download em alguma parte da função <code>build</code>, não é recomendado por várias razões (por exemplo, o usuário pode não ter acesso à Internet, mas ter todos os arquivos baixados e armazenados localmente).
</p>
<p>As subseções abaixo fornecem recomendações para algumas situações que você pode encontrar.
</p>
<h3>
<span id="Os_arquivos_s.C3.B3_podem_ser_obtidos_em_um_pacote.2Finstalador_distribu.C3.ADdo"></span><span class="mw-headline" id="Os_arquivos_só_podem_ser_obtidos_em_um_pacote/instalador_distribuído">Os arquivos só podem ser obtidos em um pacote/instalador distribuído</span>
</h3>
<p>O software só está disponível através desse arquivo de pacote/instalador, que deve ser obtido para obter os arquivos em falta.
</p>
<p>Adicione o pacote/instalador necessário a um vetor <code>source</code>, renomeando o nome do arquivo de origem para que o link da origem na interface web do AUR seja diferente dos nomes dos arquivos incluídos no tarball de origem:
</p>
<pre>source=(... "<i>nomeoriginal</i>::<b>local:</b>//<i>nomeoriginal</i>")</pre>
<p>Adicione também um comentário fixado como o abaixo na página do pacote no AUR e explique os detalhes no PKGBUILD:
</p>
<pre>Need archive/installer to work.</pre>
<h4><span class="mw-headline" id="Esquema_a_escolher">Esquema a escolher</span></h4>
<p>Caso você use o esquema <b>local://</b> em um array de fontes, o makepkg se comporta como se nenhum esquema fosse especificado, e o arquivo deve ser colocado manualmente no mesmo diretório que o PKGBUILD.
</p>
<p>Caso você use o esquema <b>file://</b>, você pode adicionalmente especificar DLAGENTS para o protocolo file, de forma que ele pode ser obtido em uma forma especial. Veja os exemplos <a href="#DLAGENTS_personalizados">abaixo</a>.
</p>
<p>Porém, ainda não há regras claras sobre quais esquemas você deve usar.
</p>
<h3>
<span id="Os_arquivos_s.C3.B3_podem_ser_obtidos_em_um_CD_distribu.C3.ADdo_ou_outro_tipo_de_m.C3.ADdia_de_disco_.C3.B3tico"></span><span class="mw-headline" id="Os_arquivos_só_podem_ser_obtidos_em_um_CD_distribuído_ou_outro_tipo_de_mídia_de_disco_ótico">Os arquivos só podem ser obtidos em um CD distribuído ou outro tipo de mídia de disco ótico</span>
</h3>
<p>O software só está disponível através de uma mídia de disco óptico (por exemplo, CD, DVD, Bluray, etc.), que deve ser inserido na unidade de disco ótico para obter os arquivos em falta.
</p>
<p>Adicione um script instalador e um arquivo <code>.install</code> ao conteúdo do pacote, como em <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/tsukihime-en/">tsukihime-en</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/ArchWiki:Requests.html#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">link quebrado</a>: package not found]</sup>.
</p>
<h3>
<span id="Os_arquivos_podem_ser_obtidos_de_v.C3.A1rias_maneiras"></span><span class="mw-headline" id="Os_arquivos_podem_ser_obtidos_de_várias_maneiras">Os arquivos podem ser obtidos de várias maneiras</span>
</h3>
<p>Copiar arquivos do disco, fazer o download da internet ou sair do arquivo durante a fase <code>build</code> pode parecer uma boa ideia, mas não é recomendado porque limita as possibilidades do usuário e torna a instalação do pacote interativa (o que geralmente é desencorajado e irritante). Novamente, um bom script de instalação e um arquivo <code>.install</code> podem funcionar.
</p>
<p>Alguns exemplos de várias estratégias para obter arquivos necessários para o pacote:
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/worldofgoo/">worldofgoo</a></span><sup><small>AUR</small></sup> – dependência em arquivo fornecido por usuário</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/umineko-en/">umineko-en</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/ArchWiki:Requests.html#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">link quebrado</a>: package not found]</sup> – combinando arquivos de patch livremente disponível e disco compacto fornecido por usuário</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/worldofgoo-demo/">worldofgoo-demo</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/ArchWiki:Requests.html#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">link quebrado</a>: package not found]</sup> – obtenção automática de instalação durante a fase de compilação</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ut2004-anthology/">ut2004-anthology</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/ArchWiki:Requests.html#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">link quebrado</a>: package not found]</sup> – pesquisando por disco via pontos de montagem</li>
</ul>
<h2>
<span id="T.C3.B3picos_avan.C3.A7ados"></span><span class="mw-headline" id="Tópicos_avançados">Tópicos avançados</span>
</h2>
<h3><span class="mw-headline" id="DLAGENTS_personalizados">DLAGENTS personalizados</span></h3>
<p>Alguns autores de software protegem agressivamente seu software contra downloads automáticos: proíbem certas strings "User-Agent", criam links temporários para arquivos, etc. Você ainda pode convenientemente baixar estes arquivos usando a variável <code>DLAGENTS</code> no PKGBUILD (veja <span class="plainlinks archwiki-template-man" title="$ man 5 makepkg.conf"><a rel="nofollow" class="external text" href="https://man.archlinux.org/man/makepkg.conf.5">makepkg.conf(5)</a></span>). Isto é usado por alguns pacotes em <a href="../pt/Official_repositories.html" class="mw-redirect" title="Repositórios oficiais">repositórios oficiais</a>, por exemplo, em versões anteriores do <a rel="nofollow" class="external text" href="https://github.com/archlinux/svntogit-community/blob/bacc6309c858c2c78d1ed17151301d496c7d87ea/trunk/PKGBUILD">ttf-baekmuk</a>.
</p>
<p>Por favor, preste atenção, se você quiser ter uma string user-agent personalizada, se esta contiver espaços, parênteses ou barras (ou, na verdade, qualquer coisa que possa interromper a análise), isso não funcionará. Não há solução alternativa, essa é a natureza de vetores no bash e a maneira como o DLAGENTS foi projetado para ser usado no makepkg. O exemplo a seguir, portanto, <b>não funciona</b>:
</p>
<pre>DLAGENTS=("http::/usr/bin/curl -A 'Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1)' -fLC - --retry 3 --retry-delay 3 -o %o %u")
</pre>
<p>Encurte para o seguinte que está funcionando:
</p>
<pre>DLAGENTS=("http::/usr/bin/curl -A 'Mozilla' -fLC - --retry 3 --retry-delay 3 -o %o %u")
</pre>
<p>E, a seguir, permita extrair link temporário para o arquivo da página de download:
</p>
<pre>DLAGENTS=("http::/usr/bin/wget -r -np -nd -H %u")
</pre>
<p>Para baixar links temporários para arquivos ou passar por um download interativo, é possível analisar a solicitação HTTP usada para criar o link de download final e, em seguida, criar um DLAGENTS que emule isso usando o curl. Veja por exemplo <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/blackmagic-decklink-sdk/">blackmagic-decklink-sdk</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/ArchWiki:Requests.html#Broken_package_links" class="mw-redirect" title="ArchWiki:Requests">link quebrado</a>: package not found]</sup> ou <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/jlink-software-and-documentation/">jlink-software-and-documentation</a></span><sup><small>AUR</small></sup>.
</p>
<p>Alternativamente, o DLAGENTS pode ser usado para fornecer uma mensagem de erro mais informativa ao usuário quando um arquivo está faltando. Veja, por exemplo, <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ttf-ms-win10/">ttf-ms-win10</a></span><sup><small>AUR</small></sup>.
</p>
<h3><span class="mw-headline" id="Desempacotamento">Desempacotamento</span></h3>
<p>Muitos programas proprietários são publicados em instaladores desagradáveis que às vezes nem funcionam no Wine. As seguintes ferramentas podem ajudar:
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=unzip">unzip</a></span> e <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=unrar">unrar</a></span> descompactam arquivos SFX executáveis, baseados nesses formatos</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=cabextract">cabextract</a></span> pode descompactar a maioria dos arquivos <code>.cab</code> (incluindo aqueles com extensão <code>.exe</code>)</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=unshield">unshield</a></span> pode extrair arquivos CAB de instaladores do InstallShield</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=p7zip">p7zip</a></span> descompacta não apenas muitos formatos de arquivo, mas também <a href="https://en.wikipedia.org/wiki/pt:NSIS" class="extiw" title="wikipedia:pt:NSIS">NSIS</a> - instaladores <code>.exe</code>
<ul><li>ele pode até mesmo extrair seções únicas de arquivos comuns de PE (<code>.exe</code> e <code>.dll</code>)!</li></ul>
</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=upx">upx</a></span> às vezes é usado para compactar os executáveis listados acima e também pode ser usado para descompactá-los</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=innoextract">innoextract</a></span> pode descompactar instaladores <code>.exe</code> criados com <a href="https://en.wikipedia.org/wiki/pt:Inno_Setup" class="extiw" title="wikipedia:pt:Inno Setup">Inno Setup</a> (usado, por exemplo, por jogos GOG.com)</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libarchive">libarchive</a></span> contém <i>bsdtar</i>, que pode extrair imagens <code>.iso</code> e arquivos <code>.AppImage</code> (que na verdade são iso9660 híbridos autoexecutáveis)</li>
</ul>
<p>Para determinar o tipo exato de arquivo, execute <code>file <i>arquivo_de_tipo_desconhecido</i></code>.
</p>
<h3>
<span id="Obtendo_.C3.ADcones_para_arquivos_.desktop"></span><span class="mw-headline" id="Obtendo_ícones_para_arquivos_.desktop">Obtendo ícones para arquivos .desktop</span>
</h3>
<p>O software proprietário geralmente não possui arquivos de ícone separados, portanto, não há nada para usar na criação de arquivos <a href="../pt/Desktop_entries.html" class="mw-redirect" title=".desktop (Português)">.desktop</a>. Felizmente, <code>.ico</code> arquivos podem ser facilmente extraídos de executáveis com programas do pacote <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=icoutils">icoutils</a></span>. Você pode até fazer isso durante a fase <code>build</code>, por exemplo:
</p>
<pre>$ wrestool -x --output=<i>icon.ico</i> -t14 <i>executable.exe</i>
</pre>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../pt/Category:Arch_package_guidelines.html" title="Category:Arch package guidelines (Português)">Arch package guidelines (Português)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Nonfree_applications_package_guidelines_(Portugu%C3%AAs)&amp;oldid=626512">https://wiki.archlinux.org/index.php?title=Nonfree_applications_package_guidelines_(Português)&amp;oldid=626512</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 23 July 2020, at 21:22.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
