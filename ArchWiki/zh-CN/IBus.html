<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>IBus (简体中文) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-IBus_简体中文 rootpage-IBus_简体中文 skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">IBus (简体中文)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>相关文章</p>
<ul>
<li><a href="../zh-CN/Fcitx.html" title="Fcitx (简体中文)">Fcitx (简体中文)</a></li>
<li><a href="../zh-CN/Fcitx5.html" title="Fcitx5 (简体中文)">Fcitx5 (简体中文)</a></li>
<li><a href="../en/Smart_Common_Input_Method.html" class="mw-redirect" title="SCIM">SCIM</a></li>
<li><a href="../en/Uim.html" class="mw-redirect" title="UIM">UIM</a></li>
</ul>
</div>
<p><a href="https://en.wikipedia.org/wiki/Intelligent_Input_Bus" class="extiw" title="wikipedia:Intelligent Input Bus">IBus</a> ("Intelligent Input Bus") 是一个 <a href="https://en.wikipedia.org/wiki/Input_method" class="extiw" title="wikipedia:Input method">输入法框架</a>，一个输入非英语字符的系统。IBus 的功能与 <a href="../zh-CN/Smart_Common_Input_Method.html" class="mw-redirect" title="Smart Common Input Method platform (简体中文)">SCIM</a> 和 <a href="../en/Uim.html" title="Uim">Uim</a> 类似。 
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#%E5%AE%89%E8%A3%85"><span class="tocnumber">1</span> <span class="toctext">安装</span></a>
<ul>
<li class="toclevel-2 tocsection-2">
<a href="#%E8%BE%93%E5%85%A5%E6%B3%95%E5%BC%95%E6%93%8E"><span class="tocnumber">1.1</span> <span class="toctext">输入法引擎</span></a>
<ul>
<li class="toclevel-3 tocsection-3"><a href="#%E4%B8%AD%E6%96%87%E5%BC%95%E6%93%8E"><span class="tocnumber">1.1.1</span> <span class="toctext">中文引擎</span></a></li>
<li class="toclevel-3 tocsection-4"><a href="#%E6%97%A5%E6%96%87%E5%BC%95%E6%93%8E"><span class="tocnumber">1.1.2</span> <span class="toctext">日文引擎</span></a></li>
<li class="toclevel-3 tocsection-5"><a href="#%E8%B6%8A%E5%8D%97%E6%96%87%E5%BC%95%E6%93%8E"><span class="tocnumber">1.1.3</span> <span class="toctext">越南文引擎</span></a></li>
<li class="toclevel-3 tocsection-6"><a href="#%E5%85%B6%E4%BB%96%E5%BC%95%E6%93%8E"><span class="tocnumber">1.1.4</span> <span class="toctext">其他引擎</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-7"><a href="#%E5%88%9D%E5%A7%8B%E5%AE%89%E8%A3%85"><span class="tocnumber">1.2</span> <span class="toctext">初始安装</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#GNOME"><span class="tocnumber">1.3</span> <span class="toctext">GNOME</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href="#%E9%85%8D%E7%BD%AE"><span class="tocnumber">2</span> <span class="toctext">配置</span></a></li>
<li class="toclevel-1 tocsection-10">
<a href="#%E5%B0%8F%E8%B4%B4%E5%A3%AB%E5%8F%8A%E6%8A%80%E5%B7%A7"><span class="tocnumber">3</span> <span class="toctext">小贴士及技巧</span></a>
<ul>
<li class="toclevel-2 tocsection-11"><a href="#%E4%BD%BF%E7%94%A8%E6%8B%BC%E9%9F%B3"><span class="tocnumber">3.1</span> <span class="toctext">使用拼音</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-12">
<a href="#%E7%96%91%E9%9A%BE%E8%A7%A3%E7%AD%94"><span class="tocnumber">4</span> <span class="toctext">疑难解答</span></a>
<ul>
<li class="toclevel-2 tocsection-13"><a href="#Kimpanel"><span class="tocnumber">4.1</span> <span class="toctext">Kimpanel</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#rxvt-unicode"><span class="tocnumber">4.2</span> <span class="toctext">rxvt-unicode</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#GTK_%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F"><span class="tocnumber">4.3</span> <span class="toctext">GTK 应用程序</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#%E4%B8%AD%E6%96%87%E8%BE%93%E5%85%A5"><span class="tocnumber">4.4</span> <span class="toctext">中文输入</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#LibreOffice"><span class="tocnumber">4.5</span> <span class="toctext">LibreOffice</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#%E4%BF%AE%E6%94%B9_Gnome-shell_%E4%B8%AD_ibus_%E5%80%99%E9%80%89%E6%A1%86%E7%9A%84%E5%AD%97%E4%BD%93%E5%92%8C%E5%AD%97%E5%8F%B7"><span class="tocnumber">4.6</span> <span class="toctext">修改 Gnome-shell 中 ibus 候选框的字体和字号</span></a></li>
</ul>
</li>
</ul>
</div>

<h2>
<span id=".E5.AE.89.E8.A3.85"></span><span class="mw-headline" id="安装">安装</span>
</h2>
<p>从官方仓库安装<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ibus">ibus</a></span>软件包：
</p>
<pre># pacman -S ibus
</pre>
<h3>
<span id=".E8.BE.93.E5.85.A5.E6.B3.95.E5.BC.95.E6.93.8E"></span><span class="mw-headline" id="输入法引擎">输入法引擎</span>
</h3>
<p>至少需要一种与所用语言相应的输入法。可用的输入法包括：
</p>
<h4>
<span id=".E4.B8.AD.E6.96.87.E5.BC.95.E6.93.8E"></span><span class="mw-headline" id="中文引擎">中文引擎</span>
</h4>
<ul>
<li>
<strike><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ibus-pinyin">ibus-pinyin</a></span> ：一个智能中文语音输入法引擎，支持汉语拼音与注音符号。设计者为Ibus的主要作者，而且有许多的高级功能（如英文拼错修改）。</strike> 该软件暂时没有维护，而且最新的 ibus 引擎上部分功能不能使用。作为替代，请使用 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ibus-libpinyin">ibus-libpinyin</a></span>。</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ibus-rime">ibus-rime</a></span> ：一个强大的智能中文输入法,支持拼音、注音或者没有音调的拼音、双拼、粤拼、中州韵、仓颉和五笔86。</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ibus-chewing">ibus-chewing</a></span> ：一个智能中文语音输入法引擎, 支持注音符号, 基于 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libchewing">libchewing</a></span>。</li>
</ul>
<h4>
<span id=".E6.97.A5.E6.96.87.E5.BC.95.E6.93.8E"></span><span class="mw-headline" id="日文引擎">日文引擎</span>
</h4>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ibus-anthy">ibus-anthy</a></span> ：日文输入法引擎, 基于 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=anthy">anthy</a></span>。</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ibus-mozc/">ibus-mozc</a></span><sup><small>AUR</small></sup> ：谷歌日文输入法的开源版本, 基于 <a href="../en/Mozc.html" title="Mozc">Mozc</a>。</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ibus-kkc">ibus-kkc</a></span> ：日文输入法引擎, 基于 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libkkc">libkkc</a></span>。</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ibus-skk">ibus-skk</a></span> ：日文假名转汉字输入法引擎，基于 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libskk">libskk</a></span>。</li>
</ul>
<h4>
<span id=".E8.B6.8A.E5.8D.97.E6.96.87.E5.BC.95.E6.93.8E"></span><span class="mw-headline" id="越南文引擎">越南文引擎</span>
</h4>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ibus-bamboo/">ibus-bamboo</a></span><sup><small>AUR</small></sup> ：越南文输入法引擎, 基于 Bamboo 引擎。</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ibus-bogo/">ibus-bogo</a></span><sup><small>AUR</small></sup> ：越南文输入法引擎, 基于 Bogo。（已停止开发）</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ibus-unikey">ibus-unikey</a></span> ：用于输入越南字的输入法引擎。（已停止开发）</li>
</ul>
<h4>
<span id=".E5.85.B6.E4.BB.96.E5.BC.95.E6.93.8E"></span><span class="mw-headline" id="其他引擎">其他引擎</span>
</h4>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ibus-hangul">ibus-hangul</a></span> ：一个韩文输入法, 基于 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libhangul">libhangul</a></span>。</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ibus-table">ibus-table</a></span> ：一个支持查表型输入法的输入法引擎。</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ibus-m17n">ibus-m17n</a></span> ：一个 m17n 输入法引擎, 可以用 m17n-db 数据库中的输入法来输入许多语言。</li>
<li>ibus-keymagic ：一个复合型智能输入法，它被设计成可以工作于所有语言，但需要和 kms 脚本生成的 km2 键盘布局共同使用。</li>
</ul>
<p>查看所有可用的输入法：
</p>
<pre>$ pacman -Ss ^ibus-*
</pre>
<p>其他软包也供给于 <a href="../en/Arch_User_Repository.html" class="mw-redirect" title="AUR">AUR</a>。
</p>
<h3>
<span id=".E5.88.9D.E5.A7.8B.E5.AE.89.E8.A3.85"></span><span class="mw-headline" id="初始安装">初始安装</span>
</h3>
<p>现在运行ibus-setup的初始程序(当要用Ibus的用户):
</p>
<pre>$ ibus-setup
</pre>
<p>它会启动后台程序，并给你这条信息：
</p>
<pre>IBus has been started! If you cannot use IBus, please add below lines in $HOME/.bashrc, and relogin your desktop.
（译：IBus已启动！如果您还不能用Ibus,请您先将以下的三行代码加到$HOME/.bashrc，再重新登录。)
  export GTK_IM_MODULE=ibus
  export XMODIFIERS=@im=ibus
  export QT_IM_MODULE=ibus
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 虽然Ibus使用一个后台程序，但是它不是被<i>systemd</i>管理的那种后台程序：普通用户也可以运行，当你登录时，它会启动。</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 但是，如果ibus尚未启动，先将那些"export"的代码复制到$HOME/.xprofile，并将这行代码加到该文件：“ibus-daemon -x -d”,再重新登录。</div>
<p>之后，你会看到一张设置屏幕。Ibus运行时，可以随时访问该屏幕，在系统托盘中的Ibus图符点击右键，选择"Preferences"（选项）即可。详见<a href="#Configuration">Configuration</a><sup>[<a href="../en/ArchWiki:Requests.html#Broken_section_links" class="mw-redirect" title="ArchWiki:Requests">断开的链接</a>：无效的部分]</sup>.
</p>
<p>如果Ibus在Qt、KDE应用程序中不工作，保证ibus-qt软件库已安装，并在Qt设置编辑器中将Ibus制定为默认输入法引擎：
</p>
<pre>$ qtconfig-qt4
</pre>
<p>在 "Interface" -&gt; "Default Input Method" （译：“界面”-&gt;“默认输入法引擎”） 中,选择“ibus”,而不是"xim"。
</p>
<p><br>
</p>
<h3><span class="mw-headline" id="GNOME">GNOME</span></h3>
<p>GNOME现在已经默认集成了IBus， 所以你只需要安装的输入法引擎,并在<i>Region &amp; Language</i> 中的 “ Input Sources” 添加进去。在你添加至少两个输入源后，GNOME会在托盘中显示输入选择图标。如果如此操作之后你没有成功，很可能你没有完成locale-gen。默认切换输入法的快捷键是 <code>Super+space</code>; 请忽视ibus-setup中的添加方法，这不会真的添加新的输入法。
</p>
<h2>
<span id=".E9.85.8D.E7.BD.AE"></span><span class="mw-headline" id="配置">配置</span>
</h2>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 如果你想输入汉、日、韩、越南文字，需要安装<a href="../en/Fonts.html#Chinese.2C_Japanese.2C_Korean.2C_Vietnamese" class="mw-redirect" title="Fonts FAQ">东亚字体</a>。</div>
<p>默认的 "General"（常规）设置应该可以用，但是最好点击“Input Methods”（输入法），在下拉式列表框中选择你的输入法，点击“Add"（添加）。
Ibus 配置好后，可以按 Ctrl+Space 使用（按多次为在已安装语言之间切换）。在每个窗口当中，Ibus 会记住你所用的输入法，所以每个新打开的窗口都需要重新启动。
你可以置换这个特性，在系统托盘的图符上点击右键，选择“Preferences“（首选项）,然后点击“Advanced”（高级）的标签即可。
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> IBus 默认覆盖 <a href="../en/Xmodmap.html" title="Xmodmap">Xmodmap</a> 的设置。你可以禁用这个特性，在”references”（首选项）中点击“Advanced”（高级），勾选“Use system keyboard layout”选项。</div>
<h2>
<span id=".E5.B0.8F.E8.B4.B4.E5.A3.AB.E5.8F.8A.E6.8A.80.E5.B7.A7"></span><span class="mw-headline" id="小贴士及技巧">小贴士及技巧</span>
</h2>
<h3>
<span id=".E4.BD.BF.E7.94.A8.E6.8B.BC.E9.9F.B3"></span><span class="mw-headline" id="使用拼音">使用拼音</span>
</h3>
<p>当使用 ibus-pinyin时,
</p>
<ul>
<li>首先用拼音（无声调）打你想输入的字。</li>
<li>反复地按上和下选择一个字（如果有必要，启程前往下一页）。</li>
<li>按Space使用一个字。</li>
<li>你也可以用上页和下页，并使用1-5的数字键选择你需要的字。</li>
<li>你可以一次输入组成一个词或一条短语的若干字（如"zhongwen"可以输入"中文"). ibus-pinyin会记住你最经常打的字，并渐渐做适合你的打字配置文件的建议。</li>
</ul>
<h2>
<span id=".E7.96.91.E9.9A.BE.E8.A7.A3.E7.AD.94"></span><span class="mw-headline" id="疑难解答">疑难解答</span>
</h2>
<h3><span class="mw-headline" id="Kimpanel">Kimpanel</span></h3>
<p>目前IBus的主界面只支持GTK，<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=Kimpanel">Kimpanel</a></span><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">断开的链接</a>：package not found]</sup> 提供了原生的 Qt/KDE 输入界面。 但是，目前 kimpanel 在Arch Linux 环境下因并不能很好地工作（部分原因是<a rel="nofollow" class="external text" href="https://bugs.archlinux.org/task/19580">FS#19580</a>），因此需要额外地配置一下。
</p>
<p>安装Kimpanel:
</p>
<pre># pacman -S kdeplasma-addons-applets-kimpanel
</pre>
<p>下载和你的 KDE 版本对应的 kdeplasma-addons 的源文件，并解压缩。
</p>
<pre>$ wget -c <a rel="nofollow" class="external free" href="http://download.kde.org/stable/4.x.x/src/kdeplasma-addons-4.x.x.tar.bz2">http://download.kde.org/stable/4.x.x/src/kdeplasma-addons-4.x.x.tar.bz2</a><sup title="最后检查状态：404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">失效链接</a> 2020-08-02 ⓘ]</sup>
$ tar -xvf kdeplasma-addons-4.x.x.tar.bz2
</pre>
<p>拷贝系统里没有的文件:
</p>
<pre># mkdir /usr/share/ibus/ui/qt
# cp kdeplasma-addons-4.x.x/applets/kimpanel/backend/ibus/panel.py /usr/share/ibus/ui/qt/panel.py
# cp kdeplasma-addons-4.x.x/applets/kimpanel/backend/ibus/qtpanel.xml /usr/share/ibus/component/qtpanel.xml
</pre>
<p>编辑 <code>/usr/share/ibus/ui/qt/panel.py</code>:
</p>
<pre>#!/usr/bin/env <b>python2</b>
# vim:set et sts=4 sw=4:
...
</pre>
<p>编辑 <code>/usr/share/ibus/component/qtpanel.xml</code>:
</p>
<pre>&lt;?xml version=1.0 encoding=utf-8?&gt;
&lt;!-- filename: <b>qtpanel.xml</b> --&gt;
&lt;component&gt;
    &lt;name&gt;org.freedesktop.IBus.Panel&lt;/name&gt;
    &lt;description&gt;Qt Panel Component&lt;/description&gt;
    &lt;exec&gt;<b>/usr/lib/ibus/ibus-ui-qt</b>&lt;/exec&gt;
    &lt;version&gt;0.0.1&lt;/version&gt;
    &lt;author&gt;Wang Hoi &lt;zealot.hoi@gmail.com&gt;&lt;/author&gt;
    &lt;license&gt;LGPL&lt;/license&gt;
    &lt;homepage&gt;&lt;/homepage&gt;
    &lt;textdomain&gt;ibus&lt;/textdomain&gt;
&lt;/component&gt;
</pre>
<p>拷贝 <code>/usr/lib/ibus/ibus-ui-gtk</code> 文件到 <code>/usr/lib/ibus/ibus-ui-qt</code> 并编辑:
</p>
<pre># cp /usr/lib/ibus/ibus-ui-gtk /usr/lib/ibus/ibus-ui-qt
</pre>
<pre>#!/bin/sh
#
# ibus - The Input Bus
#
# Copyright (c) 2007-2010 Peng Huang &lt;shawn.p.huang@gmail.com&gt;
# Copyright (c) 2007-2010 Red Hat, Inc.
#
# This library is free software; you can redistribute it and/or
# modify it under the terms of the GNU Lesser General Public
# License as published by the Free Software Foundation; either
# version 2 of the License, or (at your option) any later version.
#
# This library is distributed in the hope that it will be useful,                                                                              
# but WITHOUT ANY WARRANTY; without even the implied warranty of                                                                               
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the                                                                                
# GNU Lesser General Public License for more details.                                                                                          
#                                                                                                                                              
# You should have received a copy of the GNU Lesser General Public                                                                             
# License along with this program; if not, write to the                                                                                        
# Free Software Foundation, Inc., 59 Temple Place, Suite 330,                                                                                  
# Boston, MA  02111-1307  USA                                                                                                                  
                                                                                                                                              
prefix=/usr                                                                                                                                    
exec_prefix=${prefix}                                                                                                                          
datarootdir=${prefix}/share                                                                                                                    
export IBUS_PREFIX=/usr
export IBUS_DATAROOTDIR=${prefix}/share
export IBUS_LOCALEDIR=${datarootdir}/locale

exec python2 <b>/usr/share/ibus/ui/qt/panel.py</b> $@
</pre>
<p>最后，在你的任务栏上添加小工具 <code>Input Methode Panel</code> 并运行 <code>ibus-setup</code>:
</p>
<pre>$ ibus-setup
</pre>
<h3><span class="mw-headline" id="rxvt-unicode">rxvt-unicode</span></h3>
<p>如果有 ibus 与 <i>rxvt-unicode</i> 包的问题，以下的步骤应该能够解决。
</p>
<p>将以下的两行代码添加到你的 <code>~/.Xresources</code> 文件（可能不需要，先尝试，如果问题出现，再添加代码）：
</p>
<pre>  URxvt.inputMethod: ibus
  URxvt.preeditType: OnTheSpot,None
</pre>
<p>然后用以下的命令启动Ibus:
</p>
<pre>  ibus-daemon --xim
</pre>
<p>如果 ibus-daemon 自动开启（如在 <code>~/.xinitrc</code> 或 <code>~/.xsession</code> 中)，但是以前执行 <code>ibus-daemon &amp;</code> 没有用 <code>--xim</code> 选项，确保先结束已打开的进程，再尝试新命令。
</p>
<h3>
<span id="GTK_.E5.BA.94.E7.94.A8.E7.A8.8B.E5.BA.8F"></span><span class="mw-headline" id="GTK_应用程序">GTK 应用程序</span>
</h3>
<p>有些用户在 GTK 应用程序下使用输入法时会因为无法找到g tk.immodules 文件而出现问题。在 $HOME/.bashrc中加入
</p>
<pre> (gtk2) export GTK_IM_MODULE_FILE=/etc/gtk-2.0/gtk.immodules
 (gtk3) export GTK_IM_MODULE_FILE=/usr/lib/gtk-3.0/3.0.0/immodules.cache
</pre>
<p>应该会解决问题。
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 如果你设置为gtk2，那么你无法使用gtk3的应用程序比如gedit, 如果你设置为gtk3，那么你无法使用gtk2的应用程序比如xfce</div>
<h3>
<span id=".E4.B8.AD.E6.96.87.E8.BE.93.E5.85.A5"></span><span class="mw-headline" id="中文输入">中文输入</span>
</h3>
<p>如果你在输入中文时遇到问题，检查你的 locale 设置。比如在香港，export LANG=zh_HK.utf8。
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong>  ibus 在 1.4 版本后有些大的修正，你可能无法使用 ibus-pinyin 或 ibus-sunpinyin 输入中文。解决方法有：
<ul><li>安装 ibus-libpinyin。</li></ul>
</div>
<p>你可以安装 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ibus-libpinyin">ibus-libpinyin</a></span>。
</p>
<p>如需 ibus 随 gnome 启动，把这些加入 <code>~/.profile</code> 后重启 gnome。
</p>
<pre>   export GTK_IM_MODULE=ibus
   export XMODIFIERS=@im=ibus
   export QT_IM_MODULE=ibus
   ibus-daemon -d -x
</pre>
<p>更详细的解决方案可以查看 <a rel="nofollow" class="external text" href="http://forum.ubuntu.org.cn/viewtopic.php?f=155&amp;t=346639">这里</a>。
</p>
<h3><span class="mw-headline" id="LibreOffice">LibreOffice</span></h3>
<p>如果 IBus 确实已经启动，但是在 LibreOffice 里没有出现输入窗口，你需要在 ~/.bashrc 里加入这行：
</p>
<pre>export XMODIFIERS=@im=ibus
</pre>
<p>然后你需要用 "--xim -d" 参数来启动 ibus， 你可以在 ~/.xinitrc 中加入这行：
</p>
<pre>ibus-daemon --xim -d
</pre>
<p>但是可怕的是你必须在终端中启动 LibreOffice。
</p>
<p>如果你使用 KDE 而上面的方法没用，而你也不介意在 GTK2 模式下运行 LibreOffice，安装 "libreoffice-gnome" 然后在 ~/.xprofile 中添加此行：
</p>
<pre>export OOO_FORCE_DESKTOP="gnome"
</pre>
<p>这会使 IBus 在 LibreOffice 正常使用，你也可以在任何地方启动 LibreOffice -- 而不只是在终端。
</p>
<h3>
<span id=".E4.BF.AE.E6.94.B9_Gnome-shell_.E4.B8.AD_ibus_.E5.80.99.E9.80.89.E6.A1.86.E7.9A.84.E5.AD.97.E4.BD.93.E5.92.8C.E5.AD.97.E5.8F.B7"></span><span class="mw-headline" id="修改_Gnome-shell_中_ibus_候选框的字体和字号">修改 Gnome-shell 中 ibus 候选框的字体和字号</span>
</h3>
<p>很多人对 Gnome-shell 不能独立的设置 ibus 输入法的候选词字体和字号颇有微词，下面，介绍一种修改的办法。
首先，你需要安装一个 Gnome-Shell 主题，且激活它，然后你需要修改主题的 gnome-shell.css 文件。这个文件一般在目录 /usr/share/themes/主题名/gnome-shell/ 下。使用你喜欢的编辑器打开它，搜索 .candidate-popup-content 字段（如果没有就新建一个）：
</p>
<pre>.candidate-popup-content {
}
</pre>
<p>然后根据需要添加以下两行（添加后应该是下框中的样子），通过本设置可以改变输入的字母的字体和字号：
</p>
<pre>.candidate-popup-content {
       /* 设置字体 */
	font-family: "Microsoft YaHei UI", serif,cantarell,sans-serif;
       /* 设置号 */
	font-size: 15px;
}
</pre>
<p>如果需要修改候选框的字体和字号，你需要搜索 .candidate-box 字段（如果没有就新建一个）：
</p>
<pre>.candidate-box {
}
</pre>
<p>然后根据需要添加以下两行（添加后应该是下框中的样子），通过本设置可以改变输入的字母的字体和字号：
</p>
<pre>.candidate-box {
       /* 设置字体 */
	font-family: "Microsoft YaHei UI", serif,cantarell,sans-serif;
       /* 设置号 */
	font-size: 15px;
}
</pre>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../zh-CN/Category:Input_methods.html" title="Category:Input methods (简体中文)">Input methods (简体中文)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_with_broken_section_links.html" title="Category:Pages with broken section links">Pages with broken section links</a></li>
<li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li>
<li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=IBus_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)&amp;oldid=637646">https://wiki.archlinux.org/index.php?title=IBus_(简体中文)&amp;oldid=637646</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 10 October 2020, at 20:42.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
