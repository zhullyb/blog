<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Dual boot with Windows (简体中文) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Dual_boot_with_Windows_简体中文 rootpage-Dual_boot_with_Windows_简体中文 skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Dual boot with Windows (简体中文)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>翻译状态：</strong>本文是 <a href="../en/Dual_boot_with_Windows.html" title="Dual boot with Windows">Dual_boot_with_Windows</a> 的<a href="../zh-CN/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (简体中文)">翻译</a>。上次翻译日期：2016-08-20。如果英文版本有所<a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Dual_boot_with_Windows&amp;diff=0&amp;oldid=445881">更改</a>，则您可以帮助同步翻译。</div>
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="../en/ArchWiki:Archive.html" class="mw-redirect" title="Dual boot with Windows/SafeBoot">Dual boot with Windows/SafeBoot</a></li>
</ul>
</div>
<p>这篇条目提供了 Arch Linux 和 Windows 双重启动的一些相关信息。
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#%E9%87%8D%E8%A6%81%E4%BF%A1%E6%81%AF"><span class="tocnumber">1</span> <span class="toctext">重要信息</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Windows_UEFI_%E5%92%8C_BIOS_%E5%90%AF%E5%8A%A8%E9%99%90%E5%88%B6"><span class="tocnumber">1.1</span> <span class="toctext">Windows UEFI 和 BIOS 启动限制</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#%E5%AE%89%E8%A3%85%E4%BB%8B%E8%B4%A8%E9%99%90%E5%88%B6"><span class="tocnumber">1.2</span> <span class="toctext">安装介质限制</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#UEFI_/_BIOS_%E5%90%AF%E5%8A%A8%E7%AE%A1%E7%90%86%E5%99%A8%E9%99%90%E5%88%B6"><span class="tocnumber">1.3</span> <span class="toctext">UEFI / BIOS 启动管理器限制</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#UEFI_%E5%AE%89%E5%85%A8%E5%90%AF%E5%8A%A8"><span class="tocnumber">1.4</span> <span class="toctext">UEFI 安全启动</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#%E5%BF%AB%E9%80%9F%E5%90%AF%E5%8A%A8"><span class="tocnumber">1.5</span> <span class="toctext">快速启动</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Windows_%E4%B8%AD%E7%9A%84%E6%96%87%E4%BB%B6%E5%90%8D%E9%99%90%E5%88%B6"><span class="tocnumber">1.6</span> <span class="toctext">Windows 中的文件名限制</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8">
<a href="#%E5%AE%89%E8%A3%85"><span class="tocnumber">2</span> <span class="toctext">安装</span></a>
<ul>
<li class="toclevel-2 tocsection-9">
<a href="#BIOS_%E7%B3%BB%E7%BB%9F"><span class="tocnumber">2.1</span> <span class="toctext">BIOS 系统</span></a>
<ul>
<li class="toclevel-3 tocsection-10"><a href="#%E4%BD%BF%E7%94%A8_Linux_%E5%90%AF%E5%8A%A8%E7%AE%A1%E7%90%86%E5%99%A8"><span class="tocnumber">2.1.1</span> <span class="toctext">使用 Linux 启动管理器</span></a></li>
<li class="toclevel-3 tocsection-11">
<a href="#%E4%BD%BF%E7%94%A8_Windows_%E5%90%AF%E5%8A%A8%E7%AE%A1%E7%90%86%E5%99%A8"><span class="tocnumber">2.1.2</span> <span class="toctext">使用 Windows 启动管理器</span></a>
<ul>
<li class="toclevel-4 tocsection-12"><a href="#Windows_Vista/7/8/8.1/10_%E7%9A%84%E5%90%AF%E5%8A%A8%E7%AE%A1%E7%90%86%E5%99%A8"><span class="tocnumber">2.1.2.1</span> <span class="toctext">Windows Vista/7/8/8.1/10 的启动管理器</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2 tocsection-13"><a href="#UEFI_%E7%B3%BB%E7%BB%9F"><span class="tocnumber">2.2</span> <span class="toctext">UEFI 系统</span></a></li>
<li class="toclevel-2 tocsection-14">
<a href="#%E7%96%91%E9%9A%BE%E8%A7%A3%E7%AD%94"><span class="tocnumber">2.3</span> <span class="toctext">疑难解答</span></a>
<ul>
<li class="toclevel-3 tocsection-15"><a href="#Couldn't_create_a_new_partition_or_locate_an_existing_one_(%E6%97%A0%E6%B3%95%E5%88%9B%E5%BB%BA%E6%88%96%E8%80%85%E5%AE%9A%E4%BD%8D%E5%88%86%E5%8C%BA)"><span class="tocnumber">2.3.1</span> <span class="toctext">Couldn't create a new partition or locate an existing one (无法创建或者定位分区)</span></a></li>
<li class="toclevel-3 tocsection-16"><a href="#%E5%AE%89%E8%A3%85_Windows_%E5%90%8E%E6%97%A0%E6%B3%95%E5%86%8D%E5%BC%95%E5%AF%BC_Linux"><span class="tocnumber">2.3.2</span> <span class="toctext">安装 Windows 后无法再引导 Linux</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-17"><a href="#%E6%97%B6%E9%97%B4%E6%A0%87%E5%87%86"><span class="tocnumber">3</span> <span class="toctext">时间标准</span></a></li>
<li class="toclevel-1 tocsection-18"><a href="#%E5%8F%A6%E8%A7%81"><span class="tocnumber">4</span> <span class="toctext">另见</span></a></li>
</ul>
</div>

<h2>
<span id=".E9.87.8D.E8.A6.81.E4.BF.A1.E6.81.AF"></span><span class="mw-headline" id="重要信息">重要信息</span>
</h2>
<h3>
<span id="Windows_UEFI_.E5.92.8C_BIOS_.E5.90.AF.E5.8A.A8.E9.99.90.E5.88.B6"></span><span class="mw-headline" id="Windows_UEFI_和_BIOS_启动限制">Windows UEFI 和 BIOS 启动限制</span>
</h3>
<p>Microsoft 对不同版本的启动方式限制不同:
</p>
<table class="wikitable">
<tbody>
<tr>
<th colspan="2" rowspan="2">Windows 版本
</th>
<th rowspan="2">BIOS-MBR
</th>
<th colspan="2">UEFI-GPT
</th>
</tr>
<tr>
<th>x86 (IA32)
</th>
<th>x86_64
</th>
</tr>
<tr>
<td rowspan="2">Windows XP
</td>
<td>x86
</td>
<td rowspan="10">支持
<p>（大多数）
</p>
</td>
<td rowspan="6">不支持
</td>
<td rowspan="3">不支持
</td>
</tr>
<tr>
<td>x64
</td>
</tr>
<tr>
<td rowspan="2">Windows Vista
</td>
<td>x86
</td>
</tr>
<tr>
<td>x64
</td>
<td>带有 SP1 的版本支持
</td>
</tr>
<tr>
<td rowspan="2">Windows 7
</td>
<td>x86
</td>
<td>不支持
</td>
</tr>
<tr>
<td>x64
</td>
<td>支持
</td>
</tr>
<tr>
<td rowspan="2">Windows 8/8.1
</td>
<td>x86
</td>
<td>部分支持
</td>
<td>不支持
</td>
</tr>
<tr>
<td>x64
</td>
<td>不支持
</td>
<td>支持
</td>
</tr>
<tr>
<td rowspan="2">Windows 10
</td>
<td>x86
</td>
<td>部分支持
</td>
<td>不支持
</td>
</tr>
<tr>
<td>x64
</td>
<td>不支持
</td>
<td>支持
</td>
</tr>
</tbody>
</table>
<p>所有版本的 Windows 都不支持 BIOS 引导 GPT 分区上的 Windows 或 UEFI 引导 MBR 分区上的 Windows。
</p>
<p>某些 Intel Atom 芯片的平板电脑只支持 IA32-UEFI ，因此只能启动 GPT 分区上的 32 位 ( x86 ) 操作系统。
</p>
<p><br>
对于预装在电脑上的 Windows 的大多数情况:
</p>
<ul>
<li>预装 Windows XP ( 所有版本 ),Windows Vista 或 Windows 7 (32 位版本),默认通过 BIOS-MBR 启动.</li>
<li>大多数预装 Windows 7 64位版本的电脑默认通过 BIOS-MBR 启动,有部分近期预装Windows 7 64位版本的电脑通过 UEFI-GPT 启动.</li>
<li>预装 Windows 8/8.1/10 的电脑都是通过 UEFI 启动,32 位系统通过 IA32 UEFI 模式启动,64 位系统通过 x86_64 UEFI 模式启动.</li>
</ul>
<p>可以从 Windows 系统信息中了解具体的启动类型 
(这个方法来自<a rel="nofollow" class="external text" href="http://www.eightforums.com/tutorials/29504-bios-mode-see-if-windows-boot-uefi-legacy-mode.html">这里</a>):
</p>
<ul>
<li>启动进 Windows</li>
<li>按下 Windows 徽标键和 R 键打开 "运行" 对话框</li>
<li>键入 "msinfo32" 并回车确认</li>
<li>在系统信息窗口中,选择"系统摘要",查看右侧的"BIOS 模式".</li>
<li>对于 UEFI-GPT 模式,这里的值为 "UEFI",对于 BIOS-MBR 模式,这里的值为 "Legacy".</li>
</ul>
<p>一般的, Windows 强制通过固件类型确定硬盘分区表.这是由 Windows 安装程序限定的(例如以 UEFI 模式启动的安装程序只能安装在 GPT 硬盘上,以 Legacy BIOS 模式启动的安装程序只能安装在 MBR (也叫做 msdos) 分区表的硬盘上).目前官方 (Microsoft) 没有在 UEFI-MBR 或 BIOS-GPT 上运行 Windows 的方法.因此 Windows 只支持 UEFI-GPT 或 BIOS-MBR 启动.
</p>
<p>尽管 Linux 内核并不强制要求这些,但是考虑到 Windows 的限制和启动管理器的需要,如果需要在一个硬盘上启动 Windows 和 Linux 的话,建议用户选择 Windows 可用的分区组合,例如 UEFI-GPT 或 BIOS-MBR,参阅 <a rel="nofollow" class="external free" href="https://support.microsoft.com/kb/2581408">https://support.microsoft.com/kb/2581408</a> 获得更多信息.
</p>
<h3>
<span id=".E5.AE.89.E8.A3.85.E4.BB.8B.E8.B4.A8.E9.99.90.E5.88.B6"></span><span class="mw-headline" id="安装介质限制">安装介质限制</span>
</h3>
<p>某些 Intel Atom SoC 平板 (Clover trail / Bay Trail) 因为 Microsoft 对 Connected Standby 的要求只提供 IA32 UEFI 固件支持而不包含 Legacy BIOS 支持 (和大多数 x86_64 UEFI 系统不同).Arch Linux 官方安装介质和 Archboot (2014/02 以前) 并不提供 IA32-UEFI 启动支持,因此在这种设备上无法通过 ArchISO 启动安装.
</p>
<h3>
<span id="UEFI_.2F_BIOS_.E5.90.AF.E5.8A.A8.E7.AE.A1.E7.90.86.E5.99.A8.E9.99.90.E5.88.B6"></span><span class="mw-headline" id="UEFI_/_BIOS_启动管理器限制">UEFI / BIOS 启动管理器限制</span>
</h3>
<p>大部分 Linux 的启动管理器不支持运行或链式加载另一种固件的启动管理器. 因此安装在 UEFI 模式下的 Arch Linux 的启动管理器无法加载位于另一个 BIOS-MBR 硬盘上的 Windows .安装在 BIOS 模式下的 Arch Linux 的启动管理器也无法加载位于另一个 UEFI-GPT 硬盘上的 Windows.
</p>
<p>例外是安装在 Apple Mac 上的 UEFI 模式的 GRUB (通过 <b>apploloader</b> 实现引导 BIOS 系统,不能用于非 Apple 设备上),和 rEFInd (技术上支持 UEFI 引导 BIOS 系统,但是作者 Rod Smith 称<a rel="nofollow" class="external text" href="http://rodsbooks.com/refind/using.html#legacy">不能用于非 Apple UEFI 上</a>.)
</p>
<p>另外安装在 BIOS-GPT 上的 Arch 可以引导另一块 BIOS-MBR 硬盘上的 Windows (如果所选用的启动管理器支持链式加载另一块硬盘上的启动扇区).
</p>
<p><br>
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 对于同一个硬盘上安装的 Arch Linux 和 Windows ,Arch 要使用和 Windows 一致的启动模式和分区组合.</div>
<h3>
<span id="UEFI_.E5.AE.89.E5.85.A8.E5.90.AF.E5.8A.A8"></span><span class="mw-headline" id="UEFI_安全启动">UEFI 安全启动</span>
</h3>
<p>所有预装 Windows 8/8.1/10 并以 UEFI 模式启动的电脑默认开启安全启动.
Arch Linux 的安装媒体可以在安全启动打开的状态下启动,参见<a href="../en/Unified_Extensible_Firmware_Interface/Secure_Boot.html#Booting_archiso" class="mw-redirect" title="Secure Boot">Secure Boot#Booting archiso</a><sup>[<a href="../en/ArchWiki:Requests.html#Broken_section_links" class="mw-redirect" title="ArchWiki:Requests">断开的链接</a>：无效的部分]</sup>. 
</p>
<p>建议在启动 Arch Linux 之前手动从 UEFI 固件设置中关闭安全启动,Windows 应该仍能启动.唯一的要求是能访问 UEFI 固件设置并且能够从固件设置中禁用安全启动 (因为 Microsoft 禁止在预装 Windows 8/8.1/10 的电脑中远程关闭或者在系统中关闭安全启动).
</p>
<h3>
<span id=".E5.BF.AB.E9.80.9F.E5.90.AF.E5.8A.A8"></span><span class="mw-headline" id="快速启动">快速启动</span>
</h3>
<p>快速启动是 Windows 8 (及更新的版本) 中的一项功能,通过休眠来提高启动速度.但是如果你休眠 Windows 然后进入另一个系统修改文件,可能会造成数据丢失.即使你不打算在双系统中共享文件,这也容易损坏 EFI 系统分区.因此你应该在安装 Linux 前禁用快速启动:
</p>
<ul>
<li><a rel="nofollow" class="external text" href="http://www.eightforums.com/tutorials/6320-fast-startup-turn-off-windows-8-a.html">Windows 8</a></li>
<li>
<a rel="nofollow" class="external text" href="http://www.tenforums.com/tutorials/4189-fast-startup-turn-off-windows-10-a.html">Windows 10</a>,</li>
</ul>
<p><span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ntfs-3g">ntfs-3g</a></span> 通过 <a rel="nofollow" class="external text" href="https://sourceforge.net/p/ntfs-3g/ntfs-3g/ci/559270a8f67c77a7ce51246c23d2b2837bcff0c9/">safe-guard</a> 阻止以读写方式挂载休眠中的硬盘,但 Linux 内核中的驱动并不能保证这一点.
</p>
<h3>
<span id="Windows_.E4.B8.AD.E7.9A.84.E6.96.87.E4.BB.B6.E5.90.8D.E9.99.90.E5.88.B6"></span><span class="mw-headline" id="Windows_中的文件名限制">Windows 中的文件名限制</span>
</h3>
<p>Windows 中的文件名长度最长为 <a rel="nofollow" class="external text" href="http://blogs.msdn.com/b/bclteam/archive/2007/02/13/long-paths-in-net-part-1-of-3-kim-hamilton.aspx">260 字符</a><sup title="最后检查状态：404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">失效链接</a> 2020-12-24 ⓘ]</sup>.
</p>
<p>另外 Windows <a rel="nofollow" class="external text" href="https://msdn.microsoft.com/en-us/library/aa365247(VS.85).aspx#naming_conventions">对文件名中包含的字符也有限制</a>, Windows 中文件名中不能包含:
</p>
<ul>
<li>&lt; (小于号)</li>
<li>&gt; (大于号)</li>
<li>: (冒号)</li>
<li>" (双引号)</li>
<li>/ (斜线)</li>
<li>\ (反斜线)</li>
<li>| (管道符号)</li>
<li>? (问号)</li>
<li>* (星号)</li>
</ul>
<p>这是 Windows 而非 NTFS 的限制,因此其它系统依然可以在 NTFS 文件系统中创建文件名中带有这些符号的文件,但 Windows 无法识别这些文件. 运行 <code>chkdsk</code> 时也可能删除它们,这是一个引发数据丢失的风险.
</p>
<p><b>NTFS-3G</b> 可以通过 <a rel="nofollow" class="external text" href="http://www.tuxera.com/community/ntfs-3g-manual/#4">windows_filenames</a><sup title="最后检查状态：404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">失效链接</a> 2020-12-24 ⓘ]</sup> 挂载选项遵循这些限制 (参阅 <a href="../en/Fstab.html" title="Fstab">fstab</a>).
</p>
<h2>
<span id=".E5.AE.89.E8.A3.85"></span><span class="mw-headline" id="安装">安装</span>
</h2>
<p>推荐先安装 Windows 再安装 Linux , 安装 Windows 时只使用硬盘的部分空间建立需要的分区.在 Windows 安装完毕后,进入 Linux 安装环境中后你可以对硬盘未分配的空间进行分区而不改动 Windows 分区. 对于 UEFI 系统,可以使用 Windows 安装时建立的 EFI 系统分区.
</p>
<h3>
<span id="BIOS_.E7.B3.BB.E7.BB.9F"></span><span class="mw-headline" id="BIOS_系统">BIOS 系统</span>
</h3>
<h4>
<span id=".E4.BD.BF.E7.94.A8_Linux_.E5.90.AF.E5.8A.A8.E7.AE.A1.E7.90.86.E5.99.A8"></span><span class="mw-headline" id="使用_Linux_启动管理器">使用 Linux 启动管理器</span>
</h4>
<p>你可以使用 <a href="../en/GRUB.html#Dual-booting" title="GRUB">GRUB</a> 或 <a href="../en/Syslinux.html#Chainloading" title="Syslinux">Syslinux</a>.
</p>
<h4>
<span id=".E4.BD.BF.E7.94.A8_Windows_.E5.90.AF.E5.8A.A8.E7.AE.A1.E7.90.86.E5.99.A8"></span><span class="mw-headline" id="使用_Windows_启动管理器">使用 Windows 启动管理器</span>
</h4>
<p>需要设置 Windows 启动管理器使它加载另一个启动管理器 (例如 GRUB ),然后启动 Arch Linux.
</p>
<h5>
<span id="Windows_Vista.2F7.2F8.2F8.1.2F10_.E7.9A.84.E5.90.AF.E5.8A.A8.E7.AE.A1.E7.90.86.E5.99.A8"></span><span class="mw-headline" id="Windows_Vista/7/8/8.1/10_的启动管理器">Windows Vista/7/8/8.1/10 的启动管理器</span>
</h5>
<p>下面的内容摘录自 <a rel="nofollow" class="external free" href="http://www.iceflatline.com/2009/09/how-to-dual-boot-windows-7-and-linux-using-bcdedit/">http://www.iceflatline.com/2009/09/how-to-dual-boot-windows-7-and-linux-using-bcdedit/</a>.
</p>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a><b>The factual accuracy of this article or section is disputed.</b><a href="../File:Tango-inaccurate.png" class="image"><img alt="Tango-inaccurate.png" src="../File:Tango-inaccurate.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Using ex3 formatted /boot partition, windows bootloader works just fine (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Dual_boot_with_Windows_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">Talk:Dual boot with Windows (简体中文)#</a>)</div>
</div>
<p>In order to have the Windows boot loader see the Linux partition, one of the Linux partitions created needs to be FAT32 (in this case, <code>/dev/sda3</code>). The remainder of the setup is similar to a typical installation. Some documents state that the partition being loaded by the Windows boot loader must be a primary partition but I have used this without problem on an extended partition.
</p>
<ul><li>When installing the GRUB boot loader, install it on your <code>/boot</code> partition rather than the MBR. <div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> For instance, my <code>/boot</code> partition is <code>/dev/sda5</code>. So I installed GRUB at <code>/dev/sda5</code> instead of <code>/dev/sda</code>. For help on doing this, see <a href="../en/GRUB.html#Install_to_partition_or_partitionless_disk" title="GRUB">GRUB#Install to partition or partitionless disk</a><sup>[<a href="../en/ArchWiki:Requests.html#Broken_section_links" class="mw-redirect" title="ArchWiki:Requests">断开的链接</a>：无效的部分]</sup>
</div>
</li></ul>
<ul><li>Under Linux make a copy of the boot info by typing the following at the command shell:</li></ul>
<pre>my_windows_part=/dev/sda3
my_boot_part=/dev/sda5
mkdir /media/win
mount $my_windows_part /media/win
dd if=$my_boot_part of=/media/win/linux.bin bs=512 count=1
</pre>
<ul><li>Boot to Windows and open up and you should be able to see the FAT32 partition. Copy the linux.bin file to <code>C:\</code>. Now run <b>cmd</b> with administrator privileges (navigate to <i>Start &gt; All Programs &gt; Accessories</i>, right-click on <i>Command Prompt</i> and select <i>Run as administrator</i>):</li></ul>
<pre>bcdedit /create /d “Linux” /application BOOTSECTOR
</pre>
<ul><li>BCDEdit will return an alphanumeric identifier for this entry that I will refer to as {ID} in the remaining steps. You will need to replace {ID} by the actual returned identifier. An example of {ID} is {d7294d4e-9837-11de-99ac-f3f3a79e3e93}.</li></ul>
<pre>bcdedit /set {ID} device partition=c:
bcdedit /set {ID}  path \linux.bin
bcdedit /displayorder {ID} /addlast
bcdedit /timeout 30
</pre>
<p>Reboot and enjoy. In my case I'm using the Windows boot loader so that I can map my Dell Precision M4500's second power button to boot Linux instead of Windows.
</p>
<h3>
<span id="UEFI_.E7.B3.BB.E7.BB.9F"></span><span class="mw-headline" id="UEFI_系统">UEFI 系统</span>
</h3>
<p>在你安装好 Windows 以后,你的硬盘上应该会有这些分区 :
</p>
<ul>
<li>格式化成 <code>FAT32</code> 的 EFI 系统分区,分区类型为 <code>ef00 EFI System</code>,</li>
<li>一个分区类型为 <code>0c01 Microsoft reserved</code> 的 Microsoft 保留分区, 一般大小为 <code>128 MiB</code>,</li>
<li>一个 <code>NTFS</code> 文件系统 ,分区类型为 <code>0700 Microsoft basic data</code> (Microsoft 基本数据) 的分区 ,这是 Windows 中的 <code>C:\</code>,</li>
<li>可能还会有与 C:\ 相同类型的分区,一般为恢复分区 .</li>
</ul>
<p>用 Windows 中的磁盘分区工具(例如"磁盘管理"),检查这些分区的位置和卷标.这会帮你理解哪些分区对 Windows 而言是重要的. 简而言之:前三个分区(EFI 系统分区,Microsoft 保留分区,和 Windows 所在的分区)很重要,不要删除它们.
</p>
<p>你可以根据需要 <a href="../en/Partitioning.html" title="Partitioning">进行分区</a>, 记住如果有就没必要创建新的 EFI 系统分区.如果需要,<a href="../en/File_systems.html#Mount_a_file_system" class="mw-redirect" title="Mount">挂载</a> 现有的 EFI 系统分区到<code>/boot</code>, 安装 <a href="../en/Arch_boot_process.html#Boot_loader" class="mw-redirect" title="Bootloader">bootloader</a> ,并把它的信息写入到 <code>/etc/<a href="../en/Fstab.html" title="Fstab">fstab</a></code>.
</p>
<p>选择一个合适的启动管理器, <a href="../en/Systemd-boot.html" title="Systemd-boot">systemd-boot</a> 和 <a href="../en/REFInd.html" title="REFInd">rEFInd</a> 可以自动检测 <i>Windows Boot Manager</i> (<code>\EFI\Microsoft\Boot\bootmgfw.efi</code>) 并为它添加启动项.
</p>
<p><a href="../en/GRUB.html" title="GRUB">GRUB</a> 用户请参阅 <a href="../en/GRUB.html#Windows_installed_in_UEFI/GPT_mode" title="GRUB">GRUB#Windows installed in UEFI/GPT mode</a>.
Syslinux (version 6.02 和 6.03-pre9) 和 ELILO 不支持链式加载 EFI 可执行文件,所以不能引导 <code>\EFI\Microsoft\Boot\bootmgfw.efi</code>.
</p>
<p>对于打开 <a href="../en/Unified_Extensible_Firmware_Interface/Secure_Boot.html" class="mw-redirect" title="Secure Boot">安全启动</a> 的电脑,你可能需要更多的步骤(关闭安全启动或是使安装介质支持安全启动,参见前面的链接).
</p>
<h3>
<span id=".E7.96.91.E9.9A.BE.E8.A7.A3.E7.AD.94"></span><span class="mw-headline" id="疑难解答">疑难解答</span>
</h3>
<h4>
<span id="Couldn.27t_create_a_new_partition_or_locate_an_existing_one_.28.E6.97.A0.E6.B3.95.E5.88.9B.E5.BB.BA.E6.88.96.E8.80.85.E5.AE.9A.E4.BD.8D.E5.88.86.E5.8C.BA.29"></span><span class="mw-headline" id="Couldn't_create_a_new_partition_or_locate_an_existing_one_(无法创建或者定位分区)">Couldn't create a new partition or locate an existing one (无法创建或者定位分区)</span>
</h4>
<p>Windows 的安装介质应该格式化为与硬盘分区表相同的模式,见上文 <a href="#Windows_UEFI_%E5%92%8C_BIOS_%E5%90%AF%E5%8A%A8%E9%99%90%E5%88%B6">#Windows UEFI 和 BIOS 启动限制</a>.
</p>
<h4>
<span id=".E5.AE.89.E8.A3.85_Windows_.E5.90.8E.E6.97.A0.E6.B3.95.E5.86.8D.E5.BC.95.E5.AF.BC_Linux"></span><span class="mw-headline" id="安装_Windows_后无法再引导_Linux">安装 Windows 后无法再引导 Linux</span>
</h4>
<p>参阅 <a href="../en/Unified_Extensible_Firmware_Interface.html#Windows_changes_boot_order" class="mw-redirect" title="UEFI">UEFI#Windows changes boot order</a>.
</p>
<h2>
<span id=".E6.97.B6.E9.97.B4.E6.A0.87.E5.87.86"></span><span class="mw-headline" id="时间标准">时间标准</span>
</h2>
<ul><li>推荐: 参照 <a href="../en/System_time.html#UTC_in_Windows" title="System time">System time#UTC in Windows</a> 将 Windows 和 Arch 的硬件时钟设置为 UTC,并停用 Windows 的自动更新时间服务 (因为 Windows 会重新成默认的 <i>localtime</i>).</li></ul>
<ul><li>不推荐: 设置 Arch Linux 的硬件时钟为 <i>localtime</i> 并停用所有时间同步关联的服务,例如 <a href="../en/Network_Time_Protocol_daemon.html" class="mw-redirect" title="NTPd">NTPd</a> . 这会让 Windows 接管硬件时钟设置,因此你应该至少每年启动两次 Windows (例如当你所在的地区应用夏令时,在每年的春季和秋季启动一次). 同时,如果你这么做,就别在论坛里问为什么时钟慢了一个小时之类的问题了(特别是你有些时候没启动 Windows 的情况下).</li></ul>
<h2>
<span id=".E5.8F.A6.E8.A7.81"></span><span class="mw-headline" id="另见">另见</span>
</h2>
<ul><li><a rel="nofollow" class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=140049">Booting Windows from a desktop shortcut</a></li></ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../zh-CN/Category:Boot_process.html" title="Category:Boot process (简体中文)">Boot process (简体中文)</a></li>
<li><a href="../zh-CN/Category:Installation_process.html" title="Category:Installation process (简体中文)">Installation process (简体中文)</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_with_broken_section_links.html" title="Category:Pages with broken section links">Pages with broken section links</a></li>
<li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Accuracy.html" title="Category:Pages or sections flagged with Template:Accuracy">Pages or sections flagged with Template:Accuracy</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Dual_boot_with_Windows_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)&amp;oldid=646481">https://wiki.archlinux.org/index.php?title=Dual_boot_with_Windows_(简体中文)&amp;oldid=646481</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 24 December 2020, at 11:09.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
