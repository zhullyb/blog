<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>PhpMyAdmin (简体中文) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-PhpMyAdmin_简体中文 rootpage-PhpMyAdmin_简体中文 skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">PhpMyAdmin (简体中文)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>翻译状态：</strong>本文是 <a href="../en/PhpMyAdmin.html" title="PhpMyAdmin">PhpMyAdmin</a> 的<a href="../zh-CN/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (简体中文)">翻译</a>。上次翻译日期：2018-06-22。如果英文版本有所<a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=PhpMyAdmin&amp;diff=0&amp;oldid=526922">更改</a>，则您可以帮助同步翻译。</div>
<p><a rel="nofollow" class="external text" href="http://www.phpmyadmin.net/">phpMyAdmin</a>是一个基于网页的，帮助管理MySQL数据库的Apache/PHP前端。
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#%E5%AE%89%E8%A3%85"><span class="tocnumber">1</span> <span class="toctext">安装</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#%E8%BF%90%E8%A1%8C"><span class="tocnumber">2</span> <span class="toctext">运行</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#PHP"><span class="tocnumber">2.1</span> <span class="toctext">PHP</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Apache"><span class="tocnumber">2.2</span> <span class="toctext">Apache</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Lighttpd"><span class="tocnumber">2.3</span> <span class="toctext">Lighttpd</span></a></li>
<li class="toclevel-2 tocsection-6">
<a href="#Nginx"><span class="tocnumber">2.4</span> <span class="toctext">Nginx</span></a>
<ul>
<li class="toclevel-3 tocsection-7"><a href="#%E5%AD%90%E5%9F%9F%E5%90%8D"><span class="tocnumber">2.4.1</span> <span class="toctext">子域名</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="#%E5%AD%90%E7%9B%AE%E5%BD%95"><span class="tocnumber">2.4.2</span> <span class="toctext">子目录</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-9">
<a href="#%E9%85%8D%E7%BD%AE"><span class="tocnumber">3</span> <span class="toctext">配置</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="#%E4%BD%BF%E7%94%A8%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC"><span class="tocnumber">3.1</span> <span class="toctext">使用安装脚本</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#%E6%B7%BB%E5%8A%A0blowfish_secret_passphrase"><span class="tocnumber">3.2</span> <span class="toctext">添加blowfish_secret passphrase</span></a></li>
<li class="toclevel-2 tocsection-12">
<a href="#%E5%90%AF%E7%94%A8%E9%85%8D%E7%BD%AE%E5%AD%98%E5%82%A8"><span class="tocnumber">3.3</span> <span class="toctext">启用配置存储</span></a>
<ul>
<li class="toclevel-3 tocsection-13"><a href="#%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="tocnumber">3.3.1</span> <span class="toctext">创建数据库</span></a></li>
<li class="toclevel-3 tocsection-14"><a href="#%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E7%94%A8%E6%88%B7"><span class="tocnumber">3.3.2</span> <span class="toctext">创建数据库用户</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-15"><a href="#%E5%90%AF%E7%94%A8templates_catching"><span class="tocnumber">3.4</span> <span class="toctext">启用templates catching</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-16"><a href="#%E5%8F%82%E8%A7%81"><span class="tocnumber">4</span> <span class="toctext">参见</span></a></li>
</ul>
</div>

<h2>
<span id=".E5.AE.89.E8.A3.85"></span><span class="mw-headline" id="安装">安装</span>
</h2>
<p><a href="../zh-CN/Pacman.html" title="Pacman (简体中文)">安装</a> 软件包 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=phpmyadmin">phpmyadmin</a></span>。
</p>
<h2>
<span id=".E8.BF.90.E8.A1.8C"></span><span class="mw-headline" id="运行">运行</span>
</h2>
<h3><span class="mw-headline" id="PHP">PHP</span></h3>
<p>确保PHP的<a href="../zh-CN/PHP.html#MySQL/MariaDB" title="PHP (简体中文)">MySQL</a>扩展已经被启用。
</p>
<p>你也可以启用<code>bz2</code>和<code>zip</code>扩展以支持压缩。
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 如果在<code>php.ini</code>中设置了<code>open_basedir</code>，<code>/etc/weppapps/</code>必须加入<code>open_basedir</code>。</div>
<h3><span class="mw-headline" id="Apache">Apache</span></h3>
<p>按照<a href="../zh-CN/Apache_HTTP_Server.html#PHP" title="Apache HTTP Server (简体中文)">Apache HTTP Server (简体中文)#PHP</a>设置PHP。
创建Apache配置文件：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/httpd/conf/extra/phpmyadmin.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">Alias /phpmyadmin "/usr/share/webapps/phpMyAdmin"
&lt;Directory "/usr/share/webapps/phpMyAdmin"&gt;
    DirectoryIndex index.php
    AllowOverride All
    Options FollowSymlinks
    Require all granted
&lt;/Directory&gt;</pre>
<p>在<code>/etc/httpd/conf/httpd.conf</code>加入配置文件：
</p>
<pre># phpMyAdmin configuration
Include conf/extra/phpmyadmin.conf
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 默认情况下，每个可以访问Web服务器的人都可以通过这个URL访问phpMyAdmin登录页面。要改变此设置，编辑<code>/etc/httpd/conf/extra/phpmyadmin.conf</code>。例如，你只想从本地访问phpMyAdmin，将<code>Require all granted</code>改为<code>Require local</code>。注意，这将禁止远程访问phpMyAdmin，如果你想安全地远程访问phpMyAdmin，你可以设置一个<a href="../zh-CN/Secure_Shell.html#%E5%8A%A0%E5%AF%86_Socks_%E9%80%9A%E9%81%93" title="Secure Shell (简体中文)">加密的SOCKS通道</a><sup>[<a href="../en/ArchWiki:Requests.html#Broken_section_links" class="mw-redirect" title="ArchWiki:Requests">断开的链接</a>：无效的部分]</sup>。</div>
<h3><span class="mw-headline" id="Lighttpd">Lighttpd</span></h3>
<p>配置<a href="../en/Lighttpd.html" title="Lighttpd">Lighttpd</a>，确保能正常使用PHP，并且启用<code>mod_alias</code>。
</p>
<p>在配置文件中为phpmyadmin加入下列alias：
</p>
<pre> alias.url = ( "/phpmyadmin" =&gt; "/usr/share/webapps/phpMyAdmin/")
</pre>
<h3><span class="mw-headline" id="Nginx">Nginx</span></h3>
<p>确保正确配置<a href="../en/Nginx.html#FastCGI" title="Nginx">FastCGI</a>.
</p>
<h4>
<span id=".E5.AD.90.E5.9F.9F.E5.90.8D"></span><span class="mw-headline" id="子域名">子域名</span>
</h4>
<p>参考<a href="../en/Nginx.html#PHP_configuration_file" title="Nginx">nginx#PHP configuration file</a><sup>[<a href="../en/ArchWiki:Requests.html#Broken_section_links" class="mw-redirect" title="ArchWiki:Requests">断开的链接</a>：无效的部分]</sup>，为php创建一个单独的配置文件，并使用一个服务器块，例如：
</p>
<pre>server {
    server_name     phpmyadmin.&lt;domain.tld&gt;;
    root    /usr/share/webapps/phpMyAdmin;
    index   index.php;
    include php.conf;
}
</pre>
<h4>
<span id=".E5.AD.90.E7.9B.AE.E5.BD.95"></span><span class="mw-headline" id="子目录">子目录</span>
</h4>
<p>这可以通过<code>https://domain.tld/phpMyAdmin</code>访问phpMyAdmin：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/nginx/sites-available/domain.tld</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">location /phpMyAdmin {
   server_name domain.tld;
   listen 443 ssl http2;
   root /srv/http/domain.tld;
   index index.php;  
  
   location / {
      try_files $uri $uri/ =404;
   }

   # Deny static files
   location ~ ^/phpMyAdmin/(README|LICENSE|ChangeLog|DCO)$ {
      deny all;
   }

   # Deny .md files
   location ~ ^/phpMyAdmin/(.+\.md)$ {
      deny all;
   }

   # Deny setup directories
   location ~ ^/phpMyAdmin/(doc|sql|setup)/ {
      deny all;
   }

   #FastCGI config for phpMyAdmin
   location ~ /phpMyAdmin/(.+\.php)$ {
      fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
      fastcgi_pass   unix:/run/php-fpm/php-fpm.sock;
      fastcgi_index  index.php;
      include        fastcgi.conf;
   }
}
</pre>
<h2>
<span id=".E9.85.8D.E7.BD.AE"></span><span class="mw-headline" id="配置">配置</span>
</h2>
<p>主配置文件位于<code>/etc/webapps/phpmyadmin/config.inc.php</code>。
</p>
<p>如果<a href="../en/MySQL.html" title="MySQL">MySQL</a>服务器不在本机上，添加如下行:
</p>
<pre>$cfg['Servers'][$i]['host'] = 'localhost';
</pre>
<h3>
<span id=".E4.BD.BF.E7.94.A8.E5.AE.89.E8.A3.85.E8.84.9A.E6.9C.AC"></span><span class="mw-headline" id="使用安装脚本">使用安装脚本</span>
</h3>
<p>要使用phpMyAdmin安装脚本（例如http://localhost/phpmyadmin/setup），确保<code>http</code>用户可以写入<code>/usr/share/webapps/phpMyAdmin</code>。
</p>
<pre># mkdir /usr/share/webapps/phpMyAdmin/config
# chown http:http /usr/share/webapps/phpMyAdmin/config
# chmod 750 /usr/share/webapps/phpMyAdmin/config
</pre>
<h3>
<span id=".E6.B7.BB.E5.8A.A0blowfish_secret_passphrase"></span><span class="mw-headline" id="添加blowfish_secret_passphrase">添加blowfish_secret passphrase</span>
</h3>
<p>需要设置一个32位的字符串从而充分地使用blowfish算法，从而避免……（配置文件现在需要一个短语密码）的错误。
</p>
<p>(blowfish_secret)<i>:</i>
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/webapps/phpmyadmin/config.inc.php</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">$cfg['blowfish_secret'] = '...';</pre>
<h3>
<span id=".E5.90.AF.E7.94.A8.E9.85.8D.E7.BD.AE.E5.AD.98.E5.82.A8"></span><span class="mw-headline" id="启用配置存储">启用配置存储</span>
</h3>
<p>例如table linking,change tracking,PDF creation,bookmarking queries的附加功能默认是被禁用的，并且会提示The phpMyAdmin configuration storage is not completely configured, some extended features have been deactivated.
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 下面的例子将<code>controluser</code>假设为<b>pma</b>，controlpass假设为<b>pmapass</b>。</div>
<p>在<code>/etc/webapps/phpmyadmin/config.inc.php</code>取消注释(移除开头的//)，并按需更改为所需的凭据：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/webapps/phpmyadmin/config.inc.php</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/* User used to manipulate with storage */
// $cfg['Servers'][$i]['controlhost'] = 'my-host';
// $cfg['Servers'][$i]['controlport'] = '3306';
$cfg['Servers'][$i]['controluser'] = 'pma';
$cfg['Servers'][$i]['controlpass'] = 'pmapass';

/* Storage database and tables */
$cfg['Servers'][$i]['pmadb'] = 'phpmyadmin';
$cfg['Servers'][$i]['bookmarktable'] = 'pma__bookmark';
$cfg['Servers'][$i]['relation'] = 'pma__relation';
$cfg['Servers'][$i]['table_info'] = 'pma__table_info';
$cfg['Servers'][$i]['table_coords'] = 'pma__table_coords';
$cfg['Servers'][$i]['pdf_pages'] = 'pma__pdf_pages';
$cfg['Servers'][$i]['column_info'] = 'pma__column_info';
$cfg['Servers'][$i]['history'] = 'pma__history';
$cfg['Servers'][$i]['table_uiprefs'] = 'pma__table_uiprefs';
$cfg['Servers'][$i]['tracking'] = 'pma__tracking';
$cfg['Servers'][$i]['userconfig'] = 'pma__userconfig';
$cfg['Servers'][$i]['recent'] = 'pma__recent';
$cfg['Servers'][$i]['favorite'] = 'pma__favorite';
$cfg['Servers'][$i]['users'] = 'pma__users';
$cfg['Servers'][$i]['usergroups'] = 'pma__usergroups';
$cfg['Servers'][$i]['navigationhiding'] = 'pma__navigationhiding';
$cfg['Servers'][$i]['savedsearches'] = 'pma__savedsearches';
$cfg['Servers'][$i]['central_columns'] = 'pma__central_columns';
$cfg['Servers'][$i]['designer_settings'] = 'pma__designer_settings';
$cfg['Servers'][$i]['export_templates'] = 'pma__export_templates';</pre>
<h5>
<span id=".E5.88.9B.E5.BB.BA.E6.95.B0.E6.8D.AE.E5.BA.93"></span><span class="mw-headline" id="创建数据库">创建数据库</span>
</h5>
<p>有两种方法来创建需要的表：
</p>
<ul>
<li>使用phpMyAdmin导入 <code>/usr/share/webapps/phpMyAdmin/sql/create_tables.sql</code>。</li>
<li>在命令行中执行<code>mysql -u root -p &lt; /usr/share/webapps/phpMyAdmin/sql/create_tables.sql</code>。</li>
</ul>
<h5>
<span id=".E5.88.9B.E5.BB.BA.E6.95.B0.E6.8D.AE.E5.BA.93.E7.94.A8.E6.88.B7"></span><span class="mw-headline" id="创建数据库用户">创建数据库用户</span>
</h5>
<p>要赋予<code>controluser</code>所需的权限，执行如下的查询：
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 确保将所有的<code>pma</code>和<code>pmapass</code>替换为在<code>config.inc.php</code>设置的值。如果正在为远程数据库配置，还需将<code>localhost</code>改为适当的主机。</div>
<pre>GRANT USAGE ON mysql.* TO 'pma'@'localhost' IDENTIFIED BY 'pmapass';
GRANT SELECT (
    Host, User, Select_priv, Insert_priv, Update_priv, Delete_priv,
    Create_priv, Drop_priv, Reload_priv, Shutdown_priv, Process_priv,
    File_priv, Grant_priv, References_priv, Index_priv, Alter_priv,
    Show_db_priv, Super_priv, Create_tmp_table_priv, Lock_tables_priv,
    Execute_priv, Repl_slave_priv, Repl_client_priv
    ) ON mysql.user TO 'pma'@'localhost';
GRANT SELECT ON mysql.db TO 'pma'@'localhost';
GRANT SELECT ON mysql.host TO 'pma'@'localhost';
GRANT SELECT (Host, Db, User, Table_name, Table_priv, Column_priv)
    ON mysql.tables_priv TO 'pma'@'localhost';
</pre>
<p>In order use the bookmark and relation features, set the following permissions:
</p>
<pre>GRANT SELECT, INSERT, UPDATE, DELETE ON phpmyadmin.* TO 'pma'@'localhost';
</pre>
<p>重新登录以启用新功能。
</p>
<h3>
<span id=".E5.90.AF.E7.94.A8templates_catching"></span><span class="mw-headline" id="启用templates_catching">启用templates catching</span>
</h3>
<p>在<code>/etc/webapps/phpmyadmin/config.inc.php</code>添加如下行：
</p>
<pre> $cfg['TempDir'] = '/tmp/phpmyadmin'
</pre>
<h2>
<span id=".E5.8F.82.E8.A7.81"></span><span class="mw-headline" id="参见">参见</span>
</h2>
<ul><li><a href="https://en.wikipedia.org/wiki/phpMyAdmin" class="extiw" title="wikipedia:phpMyAdmin">Wikipedia</a></li></ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../zh-CN/Category:Web_admin_interfaces.html" title="Category:Web admin interfaces (简体中文)">Web admin interfaces (简体中文)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_with_broken_section_links.html" title="Category:Pages with broken section links">Pages with broken section links</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=PhpMyAdmin_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)&amp;oldid=638570">https://wiki.archlinux.org/index.php?title=PhpMyAdmin_(简体中文)&amp;oldid=638570</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 14 October 2020, at 07:16.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
