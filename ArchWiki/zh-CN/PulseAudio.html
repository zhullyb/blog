<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>PulseAudio (简体中文) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-PulseAudio_简体中文 rootpage-PulseAudio_简体中文 skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">PulseAudio (简体中文)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
<li><a href="../en/PulseAudio/Examples.html" title="PulseAudio/Examples">PulseAudio/Examples</a></li>
<li><a href="../en/PulseAudio/Troubleshooting.html" title="PulseAudio/Troubleshooting">PulseAudio/Troubleshooting</a></li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>翻译状态：</strong>本文是 <a href="../en/PulseAudio.html" title="PulseAudio">PulseAudio</a> 的<a href="../zh-CN/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (简体中文)">翻译</a>。上次翻译日期：2017-01-26。如果英文版本有所<a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=PulseAudio&amp;diff=0&amp;oldid=349898">更改</a>，则您可以帮助同步翻译。</div>
<p><a href="https://en.wikipedia.org/wiki/PulseAudio" class="extiw" title="wikipedia:PulseAudio">PulseAudio</a> 是在<a href="../en/GNOME.html" title="GNOME">GNOME</a> 或 <a href="../en/KDE.html" title="KDE">KDE</a>等桌面环境中广泛使用的音频服务。它在内核音频组件（比如<a href="../en/Advanced_Linux_Sound_Architecture.html" class="mw-redirect" title="ALSA">ALSA</a> 和 <a href="../en/Open_Sound_System.html" class="mw-redirect" title="OSS">OSS</a>）和应用程序之间充当代理的角色。由于Arch Linux默认包含ALSA，PulseAudio经常和ALSA协同使用。
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1">
<a href="#%E5%AE%89%E8%A3%85"><span class="tocnumber">1</span> <span class="toctext">安装</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#%E5%89%8D%E7%AB%AF"><span class="tocnumber">1.1</span> <span class="toctext">前端</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3"><a href="#%E9%85%8D%E7%BD%AE"><span class="tocnumber">2</span> <span class="toctext">配置</span></a></li>
<li class="toclevel-1 tocsection-4">
<a href="#%E5%90%AF%E5%8A%A8"><span class="tocnumber">3</span> <span class="toctext">启动</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#%E5%9C%A8%E4%B8%8D%E6%94%AF%E6%8C%81%E7%9A%84%E6%A1%8C%E9%9D%A2%E7%8E%AF%E5%A2%83%E4%B8%AD%E8%87%AA%E5%8A%A8%E5%90%AF%E5%8A%A8Pulse"><span class="tocnumber">3.1</span> <span class="toctext">在不支持的桌面环境中自动启动Pulse</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6">
<a href="#%E5%90%8E%E7%AB%AF%E8%AE%BE%E7%BD%AE"><span class="tocnumber">4</span> <span class="toctext">后端设置</span></a>
<ul>
<li class="toclevel-2 tocsection-7">
<a href="#ALSA"><span class="tocnumber">4.1</span> <span class="toctext">ALSA</span></a>
<ul>
<li class="toclevel-3 tocsection-8"><a href="#%E5%9C%A8%E4%B8%8D%E7%8B%AC%E5%8D%A0%E7%A1%AC%E4%BB%B6%E8%AE%BE%E5%A4%87%E7%9A%84%E6%83%85%E5%86%B5%E4%B8%8B%E4%BD%BF%E7%94%A8ALSA/dmix"><span class="tocnumber">4.1.1</span> <span class="toctext">在不独占硬件设备的情况下使用ALSA/dmix</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-9">
<a href="#OSS"><span class="tocnumber">4.2</span> <span class="toctext">OSS</span></a>
<ul>
<li class="toclevel-3 tocsection-10"><a href="#ossp"><span class="tocnumber">4.2.1</span> <span class="toctext">ossp</span></a></li>
<li class="toclevel-3 tocsection-11"><a href="#padsp_wrapper"><span class="tocnumber">4.2.2</span> <span class="toctext">padsp wrapper</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-12"><a href="#GStreamer"><span class="tocnumber">4.3</span> <span class="toctext">GStreamer</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#OpenAL"><span class="tocnumber">4.4</span> <span class="toctext">OpenAL</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#libao"><span class="tocnumber">4.5</span> <span class="toctext">libao</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-15">
<a href="#%E5%9D%87%E8%A1%A1%E5%99%A8"><span class="tocnumber">5</span> <span class="toctext">均衡器</span></a>
<ul>
<li class="toclevel-2 tocsection-16"><a href="#%E5%8A%A0%E8%BD%BD%E5%9D%87%E8%A1%A1%E5%99%A8%E9%80%9A%E9%81%93%E5%92%8Cdbus%E5%8D%8F%E8%AE%AE%E6%A8%A1%E5%9D%97"><span class="tocnumber">5.1</span> <span class="toctext">加载均衡器通道和dbus协议模块</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#%E5%AE%89%E8%A3%85%E5%B9%B6%E8%BF%90%E8%A1%8C%E5%9B%BE%E5%BD%A2%E5%89%8D%E7%AB%AF"><span class="tocnumber">5.2</span> <span class="toctext">安装并运行图形前端</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#%E6%AF%8F%E6%AC%A1%E5%90%AF%E5%8A%A8%E6%97%B6%E5%8A%A0%E8%BD%BD%E5%9D%87%E8%A1%A1%E5%99%A8%E5%92%8Cdbus%E6%A8%A1%E5%9D%97"><span class="tocnumber">5.3</span> <span class="toctext">每次启动时加载均衡器和dbus模块</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-19">
<a href="#%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F"><span class="tocnumber">6</span> <span class="toctext">应用程序</span></a>
<ul>
<li class="toclevel-2 tocsection-20"><a href="#QEMU"><span class="tocnumber">6.1</span> <span class="toctext">QEMU</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#AlsaMixer.app"><span class="tocnumber">6.2</span> <span class="toctext">AlsaMixer.app</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#XMMS2"><span class="tocnumber">6.3</span> <span class="toctext">XMMS2</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#KDE_Plasma_Workspaces_%E5%92%8C_Qt4"><span class="tocnumber">6.4</span> <span class="toctext">KDE Plasma Workspaces 和 Qt4</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#Audacious"><span class="tocnumber">6.5</span> <span class="toctext">Audacious</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#Java/OpenJDK_6"><span class="tocnumber">6.6</span> <span class="toctext">Java/OpenJDK 6</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="#Music_Player_Daemon_(MPD)"><span class="tocnumber">6.7</span> <span class="toctext">Music Player Daemon (MPD)</span></a></li>
<li class="toclevel-2 tocsection-27"><a href="#MPlayer"><span class="tocnumber">6.8</span> <span class="toctext">MPlayer</span></a></li>
<li class="toclevel-2 tocsection-28"><a href="#guvcview"><span class="tocnumber">6.9</span> <span class="toctext">guvcview</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-29"><a href="#%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5"><span class="tocnumber">7</span> <span class="toctext">故障排查</span></a></li>
<li class="toclevel-1 tocsection-30"><a href="#%E7%9B%B8%E5%85%B3%E9%98%85%E8%AF%BB"><span class="tocnumber">8</span> <span class="toctext">相关阅读</span></a></li>
</ul>
</div>

<h2>
<span id=".E5.AE.89.E8.A3.85"></span><span class="mw-headline" id="安装">安装</span>
</h2>
<p>安装 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pulseaudio">pulseaudio</a></span> 。
</p>
<p>有的 PulseAudio 模块已经从主软件包中 <a rel="nofollow" class="external text" href="https://archlinux.org/news/pulseaudio-split/">分离</a> 了。如果需要的话请分别安装：
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pulseaudio-bluetooth">pulseaudio-bluetooth</a></span>: 蓝牙 (Bluez) 支持</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pulseaudio-equalizer">pulseaudio-equalizer</a></span>: 均衡器 接收器 (qpaeq)</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pulseaudio-gconf">pulseaudio-gconf</a></span><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">断开的链接</a>：package not found]</sup>: GConf 支持 (paprefs)</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pulseaudio-jack">pulseaudio-jack</a></span>: JACK 接收器, 源和jackdbus检测</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pulseaudio-lirc">pulseaudio-lirc</a></span>: 红外 (LIRC) 音量控制</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pulseaudio-xen">pulseaudio-xen</a></span><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">断开的链接</a>：package not found]</sup>: Xen 半虚拟化接收器</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pulseaudio-zeroconf">pulseaudio-zeroconf</a></span>: Zeroconf (Avahi/DNS-SD) 支持</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 用户可能在 <a href="../en/Advanced_Linux_Sound_Architecture.html" class="mw-redirect" title="ALSA">ALSA</a> 和 PulseAudio 之间产生混淆。ALSA 包括有着声卡驱动的Linux内核组件和用户空间组件两部分，<code>libalsa</code>.<a rel="nofollow" class="external autonumber" href="http://www.alsa-project.org/main/index.php/Download">[1]</a> PulseAudio 只依赖于内核组件,但是也通过 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pulseaudio-alsa">pulseaudio-alsa</a></span> 和 <code>libalsa</code> 实现了兼容。<a rel="nofollow" class="external autonumber" href="https://www.freedesktop.org/wiki/Software/PulseAudio/FAQ/#index14h3">[2]</a>
</div>
<h3>
<span id=".E5.89.8D.E7.AB.AF"></span><span class="mw-headline" id="前端">前端</span>
</h3>
<p>有多种前端工具可以用以控制 PulseAudio 守护进程：
</p>
<ul>
<li>GTK GUI：<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=paprefs">paprefs</a></span> 和 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pavucontrol">pavucontrol</a></span>
</li>
<li>按键音量控制: <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/pulseaudio-ctl/">pulseaudio-ctl</a></span><sup><small>AUR</small></sup>，<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/pavolume-git/">pavolume-git</a></span><sup><small>AUR</small></sup>
</li>
<li>控制台 (CLI)混合器：<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ponymix">ponymix</a></span>和<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pamixer">pamixer</a></span>
</li>
<li>控制台 (curses) 混合器：<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pulsemixer">pulsemixer</a></span>
</li>
<li>网页音量控制：<a rel="nofollow" class="external text" href="https://github.com/Siot/PaWebControl">PaWebControl</a>
</li>
<li>系统托盘图标：<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pasystray">pasystray</a></span>，<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/pasystray-git/">pasystray-git</a></span><sup><small>AUR</small></sup>
</li>
<li>KF5 plasma 程序：<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=kmix">kmix</a></span>和<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=plasma-pa">plasma-pa</a></span>
</li>
<li>如果你想通过 PulseAudio 使用蓝牙耳机或其他蓝牙音频设备的话，请参见<a href="../en/Bluetooth_headset.html" title="Bluetooth headset">Bluetooth headset</a>.</li>
</ul>
<h2>
<span id=".E9.85.8D.E7.BD.AE"></span><span class="mw-headline" id="配置">配置</span>
</h2>
<div class="noprint archwiki-template-message">
<p><a href="../File:Merge-arrows-2.png" class="image"><img alt="Merge-arrows-2.png" src="../File:Merge-arrows-2.png" decoding="async" width="48" height="48"></a><b>This article or section is a candidate for merging with <a href="../en/PulseAudio/Configuration.html" title="PulseAudio/Configuration">PulseAudio/Configuration</a>.</b><a href="../File:Merge-arrows-2.png" class="image"><img alt="Merge-arrows-2.png" src="../File:Merge-arrows-2.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Notes:</b> Configuration should stay in the main article, so the linked page should be merged here. Split <a href="#Troubleshooting">#Troubleshooting</a> instead if this page is found too long. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:PulseAudio_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#Abandoned_draft">Talk:PulseAudio (简体中文)#Abandoned draft</a>)</div>
</div>
<p>Pulseaudio 支持通过多种模块扩展其功能。在这里可以找到PulseAudio可用的模块的详细信息： <a rel="nofollow" class="external text" href="https://www.freedesktop.org/wiki/Software/PulseAudio/Documentation/User/Modules/">Pulseaudio Loadable Modules</a>。增加 <code>load-module &lt;module-name-from-list&gt;</code> 到文件 <code>/etc/pulse/default.pa</code>就可以启用对应的模块。
</p>
<h2>
<span id=".E5.90.AF.E5.8A.A8"></span><span class="mw-headline" id="启动">启动</span>
</h2>
<div class="archwiki-template-box archwiki-template-box-warning">
<strong>Warning:</strong> 如果你给每个用户拷贝了配置文件（例如<code>client.conf</code>, <code>daemon.conf</code> 或者 <code>default.pa</code>）到<code>~/.config/pulse/</code> 或者 <code>~/.pulse/</code>目录下，确定这些文件的修改与<code>/etc/pulse/</code>下的文件修改同步，否则PulseAudio可能由于配置文件错误而拒绝启动。</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 大多数X11环境会在启动X11会话时自动启动PulseAudio。</div>
<p>少数情况下PulseAudio在启动X11时没有自动启动，可运行下面的命令启动：
</p>
<pre>$ pulseaudio --start
</pre>
<p>运行下面的命令可以终止PulseAudio：
</p>
<pre>$ pulseaudio --kill
</pre>
<h3>
<span id=".E5.9C.A8.E4.B8.8D.E6.94.AF.E6.8C.81.E7.9A.84.E6.A1.8C.E9.9D.A2.E7.8E.AF.E5.A2.83.E4.B8.AD.E8.87.AA.E5.8A.A8.E5.90.AF.E5.8A.A8Pulse"></span><span class="mw-headline" id="在不支持的桌面环境中自动启动Pulse">在不支持的桌面环境中自动启动Pulse</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 正如之前所说, 如果用户安装了桌面环境，PulseAudio很可能通过 <code>/etc/X11/xinit/xinitrc.d/pulseaudio</code>文件或者 <code>/etc/xdg/autostart/</code>目录下的文件自动启动</div>
<p>查看PulseAudio是否正在运行：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">$ pgrep -af pulseaudio</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">369 /usr/bin/pulseaudio
</pre>
<p>如果PulseAudio未运行而且用户正在使用X11，运行下面的命令可以在启动PulseAudio的同时加载需要的X11插件：
</p>
<pre>$ start-pulseaudio-x11
</pre>
<p>如果你没有运行GNOME, KDE或者Xfce，并且你的<code>~/.xinitrc</code>文件并未引用<code>/etc/X11/xinit/xinitrc.d</code>目录下的文件内容，为了让PulseAudio自动启动，你可以这样做：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.xinitrc</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/usr/bin/start-pulseaudio-x11
</pre>
<h2>
<span id=".E5.90.8E.E7.AB.AF.E8.AE.BE.E7.BD.AE"></span><span class="mw-headline" id="后端设置">后端设置</span>
</h2>
<h3><span class="mw-headline" id="ALSA">ALSA</span></h3>
<p>从<a href="../en/Official_repositories.html" title="Official repositories">official repositories</a>安装<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pulseaudio-alsa">pulseaudio-alsa</a></span>，这个软件包包含了配置ALSA与PulseAudio共同工作必须的文件<code>/etc/asound.conf</code>。
</p>
<p>如果你需要在x86_64系统上运行32位程序（比如Wine，Skype和Steam），也需要安装<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lib32-libpulse">lib32-libpulse</a></span>和<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=lib32-alsa-plugins">lib32-alsa-plugins</a></span>
</p>
<p>为了防止应用程序使用ALSA的OSS模拟功能而忽略PulseAudio（从而导致其他应用程序无法播放声音），确定<code>snd_pcm_oss</code>模块没有在系统启动时自动加载。如果该模块已经被加载(<code>lsmod | grep oss</code>)，运行下面命令以卸载该模块：
</p>
<pre># rmmod snd_pcm_oss
</pre>
<h4>
<span id=".E5.9C.A8.E4.B8.8D.E7.8B.AC.E5.8D.A0.E7.A1.AC.E4.BB.B6.E8.AE.BE.E5.A4.87.E7.9A.84.E6.83.85.E5.86.B5.E4.B8.8B.E4.BD.BF.E7.94.A8ALSA.2Fdmix"></span><span class="mw-headline" id="在不独占硬件设备的情况下使用ALSA/dmix">在不独占硬件设备的情况下使用ALSA/dmix</span>
</h4>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 本段描述了备选的设置方案，一般不推荐这么做</div>
<p>你可能希望在大多数程序里直接使用ALSA，并且同时能正常运行依赖于PulseAudio的程序。以下步骤允许PulseAudio以dmix为后端，而不是独占ALSA硬件设备：
</p>
<ul>
<li>移除<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pulseaudio-alsa">pulseaudio-alsa</a></span>软件包，该软件包提供了ALSA程序和PulseAudio之间的兼容层。移除后ALSA程序将直接使用ALSA而不是被Pulse接管。</li>
<li>编辑 <code>/etc/pulse/default.pa</code>.</li>
</ul>
<dl><dd>找到并取消与加载后端驱动相关的行的注释符号。按照下面的范例增加"device"参数。然后注释掉与加载自动检测模块相关的行。</dd></dl>
<pre>load-module module-alsa-sink <b>device=dmix</b>
load-module module-alsa-source <b>device=dsnoop</b>
# load-module module-udev-detect
# load-module module-detect
</pre>
<ul><li>
<i>Optional:</i> 如果你使用 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=kdemultimedia-kmix">kdemultimedia-kmix</a></span><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">断开的链接</a>：package not found]</sup> 你可能希望控制ALSA音量而不是PulseAudio音量：</li></ul>
<pre>$ echo export KMIX_PULSEAUDIO_DISABLE=1 &gt; ~/.kde4/env/kmix_disable_pulse.sh
$ chmod +x ~/.kde4/env/kmix_disable_pulse.sh
</pre>
<ul><li>现在，重启系统，试试同时运行ALSA应用程序和PulseAudio应用程序。两者应该能同时发声了。</li></ul>
<dl><dd>你可以使用 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pavucontrol">pavucontrol</a></span> 控制 PulseAudio 音量。</dd></dl>
<h3><span class="mw-headline" id="OSS">OSS</span></h3>
<p>有多种方法可以使只支持OSS的程序通过PulseAudio输出音频：
</p>
<h4><span class="mw-headline" id="ossp">ossp</span></h4>
<p>安装<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=ossp">ossp</a></span> 并启动 <code>osspd.service</code>服务。
</p>
<h4><span class="mw-headline" id="padsp_wrapper">padsp wrapper</span></h4>
<p>使用OSS的程序可以通过padsp（包含在PulseAudio中）启动，从而与PulseAudio兼容：
</p>
<pre>$ padsp OSSprogram
</pre>
<p>一些例子：
</p>
<pre>$ padsp aumix
$ padsp sox foo.wav -t ossdsp /dev/dsp
</pre>
<p>你可以像下面这样编写一个程序启动脚本：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/usr/local/bin/OSSProgram</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/sh
exec padsp /usr/bin/OSSprogram "$@"
</pre>
<p>确定<b>PATH</b>环境变量中<code>/usr/local/bin</code> 在 <code>/usr/bin</code>之前。
</p>
<h3><span class="mw-headline" id="GStreamer">GStreamer</span></h3>
<p>安装 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gst-plugins-good">gst-plugins-good</a></span>。如果程序使用的是旧版本的Gstreamer，安装<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gstreamer0.10-good-plugins/">gstreamer0.10-good-plugins</a></span><sup><small>AUR</small></sup>。
</p>
<h3><span class="mw-headline" id="OpenAL">OpenAL</span></h3>
<p>
OpenAL程序默认就应该使用PulseAudio了，但是可以明确指定其使用PulseAudio： </p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/openal/alsoft.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">drivers=pulse,alsa</pre>
<h3><span class="mw-headline" id="libao">libao</span></h3>
<p>编辑libao配置文件：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/libao.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">default_driver=pulse</pre>
<p>一定要移除alsa驱动的<code>dev=default</code>选项，或者编辑该选项指定一个Pulse 通道名称或者编号。
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 如果你已经安装<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pulseaudio-alsa">pulseaudio-alsa</a></span>，你也许可以保留libao默认使用alsa输出不变，因为支持alsa的程序已经默认通过PulseAudio输出了。</div>
<p><br>
</p>
<h2>
<span id=".E5.9D.87.E8.A1.A1.E5.99.A8"></span><span class="mw-headline" id="均衡器">均衡器</span>
</h2>
<p>PulseAudio内置了10段均衡器系统，按下列步骤操作以启用均衡器：
</p>
<h3>
<span id=".E5.8A.A0.E8.BD.BD.E5.9D.87.E8.A1.A1.E5.99.A8.E9.80.9A.E9.81.93.E5.92.8Cdbus.E5.8D.8F.E8.AE.AE.E6.A8.A1.E5.9D.97"></span><span class="mw-headline" id="加载均衡器通道和dbus协议模块">加载均衡器通道和dbus协议模块</span>
</h3>
<pre>$ pactl load-module module-equalizer-sink
$ pactl load-module module-dbus-protocol
</pre>
<h3>
<span id=".E5.AE.89.E8.A3.85.E5.B9.B6.E8.BF.90.E8.A1.8C.E5.9B.BE.E5.BD.A2.E5.89.8D.E7.AB.AF"></span><span class="mw-headline" id="安装并运行图形前端">安装并运行图形前端</span>
</h3>
<p>安装<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/python-pyqt4/">python-pyqt4</a></span><sup><small>AUR</small></sup>并执行：
</p>
<pre>$ qpaeq
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 如果运行qpaeq无效，安装<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pavucontrol">pavucontrol</a></span> ，运行媒体播放器时把 "ALSA Playback on" 改为 "FFT based equalizer on ..."。</div>
<h3>
<span id=".E6.AF.8F.E6.AC.A1.E5.90.AF.E5.8A.A8.E6.97.B6.E5.8A.A0.E8.BD.BD.E5.9D.87.E8.A1.A1.E5.99.A8.E5.92.8Cdbus.E6.A8.A1.E5.9D.97"></span><span class="mw-headline" id="每次启动时加载均衡器和dbus模块">每次启动时加载均衡器和dbus模块</span>
</h3>
<p>编辑 <code>/etc/pulse/default.pa</code> 并加入下面几行：
</p>
<pre>### Load the integrated PulseAudio equalizer and D-Bus module
load-module module-equalizer-sink
load-module module-dbus-protocol
</pre>
<h2>
<span id=".E5.BA.94.E7.94.A8.E7.A8.8B.E5.BA.8F"></span><span class="mw-headline" id="应用程序">应用程序</span>
</h2>
<h3><span class="mw-headline" id="QEMU">QEMU</span></h3>
<p>运行下面命令以确定QEMU是否支持<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pulseaudio">pulseaudio</a></span>：
</p>
<pre>$ qemu-system-x86_64 -audio-help | grep 'Name: pa'
</pre>
<p>QEMU可通过环境变量配置音频
</p>
<pre>export QEMU_AUDIO_DRV=pa
export QEMU_PA_SINK=alsa_output.pci-0000_04_01.0.analog-stereo.monitor
export QEMU_PA_SOURCE=input</pre>
<p>运行下面的命令可查看更多与<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=pulseaudio">pulseaudio</a></span>有关的选项：
</p>
<pre>$ qemu-system-x86_64 -audio-help | grep '_PA_'
</pre>
<p>运行下面的命令可查看QEMU支持的音频模拟驱动
</p>
<pre>$ qemu-system-x86_64 -soundhw help
</pre>
<p>例如，在QEMU中使用<code>-soundhw ac97</code> 命令可以在虚拟机中使用<code>ac97</code>驱动。
</p>
<p>{{Note|
</p>
<ul>
<li>在 <code>qemu-system-<i>XXX</i></code>命令中， <i>XXX</i> 代表虚拟机的硬件架构。 运行 <code>ls /usr/bin/qemu-system-* -1</code>可以查看可用的硬件架构。</li>
<li>虚拟机的虚拟显卡驱动也可能造成音频质量问题。逐个尝试以便解决问题。运行 <code>qemu-system-x86_64 -h | grep vga</code>以查看可用的虚拟显卡选项。</li>
</ul>
<h3><span class="mw-headline" id="AlsaMixer.app">AlsaMixer.app</span></h3>
<p>Make <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/AlsaMixer.app/">AlsaMixer.app</a></span><sup><small>AUR</small></sup> dockapp for the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/windowmaker/">windowmaker</a></span><sup><small>AUR</small></sup> use pulseaudio, e.g.
</p>
<pre>$ AlsaMixer.app --device pulse
</pre>
<p>Here is a two examples where the first one is for ALSA and the other one is for pulseaudio. You can run multiple instances of it. Use the <code>-w</code> option to choose which of the control buttons to bind to the mouse wheel.
</p>
<pre># AlsaMixer.app -3 Mic -1 Master -2 PCM --card 0 -w 1
# AlsaMixer.app --device pulse -1 Capture -2 Master -w 2
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> It can use only those output sinks that set as default.</div>
<h3><span class="mw-headline" id="XMMS2">XMMS2</span></h3>
<p>将程序切换到pulseaudio输出：
</p>
<pre>$ nyxmms2 server config output.plugin pulse
</pre>
<p>以及alsa：
</p>
<pre>$ nyxmms2 server config output.plugin alsa
</pre>
<p>让xmms2使用不同的通道输出：
</p>
<pre> $ nyxmms2 server config pulse.sink alsa_output.pci-0000_04_01.0.analog-stereo.monitor
</pre>
<p>另可查阅官方指南 <a rel="nofollow" class="external autonumber" href="https://xmms2.org/wiki/Using_the_application">[3]</a>.
</p>
<h3>
<span id="KDE_Plasma_Workspaces_.E5.92.8C_Qt4"></span><span class="mw-headline" id="KDE_Plasma_Workspaces_和_Qt4">KDE Plasma Workspaces 和 Qt4</span>
</h3>
<p>KDE/Qt4程序会自动使用PulseAudio。PulseAudio在KDE混音器中是默认支持的。更多信息请查阅<a rel="nofollow" class="external text" href="http://www.pulseaudio.org/wiki/KDE">Archlinux Wiki KDE</a>。这个页面提到一个窍门，就是把<code>load-module module-device-manager</code>这一行添加到<code>/etc/pulse/default.pa</code>文件中。
如果Phonon使用phonon-gstreamer为后端，Gstreamer应该按照<a href="#GStreamer">#GStreamer</a>这一节进行设置。
</p>
<h3><span class="mw-headline" id="Audacious">Audacious</span></h3>
<p><a href="../en/Audacious.html" title="Audacious">Audacious</a> 默认支持PulseAudio。把 Audacious Preferences -&gt; Audio -&gt; Current output plugin 设置为 'PulseAudio Output Plugin'即可。
</p>
<h3>
<span id="Java.2FOpenJDK_6"></span><span class="mw-headline" id="Java/OpenJDK_6">Java/OpenJDK 6</span>
</h3>
<p>参考<a href="../en/Java.html#Java_sound_with_PulseAudio" title="Java">Java sound with PulseAudio</a><sup>[<a href="../en/ArchWiki:Requests.html#Broken_section_links" class="mw-redirect" title="ArchWiki:Requests">断开的链接</a>：无效的部分]</sup>，用padsp为Java程序创建一个启动脚本。
</p>
<h3>
<span id="Music_Player_Daemon_.28MPD.29"></span><span class="mw-headline" id="Music_Player_Daemon_(MPD)">Music Player Daemon (MPD)</span>
</h3>
<p><a rel="nofollow" class="external text" href="http://mpd.wikia.com/wiki/PulseAudio">配置</a> <a href="../en/Music_Player_Daemon.html" class="mw-redirect" title="MPD">MPD</a> 使其使用 PulseAudio。另请参阅 <a href="../en/Music_Player_Daemon/Tips_and_tricks.html#MPD_and_PulseAudio" class="mw-redirect" title="MPD/Tips and Tricks">MPD/Tips and Tricks#MPD and PulseAudio</a><sup>[<a href="../en/ArchWiki:Requests.html#Broken_section_links" class="mw-redirect" title="ArchWiki:Requests">断开的链接</a>：无效的部分]</sup>.
</p>
<h3><span class="mw-headline" id="MPlayer">MPlayer</span></h3>
<p><a href="../en/MPlayer.html" title="MPlayer">MPlayer</a> 可通过 <code>-ao pulse</code> 选项支持PulseAudio输出。也可以设置mplayer默认使用pulseaudio输出。编辑<code>~/.mplayer/config</code>更改当前用户的设置，或者编辑<code>/etc/mplayer/mplayer.conf</code>更改整个系统的设置：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/mplayer/mplayer.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">ao=pulse</pre>
<h3><span class="mw-headline" id="guvcview">guvcview</span></h3>
<p>当<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=guvcview">guvcview</a></span>使用网络摄像头的PulseAudio输入时，音频输入可能挂起，导致没有声音被录下来。你可以运行下面命令来检查：
</p>
<pre>$ pactl list sources
</pre>
<p>如果音频源显示为"suspended"（挂起），那么编辑<code>/etc/pulse/default.pa</code>，把下面这行
</p>
<pre>load-module module-suspend-on-idle
</pre>
<p>修改为
</p>
<pre>#load-module module-suspend-on-idle
</pre>
<p>然后不论你重启PulseAudio还是重启电脑，输入源都只会处于空闲状态而不是挂起。这样的话guvcview就可以正确地录音了。
</p>
<h2>
<span id=".E6.95.85.E9.9A.9C.E6.8E.92.E6.9F.A5"></span><span class="mw-headline" id="故障排查">故障排查</span>
</h2>
<p>详见 <a href="../en/PulseAudio/Troubleshooting.html" title="PulseAudio/Troubleshooting">PulseAudio/Troubleshooting</a>。
</p>
<h2>
<span id=".E7.9B.B8.E5.85.B3.E9.98.85.E8.AF.BB"></span><span class="mw-headline" id="相关阅读">相关阅读</span>
</h2>
<ul>
<li>
<a rel="nofollow" class="external text" href="http://www.alsa-project.org/main/index.php/Asoundrc">http://www.alsa-project.org/main/index.php/Asoundrc</a> - ALSA wiki on .asoundrc</li>
<li>
<a rel="nofollow" class="external text" href="http://www.pulseaudio.org/">http://www.pulseaudio.org/</a> - PulseAudio official site</li>
<li>
<a rel="nofollow" class="external text" href="http://www.pulseaudio.org/wiki/FAQ">http://www.pulseaudio.org/wiki/FAQ</a> - PulseAudio FAQ</li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../zh-CN/Category:Multimedia.html" title="Category:Multimedia (简体中文)">Multimedia (简体中文)</a></li>
<li><a href="../zh-CN/Category:Sound.html" title="Category:Sound (简体中文)">Sound (简体中文)</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Merge.html" title="Category:Pages or sections flagged with Template:Merge">Pages or sections flagged with Template:Merge</a></li>
<li><a href="../en/Category:Pages_with_broken_section_links.html" title="Category:Pages with broken section links">Pages with broken section links</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=PulseAudio_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)&amp;oldid=647024">https://wiki.archlinux.org/index.php?title=PulseAudio_(简体中文)&amp;oldid=647024</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 26 December 2020, at 12:23.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
