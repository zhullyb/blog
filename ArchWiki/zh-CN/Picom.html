<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Picom (简体中文) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Picom_简体中文 rootpage-Picom_简体中文 skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Picom (简体中文)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>翻译状态：</strong>本文是 <a href="../en/Picom.html" class="mw-redirect" title="Compton">Compton</a> 的<a href="../zh-CN/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (简体中文)">翻译</a>。上次翻译日期：2017-10-04。如果英文版本有所<a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Compton&amp;diff=0&amp;oldid=487244">更改</a>，则您可以帮助同步翻译。</div>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-view-refresh-red.png" class="image"><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" decoding="async" width="48" height="48"></a><b>This article or section is out of date.</b><a href="../File:Tango-view-refresh-red.png" class="image"><img alt="Tango-view-refresh-red.png" src="../File:Tango-view-refresh-red.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> Compton was replaced by Picom. (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:Picom_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">Talk:Picom (简体中文)#</a>)</div>
</div>
<p>Compton 是一个独立的合成管理器，可以给不带合成功能的窗口管理器（例如 <a href="../zh-CN/I3.html" title="I3 (简体中文)">i3</a>）带来淡入淡出、半透明、阴影等视觉效果。Compton 是 <a rel="nofollow" class="external text" href="http://oliwer.net/xcompmgr-dana/">xcompmgr-dana</a><sup title="最后检查状态：404">[<a href="https://en.wikipedia.org/wiki/Wikipedia:Link_rot" class="extiw" title="wikipedia:Wikipedia:Link rot">失效链接</a> 2020-08-04 ⓘ]</sup> 的分支，而后者又是 <a href="../en/Xcompmgr.html" title="Xcompmgr">xcompmgr</a> 的分支。欲了解更多，可查看 <a rel="nofollow" class="external text" href="https://github.com/chjj/compton">GitHub 上的 compton 项目</a>。
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#%E5%AE%89%E8%A3%85"><span class="tocnumber">1</span> <span class="toctext">安装</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#%E4%BD%BF%E7%94%A8"><span class="tocnumber">2</span> <span class="toctext">使用</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#%E5%BC%80%E6%9C%BA%E6%97%B6%E8%87%AA%E5%8A%A8%E5%90%AF%E5%8A%A8_Compton"><span class="tocnumber">2.1</span> <span class="toctext">开机时自动启动 Compton</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#%E6%89%8B%E5%8A%A8%E8%BF%90%E8%A1%8C"><span class="tocnumber">2.2</span> <span class="toctext">手动运行</span></a></li>
<li class="toclevel-2 tocsection-5">
<a href="#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="tocnumber">2.3</span> <span class="toctext">配置文件</span></a>
<ul>
<li class="toclevel-3 tocsection-6"><a href="#%E4%B8%93%E4%B8%BA%E6%9F%90%E4%BA%9B%E7%AA%97%E5%8F%A3%E7%A6%81%E7%94%A8%E9%98%B4%E5%BD%B1%E6%95%88%E6%9E%9C"><span class="tocnumber">2.3.1</span> <span class="toctext">专为某些窗口禁用阴影效果</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#%E5%A4%9A%E6%98%BE%E7%A4%BA%E5%99%A8"><span class="tocnumber">3</span> <span class="toctext">多显示器</span></a></li>
<li class="toclevel-1 tocsection-8">
<a href="#%E6%95%85%E9%9A%9C%E6%8E%92%E9%99%A4"><span class="tocnumber">4</span> <span class="toctext">故障排除</span></a>
<ul>
<li class="toclevel-2 tocsection-9"><a href="#%E6%A0%87%E7%AD%BE%E9%A1%B5%E5%BC%8F%E7%AA%97%E5%8F%A3"><span class="tocnumber">4.1</span> <span class="toctext">标签页式窗口</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#slock"><span class="tocnumber">4.2</span> <span class="toctext">slock</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#dwm_%E4%B8%8E_dmenu"><span class="tocnumber">4.3</span> <span class="toctext">dwm 与 dmenu</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#%E7%94%A8_xsetroot_%E6%97%A0%E6%B3%95%E8%AE%BE%E7%BD%AE%E6%A1%8C%E9%9D%A2%E8%83%8C%E6%99%AF%E9%A2%9C%E8%89%B2"><span class="tocnumber">4.4</span> <span class="toctext">用 xsetroot 无法设置桌面背景颜色</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Intel_%E6%98%BE%E5%8D%A1%E6%B8%B2%E6%9F%93%E5%87%BA%E9%94%99"><span class="tocnumber">4.5</span> <span class="toctext">Intel 显卡渲染出错</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#%E4%BD%BF%E7%94%A8_AMD_Catalyst_%E9%A9%B1%E5%8A%A8%E6%97%B6%E5%87%BA%E7%8E%B0%E7%9A%84%E8%8A%B1%E5%B1%8F_/_%E6%88%AA%E5%B1%8F%E9%97%AE%E9%A2%98"><span class="tocnumber">4.6</span> <span class="toctext">使用 AMD Catalyst 驱动时出现的花屏 / 截屏问题</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#%E4%BD%BF%E7%94%A8_NVidia_%E9%A9%B1%E5%8A%A8%E6%97%B6%E5%87%BA%E7%8E%B0%E9%AB%98_CPU_%E5%8D%A0%E7%94%A8"><span class="tocnumber">4.7</span> <span class="toctext">使用 NVidia 驱动时出现高 CPU 占用</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#%E4%BD%BF%E7%94%A8_NVidia_%E9%A9%B1%E5%8A%A8%E6%97%B6%EF%BC%8C%E8%BF%9B%E7%A8%8B%E5%90%8E%E5%8F%B0%E5%8C%96%E4%BC%9A%E6%8A%A5%E9%94%99"><span class="tocnumber">4.8</span> <span class="toctext">使用 NVidia 驱动时，进程后台化会报错</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#%E4%BD%BF%E7%94%A8_Xft_%E5%AD%97%E4%BD%93%E4%BC%9A%E5%AF%BC%E8%87%B4%E5%8D%A1%E9%A1%BF"><span class="tocnumber">4.9</span> <span class="toctext">使用 Xft 字体会导致卡顿</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#%E5%B1%8F%E5%B9%95%E9%97%AA%E7%83%81"><span class="tocnumber">4.10</span> <span class="toctext">屏幕闪烁</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-19"><a href="#%E5%BB%B6%E4%BC%B8%E9%98%85%E8%AF%BB"><span class="tocnumber">5</span> <span class="toctext">延伸阅读</span></a></li>
</ul>
</div>

<h2>
<span id=".E5.AE.89.E8.A3.85"></span><span class="mw-headline" id="安装">安装</span>
</h2>
<p>安装包 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=compton">compton</a></span><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">断开的链接</a>：replaced by <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=picom">picom</a></span>]</sup> 。
如果要使用 <a href="../en/Git.html" title="Git">git</a> 版本，可安装 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/compton-git/">compton-git</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">断开的链接</a>：package not found]</sup>。
</p>
<p>若想用 GUI 修改 compton 的配置，可安装 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/compton-conf/">compton-conf</a></span><sup><small>AUR</small></sup> 或 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/compton-conf-git/">compton-conf-git</a></span><sup><small>AUR</small></sup>。
</p>
<h2>
<span id=".E4.BD.BF.E7.94.A8"></span><span class="mw-headline" id="使用">使用</span>
</h2>
<p>登录 X 会话后，用户可以随时手动启动 / 终止 compton。也可以将其设置为自动启动（例如从 <a href="../zh-CN/Xprofile.html" title="Xprofile (简体中文)">自动启动</a>）。下面的选项可以帮你细化配置:
</p>
<ul>
<li>
<code>-b</code>: 以后台进程（<a href="../en/Daemons.html" class="mw-redirect" title="Daemon">Daemon</a>）的形式运行</li>
<li>
<code>-c</code>: 启用阴影效果</li>
<li>
<code>-C</code>: 禁用面板和 Docks 的阴影效果</li>
<li>
<code>-G</code>: 禁用应用程序窗口和拖放对象的阴影效果</li>
<li>
<code>--config</code>: 使用指定的配置文件</li>
</ul>
<p>除此之外 compton 还支持很多选项。包括动画时间，指定待管理的 X 显示，指定窗口的菜单、边框、失焦窗口菜单的不透明度等。详细信息请参阅 <a rel="nofollow" class="external text" href="https://github.com/chjj/compton/blob/master/man/compton.1.asciidoc">Compton Man Page</a>。
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 在启动 compton 之前，如果正在运行别的 <a href="../en/Xorg.html#Composite" class="mw-redirect" title="Composite manager">合成管理器</a>，需要先停用它。</div>
<h3>
<span id=".E5.BC.80.E6.9C.BA.E6.97.B6.E8.87.AA.E5.8A.A8.E5.90.AF.E5.8A.A8_Compton"></span><span class="mw-headline" id="开机时自动启动_Compton">开机时自动启动 Compton</span>
</h3>
<p>不同的桌面环境 / 窗口管理器有着不同的方式来自动启动 compton。例如，Openbox 的自动启动项目在配置文件 <code>~/.config/openbox/autostart</code> 里管理。而 i3-wm 的用户需要去修改 <code>~/.config/i3/config</code> 文件。必要时，compton 也可以从 <a href="../en/Xprofile.html" title="Xprofile">xprofile</a> 或 <a href="../en/Xinit.html#xinitrc" class="mw-redirect" title="Xinitrc">Xinitrc</a> 自动启动。有关更多信息，请参阅 <a href="../en/Autostarting.html" class="mw-redirect" title="Startup files">startup files</a> 一文。
</p>
<h3>
<span id=".E6.89.8B.E5.8A.A8.E8.BF.90.E8.A1.8C"></span><span class="mw-headline" id="手动运行">手动运行</span>
</h3>
<p>于终端运行:
</p>
<pre>compton
</pre>
<p>可以手动启动 compton 进程。
</p>
<p>若要禁用所有的阴影特效，需要加上 <code>-C</code> 和 <code>-G</code> 这两个参数:
</p>
<pre>compton -CG
</pre>
<p>若要在登录 X 会话的过程中，以后台进程（<a href="../en/Daemons.html" class="mw-redirect" title="Daemon">Daemon</a>）的形式自动运行 compton，必须加上 <code>-b</code> 参数：
</p>
<pre>compton -b
</pre>
<p>将前面的参数一起用，效果也就一起有了:
</p>
<pre>compton -CGb
</pre>
<p>最后这个例子演示了如何使用需要指定数值的参数:
</p>
<pre>compton -cCGfF -o 0.38 -O 200 -I 200 -t 0 -l 0 -r 3 -D2 -m 0.88
</pre>
<h3>
<span id=".E9.85.8D.E7.BD.AE.E6.96.87.E4.BB.B6"></span><span class="mw-headline" id="配置文件">配置文件</span>
</h3>
<p>默认的配置文件放在 <code>/etc/xdg/compton.conf</code>。若要修改配置，需要先把默认配置拷贝一份到 <code>~/.config/compton.conf</code>。再运行 compton 时就会从这里读取配置。
</p>
<p>若要在运行时手动指定配置文件，可以用 <code>--config</code> 参数：
</p>
<pre>compton --config <i>path/to/compton.conf</i>
</pre>
<h4>
<span id=".E4.B8.93.E4.B8.BA.E6.9F.90.E4.BA.9B.E7.AA.97.E5.8F.A3.E7.A6.81.E7.94.A8.E9.98.B4.E5.BD.B1.E6.95.88.E6.9E.9C"></span><span class="mw-headline" id="专为某些窗口禁用阴影效果">专为某些窗口禁用阴影效果</span>
</h4>
<p>Compton 绘制阴影的方法可能会使某些软件的窗口的外观出现异常。用 <code>shadow-exclude</code> 配置选项即可为这些软件禁用阴影。
</p>
<p>例如：若要让 compton 不给 GTK +3 窗口绘制阴影，可以在 <code>compton.conf</code> 文件的 <code>shadow-exclude</code> 部分里加入:
</p>
<pre>"_GTK_FRAME_EXTENTS@:c"
</pre>
<p>若要让 <a href="../en/Conky.html" title="Conky">conky</a> 窗口不绘制 compton 阴影，首先修改 conky 的配置文件 <code>~/.conkyrc</code>:
</p>
<pre>own_window_class conky
</pre>
<p>然后如下修改 compton.conf:
</p>
<pre>shadow-exclude = "class_g = 'conky'";
</pre>
<p>在<a rel="nofollow" class="external text" href="https://github.com/archlinux/svntogit-community/blob/packages/picom/trunk/picom.conf#L73-L99">这里</a>可以看到完整的默认禁用阴影的窗口名单。
</p>
<h2>
<span id=".E5.A4.9A.E6.98.BE.E7.A4.BA.E5.99.A8"></span><span class="mw-headline" id="多显示器">多显示器</span>
</h2>
<p>如果你在用 <a href="../en/Multihead.html" title="Multihead">多个显示器</a> 但没有使用 xinerama，那么 X server 会自动以多个 screen 的模式运行，然而 compton 默认只会接管一个 screen 的合成。解决办法是启动多个 compton 进程，并以 <code>-d</code> 参数来逐个指定要负责的 screen。下面这个范例命令是给四个 screen 用的：
</p>
<pre>seq 0 3 | xargs -l1 -I@ compton -b -d :0.@
</pre>
<h2>
<span id=".E6.95.85.E9.9A.9C.E6.8E.92.E9.99.A4"></span><span class="mw-headline" id="故障排除">故障排除</span>
</h2>
<p>如若配置不当，合成特效可能会使某些软件产生外观异常。
</p>
<h3>
<span id=".E6.A0.87.E7.AD.BE.E9.A1.B5.E5.BC.8F.E7.AA.97.E5.8F.A3"></span><span class="mw-headline" id="标签页式窗口">标签页式窗口</span>
</h3>
<p>某些自带标签页功能的软件，当它们的窗口被设置成半透明时，可能会因为顶层标签窗口是半透明的而露出底层标签窗口的内容。而且由于每个标签窗口都要绘制阴影，整体看上去就会出现浓重的多重阴影。
</p>
<p>这类多重阴影的问题可以通过向配置文件中的 <code>shadow-exclude</code> 添加规则来解决：
</p>
<pre>"_NET_WM_STATE@:32a *= '_NET_WM_STATE_HIDDEN'"
</pre>
<p>加入下面的配置可以避免看到底层的标签窗口内容：
</p>
<pre>opacity-rule = [
  "95:class_g = 'URxvt' &amp;&amp; !_NET_WM_STATE@:32a",
  "0:_NET_WM_STATE@:32a *= '_NET_WM_STATE_HIDDEN'"
];
</pre>
<p>这里 URxvt 指代的是你在用的终端模拟器的 X 窗口 class 属性。如果你要为别的终端指定渲染规则，可以自行相应改动。
</p>
<h3><span class="mw-headline" id="slock">slock</span></h3>
<p>如果通过 compton 的 <code>-i</code> 选项启用了失焦窗口的透明度，再配合使用 <a href="../en/Slock.html" title="Slock">slock</a>，就可能出现你不想看到的结果。把透明度改成 <code>0.2</code> 可以解决这一问题。如果用命令行参数来指定的话：
</p>
<pre>$ compton &lt;any other arguments&gt; -i 0.2
</pre>
<p>也可以在配置文件里写这一行：
</p>
<pre>inactive-dim = 0.2;
</pre>
<p>还有一个办法是，让 compton 认为 slock 的窗口一直是获得了焦点的。可以通过其窗口 id 来识别 slock 窗口，也可以用“没有名字的窗口”来判断。
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 某些软件每次启动后窗口 id 都会不一样，但 slock 的窗口 id 似乎是固定不变的。这里我们需要有懂得相关知识的人来提供确认，否则只能是各位用户后果自负。</div>
<p>下面的命令可以让 compton 忽略所有 name 属性为空的窗口的焦点获取状态：
</p>
<pre>$ compton &lt;原有的参数&gt; --focus-exclude "! name~=<i>"</i>
</pre>
<p>用这个命令找到 slock 的窗口 id：
</p>
<pre>$ xwininfo &amp; slock
</pre>
<p>在 slock 退出之前，尽快在屏幕上任意位置单击鼠标，然后输入你的用户密码来解锁。这样你就能看到输出的窗口 ID：
</p>
<pre>xwininfo: Window id: 0x1800001 (has no name)
</pre>
<p>把这个窗口 ID 拿给 compton，让它忽略这个窗口的焦点获取状态：
</p>
<pre>$ compton &lt;原有的参数&gt; --focus-exclude 'id = 0x1800001'
</pre>
<p>或者把这一行写进配置文件：
</p>
<pre>focus-exclude = "id = 0x1800001";
</pre>
<h3>
<span id="dwm_.E4.B8.8E_dmenu"></span><span class="mw-headline" id="dwm_与_dmenu">dwm 与 dmenu</span>
</h3>
<p>虽然有时我们希望 compton 不要为 dwm 状态栏渲染窗口失焦特效，但 dwm 状态栏没法轻易地被 compton 的规则匹配到。而且 dwm 状态栏和 dmenu 都没有静态的 window id。要实现这一效果，你只能尝试给这两个项目打补丁，给这些窗口加上 class 属性用于规则匹配。或者采用宽泛的规则去匹配。
</p>
<p>下面这个方法适用于 dmenu 和 dwm 状态栏总是出现在屏幕顶端（从左上角顶点起绘制）的情况：
</p>
<pre>$ compton &lt;别的参数&gt; --focus-exclude "x = 0 &amp;&amp; y = 0 &amp;&amp; override_redirect = true"
</pre>
<p>如果要写进配置文件的话，要这么写：
</p>
<pre>focus-exclude = "x = 0 &amp;&amp; y = 0 &amp;&amp; override_redirect = true";
</pre>
<p><code>override_redirect</code> 这个属性在绝大多数窗口上的值似乎都是 <code>false</code>。在匹配规则里写 <code>override_redirect = true</code> 可以避免这条规则误伤到位置一样的应用程序窗口。
</p>
<h3>
<span id=".E7.94.A8_xsetroot_.E6.97.A0.E6.B3.95.E8.AE.BE.E7.BD.AE.E6.A1.8C.E9.9D.A2.E8.83.8C.E6.99.AF.E9.A2.9C.E8.89.B2"></span><span class="mw-headline" id="用_xsetroot_无法设置桌面背景颜色">用 xsetroot 无法设置桌面背景颜色</span>
</h3>
<p>目前 compton 与 <code>xsetroot</code> 的 <code>-solid</code> 功能还无法兼容。不过你可以试试用 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=hsetroot">hsetroot</a></span> 这个替代方案：
</p>
<pre>$ hsetroot -solid '#000000'
</pre>
<p>在 <a rel="nofollow" class="external free" href="https://github.com/chjj/compton/issues/162">https://github.com/chjj/compton/issues/162</a> 可以了解到这一问题背后的具体细节。
</p>
<h3>
<span id="Intel_.E6.98.BE.E5.8D.A1.E6.B8.B2.E6.9F.93.E5.87.BA.E9.94.99"></span><span class="mw-headline" id="Intel_显卡渲染出错">Intel 显卡渲染出错</span>
</h3>
<p>已知某些 Intel 芯片在启用 DRI3 后，如果调节分辨率或者接入新显示器，compton 的渲染就会产生<a rel="nofollow" class="external text" href="https://bugs.freedesktop.org/show_bug.cgi?id=97916">问题</a>。<code>intel</code> 与 <code>modesetting</code> 两种驱动都受到这一问题的影响。<a href="../en/Intel_graphics.html#DRI3_issues" title="Intel graphics">禁用 DRI3</a> 可以绕过这一问题。
</p>
<h3>
<span id=".E4.BD.BF.E7.94.A8_AMD_Catalyst_.E9.A9.B1.E5.8A.A8.E6.97.B6.E5.87.BA.E7.8E.B0.E7.9A.84.E8.8A.B1.E5.B1.8F_.2F_.E6.88.AA.E5.B1.8F.E9.97.AE.E9.A2.98"></span><span class="mw-headline" id="使用_AMD_Catalyst_驱动时出现的花屏_/_截屏问题">使用 AMD Catalyst 驱动时出现的花屏 / 截屏问题</span>
</h3>
<p>尝试在 compton 启动时加上参数
</p>
<pre>--backend xrender
</pre>
<p>或者把下面这一行写入 compton.conf 配置文件
</p>
<pre>backend = "xrender";
</pre>
<p>在 <a rel="nofollow" class="external free" href="https://github.com/chjj/compton/issues/208">https://github.com/chjj/compton/issues/208</a> 可以了解到更多细节。
</p>
<h3>
<span id=".E4.BD.BF.E7.94.A8_NVidia_.E9.A9.B1.E5.8A.A8.E6.97.B6.E5.87.BA.E7.8E.B0.E9.AB.98_CPU_.E5.8D.A0.E7.94.A8"></span><span class="mw-headline" id="使用_NVidia_驱动时出现高_CPU_占用">使用 NVidia 驱动时出现高 CPU 占用</span>
</h3>
<p>如果在使用参数 <code>--backend glx</code> 时发现 CPU 占用很高，或者使用 <code>--vsync</code> 时出现画面撕裂，应按照  <a href="../en/NVIDIA.html" title="NVIDIA">NVIDIA</a> 的指示安装上 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=nvidia-utils">nvidia-utils</a></span>。
</p>
<h3>
<span id=".E4.BD.BF.E7.94.A8_NVidia_.E9.A9.B1.E5.8A.A8.E6.97.B6.EF.BC.8C.E8.BF.9B.E7.A8.8B.E5.90.8E.E5.8F.B0.E5.8C.96.E4.BC.9A.E6.8A.A5.E9.94.99"></span><span class="mw-headline" id="使用_NVidia_驱动时，进程后台化会报错">使用 NVidia 驱动时，进程后台化会报错</span>
</h3>
<p>如果以后台进程启动 compton 时出现错误信息：<code>main(): Failed to create new session.</code>，可以装这个版本试试：<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/compton-garnetius-git/">compton-garnetius-git</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">断开的链接</a>：package not found]</sup>。这个版本还包含了若干个上游未能合入的补丁。
</p>
<h3>
<span id=".E4.BD.BF.E7.94.A8_Xft_.E5.AD.97.E4.BD.93.E4.BC.9A.E5.AF.BC.E8.87.B4.E5.8D.A1.E9.A1.BF"></span><span class="mw-headline" id="使用_Xft_字体会导致卡顿">使用 Xft 字体会导致卡顿</span>
</h3>
<p>如果使用了 Xft 字体会导致 <a href="../en/Xterm.html" title="Xterm">xterm</a> 和 <a href="../en/Rxvt-unicode.html" class="mw-redirect" title="Urxvt">urxvt</a> 之类的软件严重卡顿，尝试给 compton 加上如下参数：
</p>
<pre>--xrender-sync --xrender-sync-fence
</pre>
<p>或者改用 xrender 渲染方式。
</p>
<p>在 <a rel="nofollow" class="external free" href="https://github.com/chjj/compton/issues/152">https://github.com/chjj/compton/issues/152</a> 可以了解到更多细节。
</p>
<h3>
<span id=".E5.B1.8F.E5.B9.95.E9.97.AA.E7.83.81"></span><span class="mw-headline" id="屏幕闪烁">屏幕闪烁</span>
</h3>
<p>在无任何 panel 的桌面环境中将窗口最大化，可能会出现这一问题。解决办法是在配置文件中加入：
</p>
<pre> unredir-if-possible = false;
</pre>
<p>在 <a rel="nofollow" class="external free" href="https://github.com/chjj/compton/issues/402">https://github.com/chjj/compton/issues/402</a> 可以了解到更多细节。
</p>
<h2>
<span id=".E5.BB.B6.E4.BC.B8.E9.98.85.E8.AF.BB"></span><span class="mw-headline" id="延伸阅读">延伸阅读</span>
</h2>
<ul><li><a rel="nofollow" class="external text" href="http://ubuntuforums.org/showthread.php?t=2144468&amp;p=12644745#post12644745">Howto: Using Compton for tear-free compositing on XFCE or LXDE</a></li></ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul>
<li><a href="../zh-CN/Category:X_server.html" title="Category:X server (简体中文)">X server (简体中文)</a></li>
<li><a href="../zh-CN/Category:Eye_candy.html" title="Category:Eye candy (简体中文)">Eye candy (简体中文)</a></li>
</ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Out_of_date.html" title="Category:Pages or sections flagged with Template:Out of date">Pages or sections flagged with Template:Out of date</a></li>
<li><a href="../en/Category:Pages_with_dead_links.html" title="Category:Pages with dead links">Pages with dead links</a></li>
<li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Picom_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)&amp;oldid=638571">https://wiki.archlinux.org/index.php?title=Picom_(简体中文)&amp;oldid=638571</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 14 October 2020, at 07:16.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
