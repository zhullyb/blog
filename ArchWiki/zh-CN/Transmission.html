<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Transmission (简体中文) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Transmission_简体中文 rootpage-Transmission_简体中文 skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Transmission (简体中文)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-box archwiki-template-box-note">
<strong>翻译状态：</strong>本文是 <a href="../en/Transmission.html" title="Transmission">Transmission</a> 的<a href="../zh-CN/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (简体中文)">翻译</a>。上次翻译日期：2018-08-31。如果英文版本有所<a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=Transmission&amp;diff=0&amp;oldid=532639">更改</a>，则您可以帮助同步翻译。</div>
<p><a rel="nofollow" class="external text" href="http://www.transmissionbt.com/">Transmission</a> 是一个轻量级、跨平台的 BitTorrent 客户端。
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#%E5%AE%89%E8%A3%85"><span class="tocnumber">1</span> <span class="toctext">安装</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#%E5%9B%BE%E5%BD%A2%E7%95%8C%E9%9D%A2%E7%9A%84%E9%85%8D%E7%BD%AE"><span class="tocnumber">2</span> <span class="toctext">图形界面的配置</span></a></li>
<li class="toclevel-1 tocsection-3">
<a href="#Transmission_%E5%AE%88%E6%8A%A4%E7%A8%8B%E5%BA%8F%E5%92%8C%E5%91%BD%E4%BB%A4%E8%A1%8C"><span class="tocnumber">3</span> <span class="toctext">Transmission 守护程序和命令行</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#%E5%AE%88%E6%8A%A4%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%90%AF%E5%8A%A8%E4%B8%8E%E5%81%9C%E6%AD%A2"><span class="tocnumber">3.1</span> <span class="toctext">守护程序的启动与停止</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#%E5%87%8F%E5%B0%91%E5%A4%9A%E4%BD%99%E7%9A%84%E6%97%A5%E5%BF%97"><span class="tocnumber">3.2</span> <span class="toctext">减少多余的日志</span></a></li>
<li class="toclevel-2 tocsection-6">
<a href="#%E4%BB%85%E5%BD%93%E8%BF%9E%E6%8E%A5%E5%88%B0%E7%BD%91%E7%BB%9C%E6%97%B6%E8%BF%90%E8%A1%8C"><span class="tocnumber">3.3</span> <span class="toctext">仅当连接到网络时运行</span></a>
<ul>
<li class="toclevel-3 tocsection-7"><a href="#Netctl"><span class="tocnumber">3.3.1</span> <span class="toctext">Netctl</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="#Wicd"><span class="tocnumber">3.3.2</span> <span class="toctext">Wicd</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-9"><a href="#%E9%80%89%E6%8B%A9%E4%B8%80%E4%B8%AA%E7%94%A8%E6%88%B7"><span class="tocnumber">3.4</span> <span class="toctext">选择一个用户</span></a></li>
<li class="toclevel-2 tocsection-10">
<a href="#%E9%85%8D%E7%BD%AE%E5%AE%88%E6%8A%A4%E7%A8%8B%E5%BA%8F"><span class="tocnumber">3.5</span> <span class="toctext">配置守护程序</span></a>
<ul>
<li class="toclevel-3 tocsection-11"><a href="#Host_%E7%99%BD%E5%90%8D%E5%8D%95"><span class="tocnumber">3.5.1</span> <span class="toctext">Host 白名单</span></a></li>
<li class="toclevel-3 tocsection-12"><a href="#%E7%9B%91%E8%A7%86%E7%9B%AE%E5%BD%95"><span class="tocnumber">3.5.2</span> <span class="toctext">监视目录</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="#%E5%90%AF%E7%94%A8_IPv6"><span class="tocnumber">3.5.3</span> <span class="toctext">启用 IPv6</span></a></li>
<li class="toclevel-3 tocsection-14"><a href="#CLI_%E4%BD%BF%E7%94%A8%E7%A4%BA%E8%8C%83"><span class="tocnumber">3.5.4</span> <span class="toctext">CLI 使用示范</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-15">
<a href="#Web_%E7%95%8C%E9%9D%A2"><span class="tocnumber">4</span> <span class="toctext">Web 界面</span></a>
<ul>
<li class="toclevel-2 tocsection-16"><a href="#GUI_%E6%96%B9%E5%BC%8F"><span class="tocnumber">4.1</span> <span class="toctext">GUI 方式</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#CLI_%E6%96%B9%E5%BC%8F"><span class="tocnumber">4.2</span> <span class="toctext">CLI 方式</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-18">
<a href="#%E6%95%85%E9%9A%9C%E6%8E%92%E9%99%A4"><span class="tocnumber">5</span> <span class="toctext">故障排除</span></a>
<ul>
<li class="toclevel-2 tocsection-19"><a href="#%E6%97%A0%E6%B3%95%E4%BD%BF%E7%94%A8%E7%BD%91%E7%BB%9C%E8%BF%9E%E6%8E%A5%E8%87%B3%E5%AE%88%E6%8A%A4%E7%A8%8B%E5%BA%8F"><span class="tocnumber">5.1</span> <span class="toctext">无法使用网络连接至守护程序</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#%E6%97%A0%E6%B3%95%E6%98%BE%E7%A4%BA_Web_%E7%95%8C%E9%9D%A2"><span class="tocnumber">5.2</span> <span class="toctext">无法显示 Web 界面</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-21"><a href="#%E6%9B%B4%E5%A4%9A%E4%BF%A1%E6%81%AF"><span class="tocnumber">6</span> <span class="toctext">更多信息</span></a></li>
</ul>
</div>

<h2>
<span id=".E5.AE.89.E8.A3.85"></span><span class="mw-headline" id="安装">安装</span>
</h2>
<p>有多种可选的软件包：
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=transmission-cli">transmission-cli</a></span> - 包括命令行工具、守护程序和 <a href="#Web_%E7%95%8C%E9%9D%A2">#Web 界面</a>。</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=transmission-gtk">transmission-gtk</a></span> - GTK+ 3 图形界面.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=transmission-qt">transmission-qt</a></span> - Qt5 图形界面.</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/tremc/">tremc</a></span><sup><small>AUR</small></sup> 或 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/tremc-git/">tremc-git</a></span><sup><small>AUR</small></sup> - 用于守护程序的 Curses 界面。</li>
</ul>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong>  GTK+ 客户端无法连接至守护程序，想用守护程序的用户可以考虑带图形界面的 Qt 包，或是带 Curses 界面的 tremc 包。</div>
<h2>
<span id=".E5.9B.BE.E5.BD.A2.E7.95.8C.E9.9D.A2.E7.9A.84.E9.85.8D.E7.BD.AE"></span><span class="mw-headline" id="图形界面的配置">图形界面的配置</span>
</h2>
<p>两种带 GUI 的版本 <i>transmission-gtk</i> 和 <i>transmission-qt</i> 都可以在没有后端守护程序的情况下独立运行。
</p>
<p>GUI 版本都被配置为开箱即用，但用户可能仍需要更改一些设置。GUI 配置文件的默认路径是 <code>~/.config/transmission</code>。
</p>
<p>在 Transmission 的网站上，有一份各种选项如何配置的教程：
<a rel="nofollow" class="external free" href="https://github.com/transmission/transmission/wiki/Editing-Configuration-Files">https://github.com/transmission/transmission/wiki/Editing-Configuration-Files</a>.
</p>
<h2>
<span id="Transmission_.E5.AE.88.E6.8A.A4.E7.A8.8B.E5.BA.8F.E5.92.8C.E5.91.BD.E4.BB.A4.E8.A1.8C"></span><span class="mw-headline" id="Transmission_守护程序和命令行">Transmission 守护程序和命令行</span>
</h2>
<p><i>transmission-cli</i> 支持的命令包括：
</p>
<dl>
<dd>
<i>transmission-daemon</i>: 启动守护程序。</dd>
<dd>
<i>transmission-remote</i>: 调用本地或远程守护程序的 <a href="https://en.wikipedia.org/wiki/Command-line_interface" class="extiw" title="wikipedia:Command-line interface">命令行界面</a>，后面跟着希望守护程序运行的命令。</dd>
<dd>
<i>transmission-show</i>: 返回指定种子文件的信息。</dd>
<dd>
<i>transmission-create</i>: 创建一个新的种子文件。</dd>
<dd>
<i>transmission-edit</i>: 新增、删除或替换一个 tracker 服务器的 announce URL。</dd>
<dd>
<i>transmission-cli</i>: (<a rel="nofollow" class="external text" href="https://github.com/transmission/transmission/commit/950387ab5a443629598f93c057f41150707866ab">已弃用</a>) 启动一个非守护程序的本地 <i>transmission</i> 实例，用于手动下载一个种子。</dd>
<dd>
<i>tremc</i>: (需要 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/tremc-git/">tremc-git</a></span><sup><small>AUR</small></sup>) 为本地或远程守护程序启动一个 <a href="https://en.wikipedia.org/wiki/curses_(programming_library)" class="extiw" title="wikipedia:curses (programming library)">curses</a> 界面。</dd>
</dl>
<h3>
<span id=".E5.AE.88.E6.8A.A4.E7.A8.8B.E5.BA.8F.E7.9A.84.E5.90.AF.E5.8A.A8.E4.B8.8E.E5.81.9C.E6.AD.A2"></span><span class="mw-headline" id="守护程序的启动与停止">守护程序的启动与停止</span>
</h3>
<p>就像 <a href="#%E9%80%89%E6%8B%A9%E4%B8%80%E4%B8%AA%E7%94%A8%E6%88%B7">#选择一个用户</a> 里面的说明那样，transmission 的守护程序可以按以下方式运行：
</p>
<ul><li>作为 <i>transmission</i> 用户运行，只要 <a href="../zh-CN/Systemd.html#%E4%BD%BF%E7%94%A8%E5%8D%95%E5%85%83" title="Systemd (简体中文)">用 systemd</a> start/enable <code>transmission.service</code> 服务即可。</li></ul>
<dl><dd>你可以按照 <a href="#%E9%80%89%E6%8B%A9%E4%B8%80%E4%B8%AA%E7%94%A8%E6%88%B7">#选择一个用户</a> 里的说明更改默认用户。</dd></dl>
<ul><li>用你自己的账户，只要在账户下运行：<pre>$ transmission-daemon</pre> 守护程序可以这样来停止：<pre>$ killall transmission-daemon</pre>
</li></ul>
<p>启动守护程序将会创建一个初始的 <i>transmission</i> 配置文件。详情参阅 <a href="#%E9%85%8D%E7%BD%AE%E5%AE%88%E6%8A%A4%E7%A8%8B%E5%BA%8F">#配置守护程序</a>。
</p>
<p>另一种停止 transmission 的方法是使用 <i>transmission-remote</i> 命令：
</p>
<pre>$ transmission-remote --exit
</pre>
<p><br>
</p>
<h3>
<span id=".E5.87.8F.E5.B0.91.E5.A4.9A.E4.BD.99.E7.9A.84.E6.97.A5.E5.BF.97"></span><span class="mw-headline" id="减少多余的日志">减少多余的日志</span>
</h3>
<p>运行 transmission-daemon 可能会产生许多不需要的日志条目。只要用一个小脚本包装一下再启动就可以过滤日志输出。以下示例可以提供一些启发：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">transwrap.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/zsh
killall transmission-daemon 2&gt; /dev/null
transmission-daemon --foreground --log-info 2&gt;&amp;1 | while read line; do
	echo $line |
		grep -v "announcer.c:\|platform.c:\|announce done (tr-dht.c:" |
		grep -v "Saved.*variant.c:" |
		while read line; do
			echo $line | grep -q "Queued for verification (verify.c:" &amp;&amp;
				notify-send --app-name="Transmission Started" "${line#* * }"
			echo $line | grep -q "changed from .Incomplete. to .Complete." &amp;&amp;
				notify-send --app-name="Transmission Complete" "${line#* * }"
			echo $line | systemd-cat --identifier="TransWrap" --priority=5
		done 2&gt;&amp;1 &gt; /dev/null
	done&amp;disown

</pre>
<h3>
<span id=".E4.BB.85.E5.BD.93.E8.BF.9E.E6.8E.A5.E5.88.B0.E7.BD.91.E7.BB.9C.E6.97.B6.E8.BF.90.E8.A1.8C"></span><span class="mw-headline" id="仅当连接到网络时运行">仅当连接到网络时运行</span>
</h3>
<h4><span class="mw-headline" id="Netctl">Netctl</span></h4>
<p>你可能只想在连接某些网络时运行 transmission。下面的脚本会先检查连接是否在授权的网络列表中，是的话再继续启动 transmission-daemon。
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/netctl/hooks/90-transmission.sh</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/bash

# The SSIDs for which we enable this.
declare -A ssids=(
    ["network_1"]=y
    ["network_2"]=y
)

if [[ ${ssids[$SSID]} ]]; then
    case $ACTION in
        CONNECT|REESTABLISHED)
            # Need to wait, otherwise doesn't seem to bind to 9091.
            sleep 30
            systemctl start transmission
            ;;
        *)
            systemctl stop transmission
            ;;
    esac
fi

</pre>
<h4><span class="mw-headline" id="Wicd">Wicd</span></h4>
<p>在文件夹 <code>/etc/wicd/scripts/postconnect</code> 里创建一个 <a href="#%E5%AE%88%E6%8A%A4%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%90%AF%E5%8A%A8%E4%B8%8E%E5%81%9C%E6%AD%A2">启动脚本</a>，并且在文件夹 <code>/etc/wicd/scripts/predisconnect</code> 里创建一个 <a href="#%E5%AE%88%E6%8A%A4%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%90%AF%E5%8A%A8%E4%B8%8E%E5%81%9C%E6%AD%A2">停止脚本</a>。记得给它们运行权限，例如：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/wicd/scripts/postconnect/transmission</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/bash

systemctl start transmission</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/wicd/scripts/predisconnect/transmission</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#!/bin/bash

systemctl stop transmission</pre>
<h3>
<span id=".E9.80.89.E6.8B.A9.E4.B8.80.E4.B8.AA.E7.94.A8.E6.88.B7"></span><span class="mw-headline" id="选择一个用户">选择一个用户</span>
</h3>
<p>选择你想如何运行 <code>transmission</code>：
</p>
<ul><li>作为独立用户运行，默认用户是 <code>transmission</code>（推荐，因为安全性更高）。</li></ul>
<p>默认情况下，<i>transmission</i> 会创建名为 <code>transmission</code> 的用户和组（它的主目录的文件位于 <code>/var/lib/transmission/</code>），并且用这个“账户”运行。这是一种安全措施，因为这样 <i>transmission</i> 及其下载的文件将无法访问 <code>/var/lib/transmission/</code> 目录之外的文件。配置、操作和访问下载的文件需要使用 “root” 权限完成（比如用 <a href="../en/Sudo.html" title="Sudo">sudo</a>）。
</p>
<ul><li>在你自己的账户下运行。</li></ul>
<p>设置这种方式需要 <a href="../zh-CN/Systemd.html#%E4%BF%AE%E6%94%B9%E7%8E%B0%E5%AD%98%E5%8D%95%E5%85%83%E6%96%87%E4%BB%B6" title="Systemd (简体中文)">重写</a> 已提供的服务文件并在其中指定你的用户名：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/transmission.service.d/username.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Service]
User=<i>your_username</i></pre>
<h3>
<span id=".E9.85.8D.E7.BD.AE.E5.AE.88.E6.8A.A4.E7.A8.8B.E5.BA.8F"></span><span class="mw-headline" id="配置守护程序">配置守护程序</span>
</h3>
<p><a href="#%E5%AE%88%E6%8A%A4%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%90%AF%E5%8A%A8%E4%B8%8E%E5%81%9C%E6%AD%A2">启动守护程序</a> 来创建缺省的配置文件。
</p>
<ul><li>如果用 <code>transmission</code> 这个用户来运行 Transmission，配置文件会存放在 <code>/var/lib/transmission/.config/transmission-daemon/settings.json</code>。</li></ul>
<ul><li>如果用你自己的账户运行 Transmission，配置文件会存放在 <code>~/.config/transmission-daemon/settings.json</code>。</li></ul>
<p>使用一个 Transmission 客户端或者用自带的 web 界面（在支持的浏览器中用 <a rel="nofollow" class="external free" href="http://localhost:9091">http://localhost:9091</a> 来访问）可以自定义守护程序。
</p>
<p>在 Transmission 的网站上，有一份各种选项如何配置的教程：<a rel="nofollow" class="external free" href="https://github.com/transmission/transmission/wiki/Editing-Configuration-Files">https://github.com/transmission/transmission/wiki/Editing-Configuration-Files</a>
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 如果你想用一个文本编辑器手动编辑配置文件，请先 <a href="#%E5%AE%88%E6%8A%A4%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%90%AF%E5%8A%A8%E4%B8%8E%E5%81%9C%E6%AD%A2">停止守护程序</a>；否则当它停止时将会覆盖配置文件。</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 另一种方式是，可以用 SIGHUP 信号指示守护程序重新加载其配置，运行 <code>kill -s SIGHUP `pidof transmission-daemon`</code> 即可。</div>
<p>一个给那些用 <code>transmission</code> 账户运行的用户的建议是，用适当的权限创建一个共享的下载目录，这样就能同时允许 <code>transmission</code> 账户和其他账户访问下载文件，也能相应地更新配置文件。例如：
</p>
<pre># mkdir /mnt/data/torrents
# chown -R facade:transmission /mnt/data/torrents
# chmod -R 775 /mnt/data/torrents
</pre>
<p>现在 <code>/mnt/data/torrents</code> 目录可供系统账户 <code>facade</code> 和 <code>transmission</code> 用户所属的 <code>transmission</code> 组访问。非常不鼓励使这个目录可读写（即不要将目录 <i>chmod</i> 到 <i>777</i>），而是应该将个别用户/组的部分权限授予部分目录。
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 如果 <code>/mnt/data/torrents</code> 位于一个可移除的设备上，比如这是一个 <code>/etc/fstab</code> 条目且带有 <code>nofail</code> 选项，那么 Transmission 会报告说没有找到文件。要解决这个问题，可以在 <code>/etc/systemd/system/transmission.service.d/transmission.conf</code> 文件的 <code>[Unit]</code> 一节中加入 <code>RequiresMountsFor=/mnt/data/torrents</code>。</div>
<p>另一种方法是把你的账户加入 <code>transmission</code> 用户组 (<code>#usermod -a -G transmission yourusername</code>)，然后修改 <code>/var/lib/transmission</code> 和 <code>/var/lib/transmission/Downloads</code> 目录的权限设置，以允许 <code>transmission</code> 组成员对这两个目录的 <code>rwx</code> 访问权。
</p>
<h4>
<span id="Host_.E7.99.BD.E5.90.8D.E5.8D.95"></span><span class="mw-headline" id="Host_白名单">Host 白名单</span>
</h4>
<p>如果你想用远程主机的主机名来访问位于该主机上的 Transmission 守护程序，你需要把主机名加入 <code>settings.json</code> 文件中的 <code>rpc-host-whitelist</code> 字段中。
否则你会在连接主机时收到一条 "421 Misdirected Request" 错误。
</p>
<p>如果你用该服务器的 IP 地址来访问守护程序，这一步可以省略。
</p>
<h4>
<span id=".E7.9B.91.E8.A7.86.E7.9B.AE.E5.BD.95"></span><span class="mw-headline" id="监视目录">监视目录</span>
</h4>
<p>如果你想 <i>自动添加某个文件夹中的 .torrent 文件</i>，但是配置文件中的 <code>watch-dir</code> 和 <code>watch-dir-enabled</code> 选项都不起作用，可以带 <code>-c /path/to/watch/dir</code> 参数启动 transmission 守护程序。
</p>
<p>如果你在用 systemd，按照 <a href="../zh-CN/Systemd.html#%E4%BF%AE%E6%94%B9%E7%8E%B0%E5%AD%98%E5%8D%95%E5%85%83%E6%96%87%E4%BB%B6" title="Systemd (简体中文)">systemd (简体中文)#修改现存单元文件</a> 里面的描述编辑 <code>transmission.service</code> 单元文件。
</p>
<h4>
<span id=".E5.90.AF.E7.94.A8_IPv6"></span><span class="mw-headline" id="启用_IPv6">启用 IPv6</span>
</h4>
<p>默认情况下，守护程序仅监听 IPv4 连接。要同时监听 IPv6 连接，安装 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/transmission-cli-ipv6/">transmission-cli-ipv6</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">断开的链接</a>：package not found]</sup> (或者 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/transmission-cli-git/">transmission-cli-git</a></span><sup><small>AUR</small></sup>，或者等 Transmission 3.0 发布)，然后把 <code>settings.json</code> 里的 <code>rpc-bind-address</code> 选项改为 <code>"::"</code>。
</p>
<h4>
<span id="CLI_.E4.BD.BF.E7.94.A8.E7.A4.BA.E8.8C.83"></span><span class="mw-headline" id="CLI_使用示范">CLI 使用示范</span>
</h4>
<p>如果你想删除所有已完成的种子，可以用下面的命令（用你自己的用户名和密码）：
</p>
<pre># transmission-remote -n 'username:password' -l | grep 100% | awk '{print $1}'| paste -d, -s | xargs -i transmission-remote -t {} -r
</pre>
<h2>
<span id="Web_.E7.95.8C.E9.9D.A2"></span><span class="mw-headline" id="Web_界面">Web 界面</span>
</h2>
<h3>
<span id="GUI_.E6.96.B9.E5.BC.8F"></span><span class="mw-headline" id="GUI_方式">GUI 方式</span>
</h3>
<p>当 Transmission 安装完毕后就可以轻易架起 web 界面。你只需要单击 <b>edit</b> 菜单，选择 <b>preferences</b>。单击 <b>Remote</b> 选项卡并启用 <b>Allow remote access</b>。
</p>
<p>此处你可以修改默认的监听端口 9091。
</p>
<p>单击 <b>Use authentication</b> 并填写用户名和密码就可以启用身份认证。
</p>
<p>要提高安全性，可以启用 <b>Only allow these IP addresses</b> 限制来自任意 IP 的访问。
</p>
<p>现在你可以单击 <b>Open web client</b> （用你的默认浏览器打开）或手动访问 <code>http://<i>TARGET_IP_ADDRESS</i>:<i>PORT</i></code> 来启动 web 界面。
</p>
<p>如果没有修改监听端口，默认是 9091。在这种情况下访问链接是 <code><a rel="nofollow" class="external free" href="http://localhost:9091">http://localhost:9091</a></code>。
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 记住，必须安装 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=transmission-cli">transmission-cli</a></span>。</div>
<h3>
<span id="CLI_.E6.96.B9.E5.BC.8F"></span><span class="mw-headline" id="CLI_方式">CLI 方式</span>
</h3>
<p>设置 web 界面甚至不需要借助图形界面，因为守护程序提供了类似的选项。你无需指定任何参数即可访问 web 界面，可参阅 <a href="#%E5%AE%88%E6%8A%A4%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%90%AF%E5%8A%A8%E4%B8%8E%E5%81%9C%E6%AD%A2">#守护程序的启动与停止</a>。
</p>
<p>不过，你仍然可以指定在前一节中看到的所有选项：
</p>
<pre>$ transmission-daemon --auth --username arch --password linux --port 9091 --allowed "127.0.0.1"</pre> 
<p>等同于
</p>
<pre>$ transmission-daemon -t -u arch -v linux -p 9091 -a "127.0.0.1"</pre>
<h2>
<span id=".E6.95.85.E9.9A.9C.E6.8E.92.E9.99.A4"></span><span class="mw-headline" id="故障排除">故障排除</span>
</h2>
<h4>
<span id=".E6.97.A0.E6.B3.95.E4.BD.BF.E7.94.A8.E7.BD.91.E7.BB.9C.E8.BF.9E.E6.8E.A5.E8.87.B3.E5.AE.88.E6.8A.A4.E7.A8.8B.E5.BA.8F"></span><span class="mw-headline" id="无法使用网络连接至守护程序">无法使用网络连接至守护程序</span>
</h4>
<p>在 <code>network.service</code> 初始化后守护程序就会开始运行。但是，如果启用了 <code>dhcpcd</code> 服务而不是特定设备的服务（比如 <code>dhcpcd@enp1s0.service</code>），可能 Transmission 会因为启动过早而无法绑定到相应的网络接口。于是 web 界面无法访问。一种可能的解决方案是在 systemd 单元的 <a href="../zh-CN/Systemd.html#%E4%BF%AE%E6%94%B9%E7%8E%B0%E5%AD%98%E5%8D%95%E5%85%83%E6%96%87%E4%BB%B6" title="Systemd (简体中文)">配置文件</a> 里增加 <code>Requires</code> 行。
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/transmission.service.d/fixdep.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Requires=network.target</pre>
<h4>
<span id=".E6.97.A0.E6.B3.95.E6.98.BE.E7.A4.BA_Web_.E7.95.8C.E9.9D.A2"></span><span class="mw-headline" id="无法显示_Web_界面">无法显示 Web 界面</span>
</h4>
<pre>404: Not Found

Couldn't find Transmission's web interface files!

Users: to tell Transmission where to look, set the TRANSMISSION_WEB_HOME environment variable to the folder where the web interface's index.html is located.

Package Builders: to set a custom default at compile time, #define PACKAGE_DATA_DIR in libtransmission/platform.c or tweak tr_getClutchDir () by hand.</pre>
<p>即使你用图形界面，也需要安装 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=transmission-cli">transmission-cli</a></span> 来支持 web 界面。
</p>
<h2>
<span id=".E6.9B.B4.E5.A4.9A.E4.BF.A1.E6.81.AF"></span><span class="mw-headline" id="更多信息">更多信息</span>
</h2>
<ul>
<li><a rel="nofollow" class="external text" href="https://trac.transmissionbt.com/wiki">Transmission 维基</a></li>
<li><a rel="nofollow" class="external text" href="https://trac.transmissionbt.com/wiki/HeadlessUsage/General">HeadlessUsage</a></li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../zh-CN/Category:BitTorrent.html" title="Category:BitTorrent (简体中文)">BitTorrent (简体中文)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=Transmission_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)&amp;oldid=643942">https://wiki.archlinux.org/index.php?title=Transmission_(简体中文)&amp;oldid=643942</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 7 December 2020, at 13:56.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
