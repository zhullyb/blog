<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>VMware (简体中文) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-VMware_简体中文 rootpage-VMware_简体中文 skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">VMware (简体中文)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>相关文章</p>
<ul>
<li><a href="../en/Category:Hypervisors.html" title="Category:Hypervisors">Category:Hypervisors</a></li>
<li><a href="../zh-CN/d0ae6d65f7c5880cac51f4bca6072029.html" class="mw-redirect" title="Installing Arch Linux in VMware (简体中文)">在 VMware 中安装 Arch</a></li>
<li><a href="../zh-CN/VirtualBox.html" title="VirtualBox (简体中文)">VirtualBox</a></li>
<li><a href="../zh-CN/KVM.html" title="KVM (简体中文)">KVM</a></li>
<li><a href="../zh-CN/QEMU.html" title="QEMU (简体中文)">QEMU</a></li>
<li><a href="../en/Xen.html" title="Xen">Xen</a></li>
<li><a href="../en/Moving_an_existing_install_into_(or_out_of)_a_virtual_machine.html" title="Moving an existing install into (or out of) a virtual machine">Moving an existing install into (or out of) a virtual machine</a></li>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>翻译状态：</strong>本文是 <a href="../en/VMware.html" title="VMware">VMware</a> 的<a href="../zh-CN/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (简体中文)">翻译</a>。上次翻译日期：2017-08-18。如果英文版本有所<a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=VMware&amp;diff=0&amp;oldid=485222">更改</a>，则您可以帮助同步翻译。</div>
<p>本文是关于在 Arch 中安装 VMware，你也许想寻找的是 <a href="../zh-CN/d0ae6d65f7c5880cac51f4bca6072029.html" class="mw-redirect" title="Installing Arch Linux in VMware (简体中文)">在 VMware 中安装 Arch Linux</a>
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 
<ul>
<li>这篇文章适用于最新的 VMware 正式版，即 VMware Workstation Pro / Player 12.5.</li>
<li>对于旧版本的 VMware，建议安装本体后追加安装 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/vmware-patch/">vmware-patch</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">断开的链接</a>：package not found]</sup> 包</li>
</ul>
</div>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#%E5%AE%89%E8%A3%85"><span class="tocnumber">1</span> <span class="toctext">安装</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#%E9%85%8D%E7%BD%AE"><span class="tocnumber">2</span> <span class="toctext">配置</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#%E5%86%85%E6%A0%B8%E6%A8%A1%E5%9D%97"><span class="tocnumber">2.1</span> <span class="toctext">内核模块</span></a></li>
<li class="toclevel-2 tocsection-4">
<a href="#Systemd_%E6%9C%8D%E5%8A%A1"><span class="tocnumber">2.2</span> <span class="toctext">Systemd 服务</span></a>
<ul>
<li class="toclevel-3 tocsection-5"><a href="#Workstation_Server%E6%9C%8D%E5%8A%A1"><span class="tocnumber">2.2.1</span> <span class="toctext">Workstation Server服务</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#%E5%90%AF%E5%8A%A8%E7%A8%8B%E5%BA%8F"><span class="tocnumber">3</span> <span class="toctext">启动程序</span></a></li>
<li class="toclevel-1 tocsection-7">
<a href="#%E6%8F%90%E7%A4%BA%E5%92%8C%E6%8A%80%E5%B7%A7"><span class="tocnumber">4</span> <span class="toctext">提示和技巧</span></a>
<ul>
<li class="toclevel-2 tocsection-8">
<a href="#%E8%BE%93%E5%85%A5Workstation_Pro%E8%AE%B8%E5%8F%AF%E5%AF%86%E9%92%A5"><span class="tocnumber">4.1</span> <span class="toctext">输入Workstation Pro许可密钥</span></a>
<ul>
<li class="toclevel-3 tocsection-9"><a href="#%E4%BB%8E%E7%BB%88%E7%AB%AF"><span class="tocnumber">4.1.1</span> <span class="toctext">从终端</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="#%E4%BB%8E_GUI"><span class="tocnumber">4.1.2</span> <span class="toctext">从 GUI</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-11"><a href="#%E8%A7%A3%E5%8E%8B%E7%BC%A9_VMware_BIOS"><span class="tocnumber">4.2</span> <span class="toctext">解压缩 VMware BIOS</span></a></li>
<li class="toclevel-2 tocsection-12">
<a href="#%E8%A7%A3%E5%8E%8B%E7%BC%A9%E5%AE%89%E8%A3%85%E7%A8%8B%E5%BA%8F"><span class="tocnumber">4.3</span> <span class="toctext">解压缩安装程序</span></a>
<ul>
<li class="toclevel-3 tocsection-13"><a href="#%E4%BD%BF%E7%94%A8%E4%BF%AE%E6%94%B9%E8%BF%87%E7%9A%84_BIOS"><span class="tocnumber">4.3.1</span> <span class="toctext">使用修改过的 BIOS</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-14"><a href="#%E5%9C%A8Intel%E5%92%8COptimus%E4%B8%8A%E5%90%AF%E7%94%A83D%E5%9B%BE%E5%BD%A2"><span class="tocnumber">4.4</span> <span class="toctext">在Intel和Optimus上启用3D图形</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-15">
<a href="#%E7%96%91%E9%9A%BE%E8%A7%A3%E7%AD%94"><span class="tocnumber">5</span> <span class="toctext">疑难解答</span></a>
<ul>
<li class="toclevel-2 tocsection-16"><a href="#%E9%94%99%E8%AF%AF%EF%BC%9AKernel_headers_for_version_4.x-xxxx_were_not_found._If_you_installed_them%5B...%5D"><span class="tocnumber">5.1</span> <span class="toctext">错误：Kernel headers for version 4.x-xxxx were not found. If you installed them[...]</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#%E6%97%A0%E6%B3%95%E8%AF%86%E5%88%AB_USB_%E8%AE%BE%E5%A4%87"><span class="tocnumber">5.2</span> <span class="toctext">无法识别 USB 设备</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#%E5%BD%93%E8%BF%9C%E7%A8%8B%E8%AE%BF%E9%97%AEVMware%E6%97%B6%EF%BC%8C%E9%81%87%E5%88%B0%E4%B8%8D%E6%AD%A3%E7%A1%AE%E7%9A%84%E7%94%A8%E6%88%B7%E5%90%8D/%E5%AF%86%E7%A0%81%E9%94%99%E8%AF%AF"><span class="tocnumber">5.3</span> <span class="toctext">当远程访问VMware时，遇到不正确的用户名/密码错误</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#ALSA%E8%BE%93%E5%87%BA%E7%9A%84%E9%97%AE%E9%A2%98"><span class="tocnumber">5.4</span> <span class="toctext">ALSA输出的问题</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#%E9%94%99%E8%AF%AF%EF%BC%9AKernel-based_Virtual_Machine_(KVM)_is_running"><span class="tocnumber">5.5</span> <span class="toctext">错误：Kernel-based Virtual Machine (KVM) is running</span></a></li>
<li class="toclevel-2 tocsection-21">
<a href="#%E7%BB%84%E4%BB%B6%E9%97%AE%E9%A2%98"><span class="tocnumber">5.6</span> <span class="toctext">组件问题</span></a>
<ul>
<li class="toclevel-3 tocsection-22"><a href="#%E9%94%99%E8%AF%AF%EF%BC%9A/dev/vmmon_not_found"><span class="tocnumber">5.6.1</span> <span class="toctext">错误：/dev/vmmon not found</span></a></li>
<li class="toclevel-3 tocsection-23"><a href="#%E9%94%99%E8%AF%AF%EF%BC%9A/dev/vmci_not_found"><span class="tocnumber">5.6.2</span> <span class="toctext">错误：/dev/vmci not found</span></a></li>
<li class="toclevel-3 tocsection-24"><a href="#%E5%9C%A8Linux_4.9%E5%90%8E%E5%86%85%E6%A0%B8%E6%A8%A1%E5%9D%97%E6%97%A0%E6%B3%95%E7%BC%96%E8%AF%91"><span class="tocnumber">5.6.3</span> <span class="toctext">在Linux 4.9后内核模块无法编译</span></a></li>
<li class="toclevel-3 tocsection-25"><a href="#VMware%E6%A8%A1%E5%9D%97%E5%9C%A8Linux%E5%86%85%E6%A0%B84.11+%E4%B8%8A%EF%BC%88%E5%9C%A8GCC7%E4%B8%8B%EF%BC%89%E7%BC%96%E8%AF%91%E5%A4%B1%E8%B4%A5"><span class="tocnumber">5.6.4</span> <span class="toctext">VMware模块在Linux内核4.11+上（在GCC7下）编译失败</span></a></li>
<li class="toclevel-3 tocsection-26"><a href="#VMware_%E6%A8%A1%E5%9D%97%E5%9C%A8_Linux_4.13_%E7%89%88%E5%86%85%E6%A0%B8%E4%B8%8A%E7%BC%96%E8%AF%91%E5%A4%B1%E8%B4%A5"><span class="tocnumber">5.6.5</span> <span class="toctext">VMware 模块在 Linux 4.13 版内核上编译失败</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-27">
<a href="#%E5%AE%89%E8%A3%85%E7%A8%8B%E5%BA%8F%E5%90%AF%E5%8A%A8%E5%A4%B1%E8%B4%A5"><span class="tocnumber">5.7</span> <span class="toctext">安装程序启动失败</span></a>
<ul>
<li class="toclevel-3 tocsection-28"><a href="#%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2%E5%88%9D%E5%A7%8B%E5%8C%96%E5%A4%B1%E8%B4%A5"><span class="tocnumber">5.7.1</span> <span class="toctext">用户界面初始化失败</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-29">
<a href="#VMware%E5%90%AF%E5%8A%A8%E5%A4%B1%E8%B4%A5"><span class="tocnumber">5.8</span> <span class="toctext">VMware启动失败</span></a>
<ul>
<li class="toclevel-3 tocsection-30"><a href="#%E6%97%A7%E7%9A%84Intel%E5%BE%AE%E6%8C%87%E4%BB%A4%E5%9C%A8%E5%90%AF%E5%8A%A8%E6%97%B6%E4%BA%A7%E7%94%9F%E6%AE%B5%E9%94%99%E8%AF%AF"><span class="tocnumber">5.8.1</span> <span class="toctext">旧的Intel微指令在启动时产生段错误</span></a></li>
<li class="toclevel-3 tocsection-31"><a href="#%E7%89%88%E6%9C%AC%E5%8F%B7%E4%B8%BA12.5.4%E7%9A%84vmplayer/vmware%E6%97%A0%E6%B3%95%E5%90%AF%E5%8A%A8"><span class="tocnumber">5.8.2</span> <span class="toctext">版本号为12.5.4的vmplayer/vmware无法启动</span></a></li>
<li class="toclevel-3 tocsection-32"><a href="#%E7%89%88%E6%9C%AC%E5%8F%B7%E4%B8%BA12.5.3-12.5.5%E7%9A%84vmplayer/vmware%E6%97%A0%E6%B3%95%E5%90%AF%E5%8A%A8"><span class="tocnumber">5.8.3</span> <span class="toctext">版本号为12.5.3-12.5.5的vmplayer/vmware无法启动</span></a></li>
<li class="toclevel-3 tocsection-33"><a href="#vmware_12%E7%9A%84%E8%BF%9B%E7%A8%8B%E5%9C%A8%E5%90%AF%E5%8A%A8%E4%B9%8B%E5%90%8E%E7%AB%8B%E5%8D%B3%E7%BB%88%E6%AD%A2%EF%BC%8C%E6%B2%A1%E6%9C%89%E6%98%BE%E7%A4%BAGUI"><span class="tocnumber">5.8.4</span> <span class="toctext">vmware 12的进程在启动之后立即终止，没有显示GUI</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-34">
<a href="#%E5%AE%A2%E6%88%B7%E6%9C%BA%E9%97%AE%E9%A2%98"><span class="tocnumber">5.9</span> <span class="toctext">客户机问题</span></a>
<ul>
<li class="toclevel-3 tocsection-35"><a href="#%E6%97%A0%E6%B3%95%E4%B8%BA%E5%AE%A2%E6%88%B7%E6%9C%BA%E4%B8%8B%E8%BD%BDVMware_Tools"><span class="tocnumber">5.9.1</span> <span class="toctext">无法为客户机下载VMware Tools</span></a></li>
<li class="toclevel-3 tocsection-36"><a href="#%E9%94%99%E8%AF%AF%EF%BC%9AGuests_have_incorrect_system_clocks_or_are_unable_to_boot:_%22%5B...%5DtimeTracker_user.c:234_bugNr=148722%22"><span class="tocnumber">5.9.2</span> <span class="toctext">错误：Guests have incorrect system clocks or are unable to boot: "[...]timeTracker_user.c:234 bugNr=148722"</span></a></li>
<li class="toclevel-3 tocsection-37"><a href="#Guests%E7%B3%BB%E7%BB%9F%E5%90%AF%E5%8A%A8%E5%90%8E%E7%BD%91%E7%BB%9C%E4%B8%8D%E5%8F%AF%E7%94%A8"><span class="tocnumber">5.9.3</span> <span class="toctext">Guests系统启动后网络不可用</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-38"><a href="#%E5%8D%B8%E8%BD%BD"><span class="tocnumber">6</span> <span class="toctext">卸载</span></a></li>
</ul>
</div>

<h2>
<span id=".E5.AE.89.E8.A3.85"></span><span class="mw-headline" id="安装">安装</span>
</h2>
<p><a href="../en/Pacman.html" title="Pacman">安装</a> 依赖项:
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=fuse2">fuse2</a></span> - 提供 <i>vmware-vmblock-fuse</i>
</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/gksu/">gksu</a></span><sup><small>AUR</small></sup> - 支持需要 root 权限的操作（比如内存分配、注册许可证等等）</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gtkmm">gtkmm</a></span> - 支持 GUI</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux-headers">linux-headers</a></span> - 模块编译所需</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ncurses5-compat-libs/">ncurses5-compat-libs</a></span><sup><small>AUR</small></sup> - 支持安装程序的 <code>--console</code> 选项</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libcanberra">libcanberra</a></span> - 支持事件提示音</li>
</ul>
<p>下载最新的 <a rel="nofollow" class="external text" href="https://www.vmware.com/go/tryworkstation">VMware Workstation Pro</a> 或<a rel="nofollow" class="external text" href="https://www.vmware.com/go/downloadplayer">Player</a> (或者<a rel="nofollow" class="external text" href="https://communities.vmware.com/community/vmtn/beta">beta</a>版，如果有的话)。
</p>
<p>开始安装：
</p>
<pre># sh VMware-<i>edition</i>-<i>version</i>.<i>release</i>.<i>architecture</i>.bundle
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>提示：</strong> 一些常用的选项：
<ul>
<li>
<code>--eulas-agreed</code> - 跳过各种许可协议</li>
<li>
<code>--console</code> - 使用命令行界面，而非 GUI</li>
<li>
<code>--custom</code> - 允许自定义安装目录，比如<code>/usr/local</code>（记得修改<a href="#Systemd_%E6%9C%8D%E5%8A%A1">#Systemd 服务</a>一节下，<code>vmware-usbarbitrator.service</code>中的路径）</li>
<li>
<code>-I</code>, <code>--ignore-errors</code> - 忽略致命错误</li>
<li>
<code>--set-setting=vmware-workstation serialNumber XXXXX-XXXXX-XXXXX-XXXXX-XXXXX</code> - 设置安装时使用的序列号（有利于脚本化安装）</li>
<li>
<code>--required</code> - 只询问必要的问题（当结合<code>--eulas-agreed</code>和<code>--console</code>时可以实现静默安装）</li>
</ul>
</div>
<p>当安装程序询问 <code>System service scripts directory</code> 的设置时，输入 <code>/etc/init.d</code> 即可。
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 安装过程中会收到<code>"No rc*.d style init script directories"</code>错误。这可以安全忽略，因为Arch使用的是<a href="../en/Systemd.html" title="Systemd">systemd</a>.</div>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>提示：</strong> 如需重新编译模块，用这条命令：
<pre># vmware-modconfig --console --install-all
</pre>
</div>
<h2>
<span id=".E9.85.8D.E7.BD.AE"></span><span class="mw-headline" id="配置">配置</span>
</h2>
<h3>
<span id=".E5.86.85.E6.A0.B8.E6.A8.A1.E5.9D.97"></span><span class="mw-headline" id="内核模块">内核模块</span>
</h3>
<p>VMware Workstation 12.5 最高支持内核 4.8.
</p>
<h3>
<span id="Systemd_.E6.9C.8D.E5.8A.A1"></span><span class="mw-headline" id="Systemd_服务">Systemd 服务</span>
</h3>
<p><i>(可选)</i> 你也可以创建一个 <code>.service</code> 文件 (也可以用<a href="../en/Arch_User_Repository.html" class="mw-redirect" title="AUR">AUR</a>中的<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/vmware-systemd-services/">vmware-systemd-services</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">断开的链接</a>：package not found]</sup>包)，而不是直接使用 <code>/etc/init.d/vmware</code> (<code>start|stop|status|restart</code>) 和 <code>/usr/bin/vmware-usbarbitrator</code> 来管理服务：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/vmware.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=VMware daemon
Requires=vmware-usbarbitrator.service
Before=vmware-usbarbitrator.service
After=network.target

[Service]
ExecStart=/etc/init.d/vmware start
ExecStop=/etc/init.d/vmware stop
PIDFile=/var/lock/subsys/vmware
RemainAfterExit=yes

[Install]
WantedBy=multi-user.target</pre>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/vmware-usbarbitrator.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=VMware USB Arbitrator
Requires=vmware.service
After=vmware.service

[Service]
ExecStart=/usr/bin/vmware-usbarbitrator
ExecStop=/usr/bin/vmware-usbarbitrator --kill
RemainAfterExit=yes

[Install]
WantedBy=multi-user.target</pre>
<p>如果你想在另一个Workstation服务器控制台上连接此次安装的VMware Workstation，请添加下面的服务
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/systemd/system/vmware-workstation-server.service</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">[Unit]
Description=VMware Workstation Server
Requires=vmware.service
After=vmware.service

[Service]
ExecStart=/etc/init.d/vmware-workstation-server start
ExecStop=/etc/init.d/vmware-workstation-server stop
PIDFile=/var/lock/subsys/vmware-workstation-server
RemainAfterExit=yes

[Install]
WantedBy=multi-user.target</pre>
<p>之后您就可以在启动时<a href="../en/Systemd.html#Using_units" class="mw-redirect" title="Enable">enable</a>它们.
</p>
<h4>
<span id="Workstation_Server.E6.9C.8D.E5.8A.A1"></span><span class="mw-headline" id="Workstation_Server服务">Workstation Server服务</span>
</h4>
<p>服务<code>vmware-workstation-server.service</code>将调用<code>wssc-adminTool</code>，即使后者已经被重命名作<code>vmware-wssc-adminTool</code>.
</p>
<p>这将阻止该服务启动。创建一个文件链接可以修复这个问题：
</p>
<pre># ln -s wssc-adminTool /usr/lib/vmware/bin/vmware-wssc-adminTool
</pre>
<h2>
<span id=".E5.90.AF.E5.8A.A8.E7.A8.8B.E5.BA.8F"></span><span class="mw-headline" id="启动程序">启动程序</span>
</h2>
<p>启动VMware Workstation Pro:
</p>
<pre>$ vmware
</pre>
<p>或Player:
</p>
<pre>$ vmplayer
</pre>
<h2>
<span id=".E6.8F.90.E7.A4.BA.E5.92.8C.E6.8A.80.E5.B7.A7"></span><span class="mw-headline" id="提示和技巧">提示和技巧</span>
</h2>
<h3>
<span id=".E8.BE.93.E5.85.A5Workstation_Pro.E8.AE.B8.E5.8F.AF.E5.AF.86.E9.92.A5"></span><span class="mw-headline" id="输入Workstation_Pro许可密钥">输入Workstation Pro许可密钥</span>
</h3>
<h4>
<span id=".E4.BB.8E.E7.BB.88.E7.AB.AF"></span><span class="mw-headline" id="从终端">从终端</span>
</h4>
<pre># /usr/lib/vmware/bin/vmware-vmx-debug --new-sn XXXXX-XXXXX-XXXXX-XXXXX-XXXXX
</pre>
<p><code>XXXXX-XXXXX-XXXXX-XXXXX-XXXXX</code> 处是你的许可密钥。
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> The <code>-debug</code> binary informs the user of an incorrect license.</div>
<h4>
<span id=".E4.BB.8E_GUI"></span><span class="mw-headline" id="从_GUI">从 GUI</span>
</h4>
<p>如果以上方法无效，你可以试试:
</p>
<pre># /usr/lib/vmware/bin/vmware-enter-serial
</pre>
<h3>
<span id=".E8.A7.A3.E5.8E.8B.E7.BC.A9_VMware_BIOS"></span><span class="mw-headline" id="解压缩_VMware_BIOS">解压缩 VMware BIOS</span>
</h3>
<pre>$ objcopy /usr/lib/vmware/bin/vmware-vmx -O binary -j bios440 --set-section-flags bios440=a bios440.rom.Z
$ perl -e 'use Compress::Zlib; my $v; read STDIN, $v, '$(stat -c%s "./bios440.rom.Z")'; $v = uncompress($v); print $v;' &lt; bios440.rom.Z &gt; bios440.rom
</pre>
<h3>
<span id=".E8.A7.A3.E5.8E.8B.E7.BC.A9.E5.AE.89.E8.A3.85.E7.A8.8B.E5.BA.8F"></span><span class="mw-headline" id="解压缩安装程序">解压缩安装程序</span>
</h3>
<p>查看安装程序<code>.bundle</code>的内容:
</p>
<pre>$ sh VMware-<i>edition</i>-<i>version</i>.<i>release</i>.<i>architecture</i>.bundle --extract <i>/tmp/vmware-bundle/</i>
</pre>
<h4>
<span id=".E4.BD.BF.E7.94.A8.E4.BF.AE.E6.94.B9.E8.BF.87.E7.9A.84_BIOS"></span><span class="mw-headline" id="使用修改过的_BIOS">使用修改过的 BIOS</span>
</h4>
<p>如果你决定修改解压出的BIOS，你可以通过将其移动至<code>~/vmware/&lt;Virtual machine name&gt;</code>来让虚拟机使用它:
</p>
<pre>$ mv bios440.rom ~/vmware/<i>Virtual_machine_name</i>/
</pre>
<p>然后在 <code>&lt;Virtual machine name&gt;.vmx</code> 文件中加入它的名称：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/vmware/<i>Virtual_machine_name</i>/<i>Virtual_machine_name</i>.vmx</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">bios440.filename = "bios440.rom"</pre>
<h3>
<span id=".E5.9C.A8Intel.E5.92.8COptimus.E4.B8.8A.E5.90.AF.E7.94.A83D.E5.9B.BE.E5.BD.A2"></span><span class="mw-headline" id="在Intel和Optimus上启用3D图形">在Intel和Optimus上启用3D图形</span>
</h3>
<p>由于不理想和（或）不稳定的3D加速，某些图形驱动是默认被阻止的。当启用<i>Accelerate 3D graphics</i>后，log中应该会出现：
</p>
<pre>Disabling 3D on this host due to presence of Mesa DRI driver.  Set mks.gl.allowBlacklistedDrivers = TRUE to override.
</pre>
<p>这表示：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/.vmware/preferences</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">mks.gl.allowBlacklistedDrivers = TRUE</pre>
<h2>
<span id=".E7.96.91.E9.9A.BE.E8.A7.A3.E7.AD.94"></span><span class="mw-headline" id="疑难解答">疑难解答</span>
</h2>
<h3>
<span id=".E9.94.99.E8.AF.AF.EF.BC.9AKernel_headers_for_version_4.x-xxxx_were_not_found._If_you_installed_them.5B....5D"></span><span class="mw-headline" id="错误：Kernel_headers_for_version_4.x-xxxx_were_not_found._If_you_installed_them[...]">错误：Kernel headers for version 4.x-xxxx were not found. If you installed them[...]</span>
</h3>
<p>安装 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=linux-headers">linux-headers</a></span>。
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 更新内核和头文件会需要你启动新的内核以匹配头文件的版本。这是一个相对常见的错误。</div>
<h3>
<span id=".E6.97.A0.E6.B3.95.E8.AF.86.E5.88.AB_USB_.E8.AE.BE.E5.A4.87"></span><span class="mw-headline" id="无法识别_USB_设备">无法识别 USB 设备</span>
</h3>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>提示：</strong> 可以通过 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/vmware-patch/">vmware-patch</a></span><sup><small>AUR</small></sup><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">断开的链接</a>：package not found]</sup> 解决。</div>
<p>如果不使用<a href="#Systemd_%E6%9C%8D%E5%8A%A1">#Systemd 服务</a>来处理服务，你每次都需要以root身份手动启动<code>vmware-usbarbitrator</code>.
</p>
<p>启动：
</p>
<pre># vmware-usbarbitrator
</pre>
<p>停止:
</p>
<pre># vmware-usbarbitrator --kill
</pre>
<h3>
<span id=".E5.BD.93.E8.BF.9C.E7.A8.8B.E8.AE.BF.E9.97.AEVMware.E6.97.B6.EF.BC.8C.E9.81.87.E5.88.B0.E4.B8.8D.E6.AD.A3.E7.A1.AE.E7.9A.84.E7.94.A8.E6.88.B7.E5.90.8D.2F.E5.AF.86.E7.A0.81.E9.94.99.E8.AF.AF"></span><span class="mw-headline" id="当远程访问VMware时，遇到不正确的用户名/密码错误">当远程访问VMware时，遇到不正确的用户名/密码错误</span>
</h3>
<p>VMware Workstation通过<code>vmware-workstation-server</code>服务来提供远程管理共享的虚拟机的功能。然而，这将以错误<code>"incorrect username/password"</code>而告终，因为<code>vmware-authd</code>服务中，<a href="../en/PAM.html" title="PAM">PAM</a>的相关配置出错了。通过编辑<code>/etc/pam.d/vmware-authd</code>来解决问题:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/pam.d/vmware-authd</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">#%PAM-1.0
auth     <i>required       pam_unix.so</i>
account  <i>required       pam_unix.so</i>
password <i>required       pam_permit.so</i>
session  <i>required       pam_unix.so</i>
</pre>
<p>然后重新启动<code>vmware</code><a href="../en/Systemd.html" title="Systemd">systemd</a>服务。
</p>
<p>现在你能通过安装时提供的身份信息来登录这个服务器了。
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>Note:</strong> 也许会需要<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=libxslt">libxslt</a></span>来启动虚拟机</div>
<h3>
<span id="ALSA.E8.BE.93.E5.87.BA.E7.9A.84.E9.97.AE.E9.A2.98"></span><span class="mw-headline" id="ALSA输出的问题">ALSA输出的问题</span>
</h3>
<p><a rel="nofollow" class="external text" href="http://bankimbhavsar.blogspot.co.nz/2011/09/hd-audio-in-vmware-fusion-4-and-vmware.html">修复</a>音质问题或正确启用高清音频输出。首先执行:
</p>
<pre>$ aplay -L
</pre>
<p>如果希望在客户机中播放5.1 <i>立体声</i>，寻找<code>surround51:CARD=<i>vendor_name</i>,DEV=<i>num</i></code>；如果存在音质问题，寻找<code>front:CARD=<i>vendor_name</i>,DEV=<i>num</i></code>。最后将名称加入到<code>.vmx</code>文件中:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">~/vmware/<i>Virtual_machine_name</i>/<i>Virtual_machine_name</i>.vmx</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">sound.fileName=<i>"surround51:CARD=Live,DEV=0"</i>
sound.autodetect=<i>"FALSE"</i></pre>
<p><a href="../en/Advanced_Linux_Sound_Architecture.html#OSS_compatibility" title="Advanced Linux Sound Architecture">OSS模拟</a>也应该被禁用.
</p>
<h3>
<span id=".E9.94.99.E8.AF.AF.EF.BC.9AKernel-based_Virtual_Machine_.28KVM.29_is_running"></span><span class="mw-headline" id="错误：Kernel-based_Virtual_Machine_(KVM)_is_running">错误：Kernel-based Virtual Machine (KVM) is running</span>
</h3>
<p>禁止<code>KVM</code>自动启动，你可以：
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/modprobe.d/vmware.conf</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">blacklist kvm
blacklist kvm-amd   # For AMD CPUs
blacklist kvm-intel # For Intel CPUs
</pre>
<h3>
<span id=".E7.BB.84.E4.BB.B6.E9.97.AE.E9.A2.98"></span><span class="mw-headline" id="组件问题">组件问题</span>
</h3>
<h4>
<span id=".E9.94.99.E8.AF.AF.EF.BC.9A.2Fdev.2Fvmmon_not_found"></span><span class="mw-headline" id="错误：/dev/vmmon_not_found">错误：/dev/vmmon not found</span>
</h4>
<p>完整的错误是:
</p>
<pre>Could not open /dev/vmmon: No such file or directory.
Please make sure that the kernel module `vmmon' is loaded.
</pre>
<p>这意味着未加载<code>vmmon</code>模块.参见<a href="#Systemd_%E6%9C%8D%E5%8A%A1">#Systemd 服务</a>章节
</p>
<h4>
<span id=".E9.94.99.E8.AF.AF.EF.BC.9A.2Fdev.2Fvmci_not_found"></span><span class="mw-headline" id="错误：/dev/vmci_not_found">错误：/dev/vmci not found</span>
</h4>
<p>完整的错误是:
</p>
<pre>Failed to open device "/dev/vmci": No such file or directory
Please make sure that the kernel module 'vmci' is loaded.
</pre>
<p>尝试重新编译VMware内核模块：
</p>
<pre># vmware-modconfig --console --install-all
</pre>
<h4>
<span id=".E5.9C.A8Linux_4.9.E5.90.8E.E5.86.85.E6.A0.B8.E6.A8.A1.E5.9D.97.E6.97.A0.E6.B3.95.E7.BC.96.E8.AF.91"></span><span class="mw-headline" id="在Linux_4.9后内核模块无法编译">在Linux 4.9后内核模块无法编译</span>
</h4>
<p>对于VMware Workstation Pro 12.5.2，模块的源码必须作出修改，以便于在Linux 4.9上编译 <a rel="nofollow" class="external autonumber" href="http://rglinuxtech.com/?p=1847">[1]</a>。
</p>
<pre># cd /usr/lib/vmware/modules/source
# tar xf vmmon.tar
# mv vmmon.tar vmmon.old.tar
# sed -i 's/uvAddr, numPages, 0, 0/uvAddr, numPages, 0/g' vmmon-only/linux/hostif.c
# tar cf vmmon.tar vmmon-only
# rm -r vmmon-only
</pre>
<pre># tar xf vmnet.tar
# mv vmnet.tar vmnet.old.tar
# sed -i 's/addr, 1, 1, 0/addr, 1, 0/g' vmnet-only/userif.c
# tar cf vmnet.tar vmnet-only
# rm -r vmnet-only
</pre>
<h4>
<span id="VMware.E6.A8.A1.E5.9D.97.E5.9C.A8Linux.E5.86.85.E6.A0.B84.11.2B.E4.B8.8A.EF.BC.88.E5.9C.A8GCC7.E4.B8.8B.EF.BC.89.E7.BC.96.E8.AF.91.E5.A4.B1.E8.B4.A5"></span><span class="mw-headline" id="VMware模块在Linux内核4.11+上（在GCC7下）编译失败">VMware模块在Linux内核4.11+上（在GCC7下）编译失败</span>
</h4>
<p>运行vmware-modconfig时返回：
</p>
<pre>Failed to get gcc information.
</pre>
<p>详细的错误信息能在日志中被找到：
</p>
<pre>modconfig| I125: Got gcc version "6.3.1".
modconfig| I125: GCC major version 6 does not match Kernel GCC major version 7.
modconfig| I125: The GCC compiler "/sbin/gcc" cannot be used for the target kernel.
</pre>
<p>为跳过检查，使用下面的解决方案：
</p>
<pre># sed 's/gcc version 7/gcc version 6/' /proc/version &gt; /tmp/version
# mount --bind /tmp/version /proc/version
# vmware-modconfig --console --install-all
# umount /proc/version &amp;&amp; rm /tmp/version
</pre>
<h4>
<span id="VMware_.E6.A8.A1.E5.9D.97.E5.9C.A8_Linux_4.13_.E7.89.88.E5.86.85.E6.A0.B8.E4.B8.8A.E7.BC.96.E8.AF.91.E5.A4.B1.E8.B4.A5"></span><span class="mw-headline" id="VMware_模块在_Linux_4.13_版内核上编译失败">VMware 模块在 Linux 4.13 版内核上编译失败</span>
</h4>
<p>VMware Workstation Pro 12.5.7 版本的内核模块代码需要做出一定修改，才能够成功地为 4.13 版 Linux 内核编译。出处：<a rel="nofollow" class="external autonumber" href="https://communities.vmware.com/thread/568089">[2]</a>。
</p>
<pre># cd /usr/lib/vmware/modules/source
# tar xf vmnet.tar
# mv vmnet.tar vmnet.old.tar
# sed -i 's/atomic_inc(&amp;clone-&gt;users);/clone = skb_get(clone);/g' vmnet-only/bridge.c
# tar cf vmnet.tar vmnet-only
# rm -r vmnet-only
</pre>
<h3>
<span id=".E5.AE.89.E8.A3.85.E7.A8.8B.E5.BA.8F.E5.90.AF.E5.8A.A8.E5.A4.B1.E8.B4.A5"></span><span class="mw-headline" id="安装程序启动失败">安装程序启动失败</span>
</h3>
<p>如果你回到了执行<code>.bundle</code>时的终端提示，则这个版本的VMware Installer也许坏掉了或者不完整，你应该删掉它（你也许也应该参照<a href="#%E5%8D%B8%E8%BD%BD">#卸载</a>一节中的内容）:
</p>
<pre># rm -r /etc/vmware-installer
</pre>
<h4>
<span id=".E7.94.A8.E6.88.B7.E7.95.8C.E9.9D.A2.E5.88.9D.E5.A7.8B.E5.8C.96.E5.A4.B1.E8.B4.A5"></span><span class="mw-headline" id="用户界面初始化失败">用户界面初始化失败</span>
</h4>
<p>你也许会看到这样的错误：
</p>
<pre>Extracting VMware Installer...done.
No protocol specified
No protocol specified
User interface initialization failed.  Exiting.  Check the log for details.
</pre>
<p>这可以通过安装<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ncurses5-compat-libs/">ncurses5-compat-libs</a></span><sup><small>AUR</small></sup>或者临时允许X拥有root权限来解决：
</p>
<pre>$ xhost +
$ sudo ./&lt;vmware filename&gt;.bundle
$ xhost -
</pre>
<h3>
<span id="VMware.E5.90.AF.E5.8A.A8.E5.A4.B1.E8.B4.A5"></span><span class="mw-headline" id="VMware启动失败">VMware启动失败</span>
</h3>
<h4>
<span id=".E6.97.A7.E7.9A.84Intel.E5.BE.AE.E6.8C.87.E4.BB.A4.E5.9C.A8.E5.90.AF.E5.8A.A8.E6.97.B6.E4.BA.A7.E7.94.9F.E6.AE.B5.E9.94.99.E8.AF.AF"></span><span class="mw-headline" id="旧的Intel微指令在启动时产生段错误">旧的Intel微指令在启动时产生段错误</span>
</h4>
<p>旧的Intel微指令可能会在启动时产生这样的段错误：
</p>
<pre>/usr/bin/vmware: line 31: 4941 Segmentation fault "$BINDIR"/vmware-modconfig --appname="VMware Workstation" --icon="vmware-workstation"
</pre>
<p>参阅<a href="../en/Microcode.html" title="Microcode">Microcode</a>了解如何更新微指令
</p>
<h4>
<span id=".E7.89.88.E6.9C.AC.E5.8F.B7.E4.B8.BA12.5.4.E7.9A.84vmplayer.2Fvmware.E6.97.A0.E6.B3.95.E5.90.AF.E5.8A.A8"></span><span class="mw-headline" id="版本号为12.5.4的vmplayer/vmware无法启动">版本号为12.5.4的vmplayer/vmware无法启动</span>
</h4>
<p>如<a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?id=224667">[3]</a>中所述，临时的解决方案是将包<code>libpng</code>降级至1.6.28-1版本，并将其加入<code>IgnorePkg</code>参数以忽略升级（参见<a href="../en/Pacman.html#Skip_package_from_being_upgraded" title="Pacman">/etc/pacman.conf</a>）。
</p>
<p>更方便的解决方案是令VMware使用系统的zlib而不是它自己的：
</p>
<pre># cd /usr/lib/vmware/lib/libz.so.1
# mv libz.so.1 libz.so.1.old
# ln -s /usr/lib/libz.so.1 .
</pre>
<h4>
<span id=".E7.89.88.E6.9C.AC.E5.8F.B7.E4.B8.BA12.5.3-12.5.5.E7.9A.84vmplayer.2Fvmware.E6.97.A0.E6.B3.95.E5.90.AF.E5.8A.A8"></span><span class="mw-headline" id="版本号为12.5.3-12.5.5的vmplayer/vmware无法启动">版本号为12.5.3-12.5.5的vmplayer/vmware无法启动</span>
</h4>
<p>这貌似是文件<code>/usr/lib/vmware/lib/libstdc++.so.6/libstdc++.so.6</code>中的问题，<code>CXXABI_1.3.8</code>缺失。
</p>
<p>如果系统安装了<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gcc-libs">gcc-libs</a></span>或者<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gcc-libs-multilib">gcc-libs-multilib</a></span><sup>[<a href="../en/Help:Procedures.html#Fix_broken_package_links" title="Help:Procedures">断开的链接</a>：replaced by <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=gcc-libs">gcc-libs</a></span>]</sup>，那个库就已经被安装了。因此，直接移除那个出错的文件将使vmplayer使用gcc-libs提供的版本。使用root执行：
</p>
<pre># mv /usr/lib/vmware/lib/libstdc++.so.6/libstdc++.so.6 /usr/lib/vmware/lib/libstdc++.so.6/libstdc++.so.6.bak
</pre>
<p>同时有另一个解决方案：
</p>
<pre># export VMWARE_USE_SHIPPED_LIBS='yes'
</pre>
<h4>
<span id="vmware_12.E7.9A.84.E8.BF.9B.E7.A8.8B.E5.9C.A8.E5.90.AF.E5.8A.A8.E4.B9.8B.E5.90.8E.E7.AB.8B.E5.8D.B3.E7.BB.88.E6.AD.A2.EF.BC.8C.E6.B2.A1.E6.9C.89.E6.98.BE.E7.A4.BAGUI"></span><span class="mw-headline" id="vmware_12的进程在启动之后立即终止，没有显示GUI">vmware 12的进程在启动之后立即终止，没有显示GUI</span>
</h4>
<p>这是<a rel="nofollow" class="external text" href="https://bugs.mageia.org/show_bug.cgi?id=9739">Mageia</a>中已知的Bug，但是对于Arch，终端里似乎并没有任何错误信息输出。检阅位于<code>/tmp/vmware-&lt;id&gt;</code>里的日志文件，会发现启动vmware或vmplaer后，产生了<code>VMWARE_SHIPPED_LIBS_LIST is not set</code>, <code>VMWARE_SYSTEM_LIBS_LIST is not set</code>, <code>VMWARE_USE_SHIPPED_LIBS is not set</code>, <code>VMWARE_USE_SYSTEM_LIBS is not set</code>问题。进程在<code>Unable to execute /usr/lib/vmware/bin/vmware-modconfig.</code>后结束。解决方案是，以root身份执行：
</p>
<pre># mv /etc/vmware/icu/icudt44l.dat /etc/vmware/icu/icudt44l.dat.bak
</pre>
<p>同时有另一个解决方案：
</p>
<pre># export VMWARE_USE_SHIPPED_LIBS='yes'
</pre>
<p>如果在版本<b>12.5.7</b>上出现问题，并且移动<code>icudt44l.dat</code>或者设置<code>VMWARE_USE_SHIPPED_LIBS</code>为<code>yes</code>不起作用，或者在终端内执行<code>vmplayer</code>无输出，尝试以root权限执行：
</p>
<pre># cd /usr/lib/vmware/lib/libz.so.1
# mv libz.so.1 libz.so.1.old
# ln -s /usr/lib/libz.so.1 .
</pre>
<p>尽管设置了VMWARE_USE_SHIPPED_LIBS变量，VMware仍有可能找不到某些库文件，比如libfontconfig.so.1。查看VMware位于tmp目录中的日志来检查哪些库文件未被找到，并将对应的系统库文件拷贝至合适的路径：
</p>
<pre># cp /usr/lib/libfontconfig.so.1 /usr/lib/vmware/lib/libfontconfig.so.1/
</pre>
<h3>
<span id=".E5.AE.A2.E6.88.B7.E6.9C.BA.E9.97.AE.E9.A2.98"></span><span class="mw-headline" id="客户机问题">客户机问题</span>
</h3>
<h4>
<span id=".E6.97.A0.E6.B3.95.E4.B8.BA.E5.AE.A2.E6.88.B7.E6.9C.BA.E4.B8.8B.E8.BD.BDVMware_Tools"></span><span class="mw-headline" id="无法为客户机下载VMware_Tools">无法为客户机下载VMware Tools</span>
</h4>
<p>访问<a rel="nofollow" class="external text" href="http://softwareupdate.vmware.com/cds/vmw-desktop/">VMware repository</a>来手动下载这些工具。
</p>
<p>导航至："<i>application name</i> / <i>version</i> / <i>build ID</i> / linux / packages/"来下载合适的工具。
</p>
<p>解压：
</p>
<pre>$ tar -xvf vmware-tools-<i>name</i>-<i>version</i>-<i>buildID</i>.x86_64.component.tar
</pre>
<p>并通过VMware安装程序安装：
</p>
<pre># vmware-installer --install-component=<i>/path/</i>vmware-tools-<i>name</i>-<i>version</i>-<i>buildID</i>.x86_64.component
</pre>
<p>如果上述步骤不管用，尝试安装<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/ncurses5-compat-libs/">ncurses5-compat-libs</a></span><sup><small>AUR</small></sup>
</p>
<h4>
<span id=".E9.94.99.E8.AF.AF.EF.BC.9AGuests_have_incorrect_system_clocks_or_are_unable_to_boot:_.22.5B....5DtimeTracker_user.c:234_bugNr.3D148722.22"></span><span class="mw-headline" id='错误：Guests_have_incorrect_system_clocks_or_are_unable_to_boot:_"[...]timeTracker_user.c:234_bugNr=148722"'>错误：Guests have incorrect system clocks or are unable to boot: "[...]timeTracker_user.c:234 bugNr=148722"</span>
</h4>
<p>这是由于在VMware Linux中<a rel="nofollow" class="external text" href="http://kb.vmware.com/selfservice/microsites/search.do?cmd=displayKC&amp;externalId=1591">不完整的</a>对电源管理功能的支持导致的CPU频率的变化（<a href="https://en.wikipedia.org/wiki/Intel_speedstep" class="extiw" title="wikipedia:Intel speedstep">Intel SpeedStep</a>和<a href="https://en.wikipedia.org/wiki/AMD_powernow" class="extiw" title="wikipedia:AMD powernow">AMD PowerNow!</a>/<a href="https://en.wikipedia.org/wiki/Cool%27n%27Quiet" class="extiw" title="wikipedia:Cool'n'Quiet">Cool'n'Quiet</a>）。2012年，随着<a rel="nofollow" class="external text" href="https://github.com/archlinux/svntogit-packages/commit/9abe018d91a5d8c3af7523d30b8aa73f86b680be/trunk/config.x86_64">linux 3.3-1</a>的发布，最大CPU频率<a href="../en/CPU_frequency_scaling.html#Scaling_governors" class="mw-redirect" title="CPU frequency governors">Performance</a>的管理者被动态的<i>Ondemand</i>替代。当宿主的CPU频率变化时，客户机的时钟会运行过快或过慢，同时也可能会导致客户机无法启动。
</p>
<p>为规避该问题，宿主CPU的最高频率可以被指定，并禁用<a href="https://en.wikipedia.org/wiki/Time_Stamp_Counter" class="extiw" title="wikipedia:Time Stamp Counter">时间戳计数器</a>(TSC)。在整体设置中:
</p>
<pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/vmware/config</pre>
<pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">host.cpukHz = "X"  # The maximum speed in KHz, e.g. 3GHz is "3000000".
host.noTSC = "TRUE" # Keep the Guest system clock accurate even when
ptsc.noTSC = "TRUE" # the time stamp counter (TSC) is slow.</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>提示：</strong> 若要每隔一分钟修正一次时钟，在VMware Tools下的<i>Options</i>选项卡中，启用: <i>"Time synchronization between the virtual machine and the host operating system"</i>.</div>
<h4>
<span id="Guests.E7.B3.BB.E7.BB.9F.E5.90.AF.E5.8A.A8.E5.90.8E.E7.BD.91.E7.BB.9C.E4.B8.8D.E5.8F.AF.E7.94.A8"></span><span class="mw-headline" id="Guests系统启动后网络不可用">Guests系统启动后网络不可用</span>
</h4>
<p>这可能是 <code>vmnet</code> 模块没有加载 <a rel="nofollow" class="external autonumber" href="http://www.linuxquestions.org/questions/slackware-14/could-not-connect-ethernet0-to-virtual-network-dev-vmnet8-796095/">[4]</a>。又见<a href="#Systemd_%E6%9C%8D%E5%8A%A1">#Systemd 服务</a>自动加载。
</p>
<h2>
<span id=".E5.8D.B8.E8.BD.BD"></span><span class="mw-headline" id="卸载">卸载</span>
</h2>
<p>为卸载VMware你首先需要知道产品名称(<code>vmware-workstation</code> 或是 <code>vmware-player</code>)。列出所有的产品：
</p>
<pre># vmware-installer -l
</pre>
<p>然后通过下面的指令卸载(使用<code>--required</code>跳过所有的确认):
</p>
<pre># vmware-installer -u <i>product</i> --required
</pre>
<div class="archwiki-template-box archwiki-template-box-tip">
<strong>提示：</strong> 加上<code>--console</code>来使用终端UI</div>
<p>记得要<a href="../en/Systemd.html#Using_units" class="mw-redirect" title="Disable">disable</a>和删除<code>.service</code>文件:
</p>
<pre># rm /etc/systemd/system/vmware.service
# rm /etc/systemd/system/vmware-usbarbitrator.service
</pre>
<p>你可能还需要清理在<code>/usr/lib/modules/<i>kernel_name</i>/misc/</code>下的冗余文件，并且如果目录<code>/etc/init.d/</code>是空的话，删除它。
</p>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../zh-CN/Category:Virtualization.html" title="Category:Virtualization (简体中文)">Virtualization (简体中文)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="../en/Category:Pages_with_broken_package_links.html" title="Category:Pages with broken package links">Pages with broken package links</a></li></ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=VMware_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)&amp;oldid=646624">https://wiki.archlinux.org/index.php?title=VMware_(简体中文)&amp;oldid=646624</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 26 December 2020, at 11:07.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
