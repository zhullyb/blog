<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>X2Go (简体中文) - ArchWiki</title>
<link rel="stylesheet" href="../ArchWikiOffline.css">
<meta name="ResourceLoaderDynamicStyles" content="">
<meta name="generator" content="MediaWiki 1.35.0">
<meta name="robots" content="noindex,follow">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch_desc.php" title="ArchWiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="/index.php?title=Special:RecentChanges&amp;feed=atom">
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-X2Go_简体中文 rootpage-X2Go_简体中文 skin-vector action-view skin-vector-legacy">
<div id="content" class="mw-body" role="main" style="margin: 0">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">X2Go (简体中文)</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From ArchWiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr">
<div class="warningbox">The printable version is no longer supported and may have rendering errors. Please update your browser bookmarks and please use the default browser print function instead.</div>
<div class="mw-parser-output">
<div class="archwiki-template-meta-related-articles-start">
<p>Related articles</p>
<ul>
</ul>
</div>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>翻译状态：</strong>本文是 <a href="../en/X2Go.html" title="X2Go">X2Go</a> 的<a href="../zh-CN/ArchWiki:Translation_Team.html" title="ArchWiki:Translation Team (简体中文)">翻译</a>。上次翻译日期：2019-08-02。如果英文版本有所<a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php?title=X2Go&amp;diff=0&amp;oldid=571538">更改</a>，则您可以帮助同步翻译。</div>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a><b>本文或本节需要<a href="../zh-CN/ArchWiki:Contributing.html#%E7%BF%BB%E8%AF%91" title="ArchWiki:Contributing (简体中文)">翻译</a>。要贡献翻译，请访问<a href="../zh-CN/ArchWiki:Translation_Team.html" class="mw-redirect" title="ArchWiki Translation Team (简体中文)">简体中文翻译团队</a>。</b><a href="../File:Tango-preferences-desktop-locale.png" class="image"><img alt="Tango-preferences-desktop-locale.png" src="../File:Tango-preferences-desktop-locale.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>附注：</b> 请完善译文。（在 <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:X2Go_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">Talk:X2Go (简体中文)#</a> 中讨论）</div>
</div>
<p><a rel="nofollow" class="external text" href="http://wiki.x2go.org">X2Go</a> 使你可以通过网络访问一台计算机的图形化桌面。访问时的网络传输使用了 <a href="../zh-CN/Secure_Shell.html" title="Secure Shell (简体中文)">Secure Shell</a> 协议，因而传输是加密的。
</p>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> X2Go 并不能兼容所有桌面环境。你可以先查阅 <a rel="nofollow" class="external text" href="http://wiki.x2go.org/doku.php/doc:de-compat">X2Go 桌面环境兼容性</a>，尤其是当你要映射当前的桌面环境时。</div>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading">
<input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr">
<h2 id="mw-toc-heading">Contents</h2>
<span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#%E5%AE%89%E8%A3%85"><span class="tocnumber">1</span> <span class="toctext">安装</span></a></li>
<li class="toclevel-1 tocsection-2">
<a href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E9%85%8D%E7%BD%AE"><span class="tocnumber">2</span> <span class="toctext">服务器端配置</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#%E9%85%8D%E7%BD%AE_Secure_Shell_%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B"><span class="tocnumber">2.1</span> <span class="toctext">配置 Secure Shell 守护进程</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#%E5%8A%A0%E8%BD%BD_fuse_%E5%86%85%E6%A0%B8%E6%A8%A1%E5%9D%97"><span class="tocnumber">2.2</span> <span class="toctext">加载 fuse 内核模块</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#%E8%AE%BE%E7%BD%AE_SQLite_%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="tocnumber">2.3</span> <span class="toctext">设置 SQLite 数据库</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Control_published_applications"><span class="tocnumber">2.4</span> <span class="toctext">Control published applications</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#%E5%90%AF%E5%8A%A8_X2Go_%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B"><span class="tocnumber">2.5</span> <span class="toctext">启动 X2Go 服务器端守护进程</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8">
<a href="#%E5%AE%A2%E6%88%B7%E7%AB%AF%E9%85%8D%E7%BD%AE"><span class="tocnumber">3</span> <span class="toctext">客户端配置</span></a>
<ul>
<li class="toclevel-2 tocsection-9"><a href="#%E8%AE%BF%E9%97%AE%E6%9C%AC%E5%9C%B0%E6%A1%8C%E9%9D%A2"><span class="tocnumber">3.1</span> <span class="toctext">访问本地桌面</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%B8%8E%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%88%E6%A1%8C%E9%9D%A2%EF%BC%89%E4%BA%A4%E6%8D%A2%E6%95%B0%E6%8D%AE"><span class="tocnumber">3.2</span> <span class="toctext">客户端与服务器（桌面）交换数据</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#%E4%B8%B4%E6%97%B6%E7%A6%BB%E5%BC%80%E4%B8%80%E4%B8%AA%E4%BC%9A%E8%AF%9D"><span class="tocnumber">3.3</span> <span class="toctext">临时离开一个会话</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-12">
<a href="#%E6%8E%92%E9%94%99"><span class="tocnumber">4</span> <span class="toctext">排错</span></a>
<ul>
<li class="toclevel-2 tocsection-13">
<a href="#%E6%A1%8C%E9%9D%A2%E7%8E%AF%E5%A2%83%E4%B8%8D%E5%90%AF%E5%8A%A8"><span class="tocnumber">4.1</span> <span class="toctext">桌面环境不启动</span></a>
<ul>
<li class="toclevel-3 tocsection-14"><a href="#%E6%9C%AC%E5%9C%B0%E4%BC%9A%E8%AF%9D%E9%98%BB%E6%AD%A2%E4%BA%86_X2Go_%E7%9A%84%E6%96%B0%E4%BC%9A%E8%AF%9D"><span class="tocnumber">4.1.1</span> <span class="toctext">本地会话阻止了 X2Go 的新会话</span></a></li>
<li class="toclevel-3 tocsection-15"><a href="#%E8%B7%AF%E5%BE%84%E9%97%AE%E9%A2%98"><span class="tocnumber">4.1.2</span> <span class="toctext">路径问题</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-16"><a href="#x2go_%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%B8%AD%E6%97%A0%E9%80%89%E6%8B%A9%E5%B1%8F%E5%B9%95"><span class="tocnumber">4.2</span> <span class="toctext">x2go 客户端中无选择屏幕</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#%E4%BC%9A%E8%AF%9D%E6%B2%A1%E6%9C%89%E6%AD%A3%E5%B8%B8%E7%99%BB%E5%87%BA"><span class="tocnumber">4.3</span> <span class="toctext">会话没有正常登出</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#%E9%80%9A%E7%9F%A5%E5%8C%BA%E6%97%A0%E6%98%BE%E7%A4%BA"><span class="tocnumber">4.4</span> <span class="toctext">通知区无显示</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#%E5%85%B1%E4%BA%AB%E6%96%87%E4%BB%B6%E5%A4%B9%E6%9C%AA%E6%8C%82%E8%BD%BD%EF%BC%88Windows_%E5%AE%A2%E6%88%B7%E7%AB%AF%EF%BC%89"><span class="tocnumber">4.5</span> <span class="toctext">共享文件夹未挂载（Windows 客户端）</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#Workaround_for_failing_compositing_window_manager_for_remote_session"><span class="tocnumber">4.6</span> <span class="toctext">Workaround for failing compositing window manager for remote session</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#/bin/bash:_No_such_file_or_directory_when_connect_(or_what_ever_shell_you_use)"><span class="tocnumber">4.7</span> <span class="toctext">/bin/bash: No such file or directory when connect (or what ever shell you use)</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-22"><a href="#%E5%8F%82%E9%98%85"><span class="tocnumber">5</span> <span class="toctext">参阅</span></a></li>
</ul>
</div>

<h2>
<span id=".E5.AE.89.E8.A3.85"></span><span class="mw-headline" id="安装">安装</span>
</h2>
<p><a href="../en/Official_repositories.html" title="Official repositories">官方仓库</a>中提供了下列两个软件包供<a href="../en/Pacman.html" title="Pacman">安装</a> ：
</p>
<ul>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=x2goserver">x2goserver</a></span> - X2Go 服务器</li>
<li>
<span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=x2goclient">x2goclient</a></span> - 基于 Qt5 的 X2Go 客户端</li>
</ul>
<h2>
<span id=".E6.9C.8D.E5.8A.A1.E5.99.A8.E7.AB.AF.E9.85.8D.E7.BD.AE"></span><span class="mw-headline" id="服务器端配置">服务器端配置</span>
</h2>
<h3>
<span id=".E9.85.8D.E7.BD.AE_Secure_Shell_.E5.AE.88.E6.8A.A4.E8.BF.9B.E7.A8.8B"></span><span class="mw-headline" id="配置_Secure_Shell_守护进程">配置 Secure Shell 守护进程</span>
</h3>
<p>X2Go 使用 <a href="../zh-CN/Secure_Shell.html" title="Secure Shell (简体中文)">Secure Shell</a> 才能工作，所以你首先需要配置 sshd 守护进程使其允许 X11 转发并启动它。参阅 <a href="../zh-CN/Secure_Shell.html#X11_%E8%BD%AC%E5%8F%91" title="Secure Shell (简体中文)">Secure Shell - X11 转发</a><sup>[<a href="../en/ArchWiki:Requests.html#Broken_section_links" class="mw-redirect" title="ArchWiki:Requests">断开的链接</a>：无效的部分]</sup> 和 <a href="../zh-CN/Secure_Shell.html#%E7%AE%A1%E7%90%86_sshd_%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B" title="Secure Shell (简体中文)">Secure Shell - 管理 sshd 守护进程</a><sup>[<a href="../en/ArchWiki:Requests.html#Broken_section_links" class="mw-redirect" title="ArchWiki:Requests">断开的链接</a>：无效的部分]</sup>。
</p>
<h3>
<span id=".E5.8A.A0.E8.BD.BD_fuse_.E5.86.85.E6.A0.B8.E6.A8.A1.E5.9D.97"></span><span class="mw-headline" id="加载_fuse_内核模块">加载 fuse 内核模块</span>
</h3>
<p>为使服务器端能够访问客户端计算机上的文件，你需要加载 <code>fuse</code> <a href="../zh-CN/Kernel_module.html" class="mw-redirect" title="Kernel modules (简体中文)">内核模块</a>。
</p>
<p>你可以查看 <code>lsmod | grep fuse</code> 是否返回匹配项，若无，则需要加载 <code>fuse</code> <a href="../zh-CN/Kernel_module.html" title="Kernel module (简体中文)">内核模块</a>。
</p>
<h3>
<span id=".E8.AE.BE.E7.BD.AE_SQLite_.E6.95.B0.E6.8D.AE.E5.BA.93"></span><span class="mw-headline" id="设置_SQLite_数据库">设置 SQLite 数据库</span>
</h3>
<p>在服务器端执行下列命令以初始化 x2go 服务器运行所需的 SQLite 数据库：
</p>
<pre># x2godbadmin --createdb
</pre>
<h3><span class="mw-headline" id="Control_published_applications">Control published applications</span></h3>
<p>X2Go can publish the installed applications in a menu to the client.
This is controlled by the files in <code>/etc/x2go/applications/</code>. This location however is not created by default and can be created by creating a symlink to <code>/usr/share/applications/</code>.
</p>
<p>Alternatively instead of creating a symlink one could also create a folder and link only the desired applications instead.
See <a rel="nofollow" class="external autonumber" href="https://wiki.x2go.org/doku.php/wiki:advanced:published-applications">[1]</a> for more information.
</p>
<h3>
<span id=".E5.90.AF.E5.8A.A8_X2Go_.E6.9C.8D.E5.8A.A1.E5.99.A8.E7.AB.AF.E5.AE.88.E6.8A.A4.E8.BF.9B.E7.A8.8B"></span><span class="mw-headline" id="启动_X2Go_服务器端守护进程">启动 X2Go 服务器端守护进程</span>
</h3>
<p>至此，只需 <a href="../zh-CN/Systemd.html" title="Systemd (简体中文)">启动</a> <code>x2goserver.service</code> 即可。
</p>
<h2>
<span id=".E5.AE.A2.E6.88.B7.E7.AB.AF.E9.85.8D.E7.BD.AE"></span><span class="mw-headline" id="客户端配置">客户端配置</span>
</h2>
<p>运行 X2Go 客户端
</p>
<pre>$ x2goclient
</pre>
<div class="archwiki-template-box archwiki-template-box-note">
<strong>注意：</strong> 确保你可以打开一个从客户端到服务器的 ssh 会话 <code>ssh <i>username@host</i></code>
</div>
<p>现在，你可以创建多个会话，它们将出现在 X2Go 客户端程序主窗口的右面并且可以用鼠标点击选中。每一项都是由你的用户名、主机名、IP 地址和 SSH 连接端口组成。你还可以进一步基于不同连接速度（从 modem 到 LAN）以及想要远程启动的不同桌面环境定义若干个配置文件。
</p>
<h3>
<span id=".E8.AE.BF.E9.97.AE.E6.9C.AC.E5.9C.B0.E6.A1.8C.E9.9D.A2"></span><span class="mw-headline" id="访问本地桌面">访问本地桌面</span>
</h3>
<p>To access the local desktop, the one currently running on the server rather than a new one, one can choose the option "Connection to local desktop" in "session type" in the <i>X2Go Client</i> as long as the users match, if it is user <i>foo</i> accessing the session of user <i>foo</i>.
</p>
<p>无论如何，要访问本地不同用户的桌面，你需要安装 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages/x2godesktopsharing/">x2godesktopsharing</a></span><sup><small>AUR</small></sup> 并加载 <code>x2godesktopsharing</code>。
</p>
<h3>
<span id=".E5.AE.A2.E6.88.B7.E7.AB.AF.E4.B8.8E.E6.9C.8D.E5.8A.A1.E5.99.A8.EF.BC.88.E6.A1.8C.E9.9D.A2.EF.BC.89.E4.BA.A4.E6.8D.A2.E6.95.B0.E6.8D.AE"></span><span class="mw-headline" id="客户端与服务器（桌面）交换数据">客户端与服务器（桌面）交换数据</span>
</h3>
<p>在 x2go 客户端（例如：笔记本电脑）上，本地目录可被共享。服务器端将通过 fuse 和 sshfs 访问这些目录并将其挂载到服务器端你的家目录下的若干子目录上。这样你就可以在服务器上访问你的笔记本电脑上的数据或者互传文件。也可以每次启动会话时自动挂载共享目录。
</p>
<h3>
<span id=".E4.B8.B4.E6.97.B6.E7.A6.BB.E5.BC.80.E4.B8.80.E4.B8.AA.E4.BC.9A.E8.AF.9D"></span><span class="mw-headline" id="临时离开一个会话">临时离开一个会话</span>
</h3>
<p>X2Go 的另一个特色功能就是可以挂起一个会话。这意味着你可以从一个客户端里离开某一个会话，然后用另一个客户端重新打开这个会话（即便是同一地点的另一个客户端）。这样你可以在局域网启动一个会话，随后在笔记本电脑上重新打开这个会话。在此期间，会话数据由一个 <a href="../en/SQLite.html" title="SQLite">SQLite</a> 数据库存储和管理。会话的状态由一个名为 <i>x2gocleansessions</i> 的进程来保持。
</p>
<h2>
<span id=".E6.8E.92.E9.94.99"></span><span class="mw-headline" id="排错">排错</span>
</h2>
<h3>
<span id=".E6.A1.8C.E9.9D.A2.E7.8E.AF.E5.A2.83.E4.B8.8D.E5.90.AF.E5.8A.A8"></span><span class="mw-headline" id="桌面环境不启动">桌面环境不启动</span>
</h3>
<h4>
<span id=".E6.9C.AC.E5.9C.B0.E4.BC.9A.E8.AF.9D.E9.98.BB.E6.AD.A2.E4.BA.86_X2Go_.E7.9A.84.E6.96.B0.E4.BC.9A.E8.AF.9D"></span><span class="mw-headline" id="本地会话阻止了_X2Go_的新会话">本地会话阻止了 X2Go 的新会话</span>
</h4>
<p>当本地已经有一个桌面会话在运行而 X2Go 尝试新建一个会话时失败。这是典型的 D-Bus 相关的问题，详情参阅 <a rel="nofollow" class="external autonumber" href="https://bugzilla.redhat.com/show_bug.cgi?id=1350004">[2]</a>。
如果 D-Bus 启动失败，尝试用<i>定制桌面</i>类型代替默认的会话类型。For the command, use the desktop starter as an option of <code>dbus-launch</code>, for example <code>dbus-launch startxfce4</code>. This is a way to launch a session bus instance, set the appropriate environment variables so that the new session can find the bus.
</p>
<h4>
<span id=".E8.B7.AF.E5.BE.84.E9.97.AE.E9.A2.98"></span><span class="mw-headline" id="路径问题">路径问题</span>
</h4>
<p>用 ssh 登录时，桌面环境的可执行程序（如 <i>startkde</i>、<i>startgnome</i> 或 <i>startxfce4</i> 等）可能未包含在 <code>$PATH</code> 环境变量中。在此情况下，不要简单地选择默认的 KDE、Gnome 或 XFCE，而应使用桌面环境可执行程序的全路径，例如 <code>/usr/bin/startxfce4</code>。
也可以启动 <a href="../en/Openbox.html" title="Openbox">openbox</a> 或其他窗口管理器，这会提示你输入服务器的用户名和口令，然后会看到 X2Go 图标一闪而过随后进入桌面。
</p>
<h3>
<span id="x2go_.E5.AE.A2.E6.88.B7.E7.AB.AF.E4.B8.AD.E6.97.A0.E9.80.89.E6.8B.A9.E5.B1.8F.E5.B9.95"></span><span class="mw-headline" id="x2go_客户端中无选择屏幕">x2go 客户端中无选择屏幕</span>
</h3>
<p>由于 <span class="plainlinks archwiki-template-pkg"><a rel="nofollow" class="external text" href="https://archlinux.org/packages/?name=iproute2">iproute2</a></span> 的回退导致 <i>ss</i> 指定了 <code>-u</code> 标记时不显示结果，as done in <code>/usr/bin/x2golistdesktops</code>。<a rel="nofollow" class="external autonumber" href="https://marc.info/?l=linux-netdev&amp;m=143018447007958&amp;w=2">[3]</a>
</p>
<p>详情参阅 <a rel="nofollow" class="external autonumber" href="http://bugs.x2go.org/cgi-bin/bugreport.cgi?bug=799">[4]</a>，<a rel="nofollow" class="external autonumber" href="https://bbs.archlinux.org/viewtopic.php?pid=1541035">[5]</a>。
</p>
<h3>
<span id=".E4.BC.9A.E8.AF.9D.E6.B2.A1.E6.9C.89.E6.AD.A3.E5.B8.B8.E7.99.BB.E5.87.BA"></span><span class="mw-headline" id="会话没有正常登出">会话没有正常登出</span>
</h3>
<p>由于<a rel="nofollow" class="external text" href="http://bugs.x2go.org/cgi-bin/bugreport.cgi?bug=914">这个 bug</a> 导致 X2Go 会话可能不能正常登出。X2Go 可能被会话初始化脚本输出的过量日志行搞懵了。一个简单的解决方法是定制一个会话脚本并且将日志输出重定向到某个文件或空文件<code>/dev/null</code>，然后指定把 X2Go 客户端应用程序指向这个定制脚本。
</p>
<p>以下是 XFCE 的一个定制脚本范例：
</p>
<pre>#!/bin/sh
#
#xfce4-session spits out quite a bit of text during logout, which I guess
#confuses x2go so we would get a black screen and session hang.
#adding redirect to a logfile like "~/logfile" or "/dev/null" nicely solved it
# see <a rel="nofollow" class="external free" href="http://bugs.x2go.org/cgi-bin/bugreport.cgi?bug=914">http://bugs.x2go.org/cgi-bin/bugreport.cgi?bug=914</a>
/usr/bin/xfce4-session &gt; /dev/null
</pre>
<h3>
<span id=".E9.80.9A.E7.9F.A5.E5.8C.BA.E6.97.A0.E6.98.BE.E7.A4.BA"></span><span class="mw-headline" id="通知区无显示">通知区无显示</span>
</h3>
<p>参照<a href="#%E6%9C%AC%E5%9C%B0%E4%BC%9A%E8%AF%9D%E9%98%BB%E6%AD%A2%E4%BA%86_X2Go_%E7%9A%84%E6%96%B0%E4%BC%9A%E8%AF%9D">#本地会话阻止了 X2Go 的新会话</a>的解决方法。
</p>
<h3>
<span id=".E5.85.B1.E4.BA.AB.E6.96.87.E4.BB.B6.E5.A4.B9.E6.9C.AA.E6.8C.82.E8.BD.BD.EF.BC.88Windows_.E5.AE.A2.E6.88.B7.E7.AB.AF.EF.BC.89"></span><span class="mw-headline" id="共享文件夹未挂载（Windows_客户端）">共享文件夹未挂载（Windows 客户端）</span>
</h3>
<p>The ssh-daemon used by the X2go windows client uses depreceated ssh-dss keys by default and because Arch does not accept them your shared folders will not mount. Check out this <a rel="nofollow" class="external text" href="http://bugs.x2go.org/cgi-bin/bugreport.cgi?bug=1009">bug report</a> for more information.
</p>
<p>This can be solved on the windows side by generating different type of key:
</p>
<pre>C:\Program Files (x86)\x2goclient\ssh-keygen -b 2048 -t rsa
</pre>
<p>And simply replace <code>c:\Users\User\.x2go\etc\ssh_host_dsa_key</code> and <code>c:\Users\User\.x2go\etc\ssh_host_dsa_key.pub</code> with the newly generated key files.
</p>
<p>Other workarrounds from <a rel="nofollow" class="external autonumber" href="http://bugs.x2go.org/cgi-bin/bugreport.cgi?bug=1009">[6]</a> might help, too.
</p>
<p><br>
</p>
<h3><span class="mw-headline" id="Workaround_for_failing_compositing_window_manager_for_remote_session">Workaround for failing compositing window manager for remote session</span></h3>
<div class="noprint archwiki-template-message">
<p><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a><b>This article or section needs language, wiki syntax or style improvements. See <a href="../en/Help:Style.html" title="Help:Style">Help:Style</a> for reference.</b><a href="../File:Tango-edit-clear.png" class="image"><img alt="Tango-edit-clear.png" src="../File:Tango-edit-clear.png" decoding="async" width="48" height="48"></a></p>
<div>
<b>Reason:</b> <span style="color:red;">please use the first argument of the template to provide a brief explanation.</span> (Discuss in <a rel="nofollow" class="external text" href="https://wiki.archlinux.org/index.php/Talk:X2Go_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">Talk:X2Go (简体中文)#</a>)</div>
</div>
<p>This is useful for situations, when the computer running x2goserver is used also for local sessions with e.g. compiz as the window manager. For remote connections with x2goclient, compiz fails to load and metacity should be used instead. The following is for GNOME, but could be modified for other desktop environments. (Getting compiz ready is not part of this how-to.)
</p>
<p>Create /usr/local/share/applications/gnome-wm-test.desktop:
</p>
<pre>[Desktop Entry]
Type=Application
Encoding=UTF-8
Name=gnome-wm-test
Exec=/usr/local/bin/gnome-wm-test.sh
NoDisplay=true
</pre>
<p>Create script /usr/local/bin/gnome-wm-test.sh:
</p>
<pre>#!/bin/sh
# Script for choosing compiz when possible, otherwise metacity
# Proper way to use this script is to set the key to mk-gnome-wm
# /desktop/gnome/session/required_components/windowmanager
xdpyinfo 2&gt; /dev/null | grep -q "^ *Composite$" 2&gt; /dev/null
IS_X_COMPOSITED=$?
if [ $IS_X_COMPOSITED -eq 0 ] ; then
    gtk-window-decorator &amp;
    WM="compiz ccp --indirect-rendering --sm-client-id $DESKTOP_AUTOSTART_ID"
else
    WM="metacity --sm-client-id=$DESKTOP_AUTOSTART_ID"
fi
exec bash -c "$WM"
</pre>
<p>Modify the following gconf key to start the session with gnome-wm-test window manager:
</p>
<pre>$ gconftool-2 --type string --set /desktop/gnome/session/required_components/windowmanager "gnome-wm-test"
</pre>
<h3>
<span id=".2Fbin.2Fbash:_No_such_file_or_directory_when_connect_.28or_what_ever_shell_you_use.29"></span><span class="mw-headline" id="/bin/bash:_No_such_file_or_directory_when_connect_(or_what_ever_shell_you_use)">/bin/bash: No such file or directory when connect (or what ever shell you use)</span>
</h3>
<p>In you ssh configuration, if you chroot a user, this user need to have his own /bin directory inside his chrooted directory. If not, you will not be able to connect.
</p>
<h2>
<span id=".E5.8F.82.E9.98.85"></span><span class="mw-headline" id="参阅">参阅</span>
</h2>
<ul>
<li><a rel="nofollow" class="external text" href="http://wiki.archlinux.de/?title=Bild:X2go-1.png">Screenshot KDE 会话截屏</a></li>
<li><a rel="nofollow" class="external text" href="http://wiki.archlinux.de/?title=Bild:X2go-2.png">Screenshot 配置对话框截屏</a></li>
</ul>
</div>
</div>
<div id="catlinks" class="catlinks" data-mw="interface">
<div id="mw-normal-catlinks" class="mw-normal-catlinks">
<a href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="../zh-CN/Category:Remote_desktop.html" title="Category:Remote desktop (简体中文)">Remote desktop (简体中文)</a></li></ul>
</div>
<div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul>
<li><a href="../zh-CN/Category:Pages_or_sections_flagged_with_Template:Translateme.html" title="Category:Pages or sections flagged with Template:Translateme (简体中文)">Pages or sections flagged with Template:Translateme (简体中文)</a></li>
<li><a href="../en/Category:Pages_with_broken_section_links.html" title="Category:Pages with broken section links">Pages with broken section links</a></li>
<li><a href="../en/Category:Pages_or_sections_flagged_with_Template:Style.html" title="Category:Pages or sections flagged with Template:Style">Pages or sections flagged with Template:Style</a></li>
</ul>
</div>
</div>
	</div>
</div>

<footer id="footer" class="mw-footer" role="contentinfo" style="margin: 0">
	<ul id="footer-info">
		<li>Retrieved from "<a dir="ltr" href="https://wiki.archlinux.org/index.php?title=X2Go_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)&amp;oldid=638686">https://wiki.archlinux.org/index.php?title=X2Go_(简体中文)&amp;oldid=638686</a>"</li>
		<li id="footer-info-lastmod"> This page was last edited on 14 October 2020, at 07:19.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License 1.3 or later</a> unless otherwise noted.</li>
	<br>
</ul>
	<ul id="footer-places">
		<li id="footer-places-privacy"><a href="../en/ArchWiki:Privacy_policy.html" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../en/ArchWiki:About.html" title="ArchWiki:About">About ArchWiki</a></li>
		<li id="footer-places-disclaimer"><a href="../en/ArchWiki:General_disclaimer.html" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico">
	</ul>
	<div style="clear: both;"></div>
</footer>



</body>
</html>
